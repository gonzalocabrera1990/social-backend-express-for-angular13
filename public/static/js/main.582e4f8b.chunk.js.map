{"version":3,"sources":["shared/assets/images/Carousel/1.png","shared/assets/images/Carousel/2.png","shared/assets/images/Carousel/3.png","components/HomeCarousel.js","components/HomeComponent.js","shared/baseUrl.js","components/NotificationsWindow.js","components/SearchWindow.js","components/HeaderComponent.js","shared/countries.js","components/RegisterForm.js","components/CommentComponent.js","components/LikesModal.js","components/LoadingComponent.js","components/UserPage.js","components/postSignup.js","components/SettingsComponent.js","components/UsersComponent.js","components/ImagenComponent.js","components/Inbox/ChatsComponent.js","components/Inbox/MensajesComponent.js","components/Inbox/AmigosComponent.js","components/socketio.js","components/OutloginComponent.js","components/StartComponent.js","components/RegisterFormNav.js","redux/ActionTypes.js","redux/ActionCreators.js","components/MainComponent.js","redux/auth.js","redux/user.js","redux/usersget.js","redux/signup.js","redux/start.js","redux/inbox.js","redux/settings.js","redux/notification.js","redux/followers.js","redux/following.js","redux/imagen.js","redux/likes.js","App.js","redux/configureStore.js","registerServiceWorker.js","index.js"],"names":["Carousel","propTypes","ride","PropTypes","oneOf","items","src","require","altText","caption","Carousele","props","useState","activeIndex","setActiveIndex","animating","setAnimating","slides","map","item","index","CarouselItem","className","onExiting","onExited","default","alt","next","nextIndex","length","previous","Home","state","isModalOpen","toggleModal","bind","handleLogin","this","setState","event","loginUser","username","value","password","preventDefault","Button","onClick","href","Modal","isOpen","toggle","ModalHeader","ModalBody","Form","onSubmit","FormGroup","Label","htmlFor","Input","type","id","name","innerRef","input","check","remember","color","React","Component","baseUrl","Notifications","handleRequestFriendship","action","followerId","notiId","dataNotification","friendRequestResponse","then","history","push","window","location","reload","data","datos","notifications","notif","results","NOTIFICACIONES","n","Searching","Media","tag","left","object","followingId","image","filename","body","heading","message","style","_id","list","styled","div","withRouter","SearchRender","usuario","JSON","parse","localStorage","getItem","view","search","USUARIOS","user","to","replace","ImageGrida","firstname","lastname","Header","test","testing","f","i","readstatus","noti","toggleNav","isNavOpen","handleChange","e","target","handleSearch","config","headers","QUERY","fetch","json","loading","catch","err","handleStyle","readTrue","method","handleNotificationStatus","inbox","viewMessage","handleLogout","read","logoutUser","messageAlert","console","log","Fragment","Navbar","expand","NavbarToggler","NavbarBrand","height","width","Collapse","navbar","placeholder","onKeyUp","onChange","Nav","NavItem","display","auth","isAuthenticated","UncontrolledDropdown","nav","inNavbar","DropdownToggle","DropdownMenu","right","DropdownItem","countries","Forms","handleBlur","field","touched","User","sex","date","country","signupUser","repeatpassword","controlState","error","valid","validar","enableButton","c","row","md","Col","invalid","onBlur","FormFeedback","selected","disabled","RenderComments","sss","comentarios","storage","uuu","comm","commId","author","comment","fontSize","top","deleteComments","LikesModal","megustaamigos","likes","amis","firsname","isLikesModalOpen","ModalLikes","ModalFooter","Loading","Album","handleimg","loadProfile","files","showImg","URL","createObjectURL","imageShowen","handleSubmit","filedata","FormData","append","ID","imagenUser","handlewallimg","loadingImgWall","loadWall","handleWallSubmit","fd","imagenWall","idfoto","valueId","modalType","imgID","fetchComments","fetchImgLikes","isTrashModalOpen","backForthModal","mode","currentlyUserId","currentlyOne","back","arraySource","indexOf","elementBack","fetchPhotoId","forth","elementForth","deletePhotograph","bearer","userid","imageid","stringify","element","foto","split","response","result","a","userId","imgId","credentials","filter","handleCommentSubmit","values","commentState","commentsPost","concat","sourced","imagesWall","img","socketConection","on","inboxFetch","isLoading","handleFetch","errMess","source","imgProfileLoad","commentarios","ImgProfile","textInput","useRef","size","position","zIndex","encType","alignItems","justifyContent","Modalidad","textarea","model","ProfileImage","phrase","followers","following","ref","current","click","undefined","ImgWall","setSize","useLayoutEffect","updateSize","innerWidth","addEventListener","removeEventListener","useWindowSize","WALL","ModalExample","PostSignup","signup","successMess","Settings","status","publicStatus","settings","settingsUser","CustomInput","label","checked","UsersComponent","handleFollow","userData","followFetch","host","match","params","idhost","idusers","fetchDataUser","fetchData","mgID","fetchUsersLikes","handleLike","usersData","liked","postLike","fetchLikes","likeResult","users","filtrado","currentlyPictureId","ModalGrid","toogle","Render","screen","Data","document","foll","some","ImageGrids","ImagenComponent","imgI","rest","o","findIndex","update","splice","idimg","Authorization","resp","commenta","imagenes","commen","trashButton","Chats","talksiStatusMap","talks","TALKS","t","imagen","members","userOne","userTwo","seenIt","talk","seen","inboxdata","room","inboxTalksHandler","Mensajes","chatContainer","createRef","scrollToMyRef","scroll","scrollHeight","clientHeight","scrollTo","inboxStatus","chatTitle","inboxMessagesWindow","chatUsers","INBOX","IMAGINA","ImageTitle","MESSAGES","l","styling","chatStyle","own","they","margin","content","handleSubmitInbox","Amigos","FOLLOW","user_id","inboxHandler","RenderInbox","query","idTalk","emit","ids","existChat","charla","select","s","talkselect","userMain","frienid","onAddItem","setUserState","localid","talkId","RECEPTOR","EMISOR","roomSocket","datad","contenido","backgroundColor","borderRadius","padding","maxWidth","inboxItems","Start","fetchStart","contentLoading","followingLoading","start","LoadState","first","imageId","commento","tab","activeTab","mapeoFollowing","mapeoFollowers","FOLLOWERS","tabs","NavLink","classnames","active","TabContent","TabPane","tabId","RegisterFormHeader","SIGNUP_SUCCESS","SIGNUP_FAILURE","USER_SUCCESS","USER_ERROR","USER_LOADING","USERS_SUCCESS","USERS_ERROR","USERS_LOADING","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT_REQUEST","LOGOUT_SUCCESS","SETTINGS_SUCCESS","SETTINGS_FAILURE","NOTIFICATION_LOADING","NOTIFICATION_SUCCESS","NOTIFICATION_ERROR","FOLLOWERS_LOADING","FOLLOWERS_SUCCESS","FOLLOWERS_ERROR","FOLLOWING_LOADING","FOLLOWING_SUCCESS","FOLLOWING_ERROR","IMAGEN_SUCCESS","IMAGEN_LOADING","IMAGEN_FAILED","LIKES_ADD","LIKES_LOADING","LIKES_FAILED","START_ADD","START_LOADING","START_FAILED","INBOX_SUCCESS","INBOX_LOADING","INBOX_FAILED","dispatch","startLoading","ok","Error","statusText","addStart","startFailed","ActionTypes","errmess","payload","responseSignup","creds","errorSignup","requestLogin","success","setItem","token","userdata","receiveLogin","fetchUser","fetchNotifications","fetchFollowers","fetchFollowing","inboxLoading","inboxAdd","inboxFailed","removeItem","userLoading","receiveUser","receiveUserError","usersLoading","receiveUsers","receiveUsersError","responseSettings","errorSettings","imagenFetchComments","imgObj","DATA","comments","x","imagenSuccess","imagenError","imagenLoading","notifLoading","nofifSuccess","notifError","ERR","followersLoading","followersSuccess","followersError","followingSuccess","followingError","likesLoading","likesFailed","addlikes","socket","io","Main","Headers","searchUsers","pathname","exact","path","component","imagenFetch","render","connect","newUser","Resp","Err","userID","num","dataComment","newComment","like","url","Auth","Users","Signup","Inbox","Followers","errmessage","follow","iisLoading","Following","Imagen","Likes","store","createStore","combineReducers","setings","applyMiddleware","thunk","logger","App","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","getElementById","process","origin","get","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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UACA,UACA,SACA,QACA,UACA,SACA,mCACA,mCACA,yBACA,WACA,gBACA,SACA,uCACA,oBACA,WACA,eACA,UACA,aACA,WACA,WACA,SACA,uBACA,iCACA,OACA,QACA,QACA,mBACA,gCACA,WACA,gBACA,yCACA,cACA,qBACA,aACA,UACA,OACA,aACA,SACA,UACA,mBACA,UACA,WACA,WACA,2BACA,UACA,QACA,cACA,oBACA,UACA,UACA,WACA,WACA,oCACA,sBACA,OACA,UACA,SACA,gBACA,mBACA,oCACA,QACA,eACA,UACA,UACA,QACA,YACA,SACA,YACA,UACA,aACA,OACA,YACA,WACA,SACA,gBACA,SACA,QACA,oCACA,iBACA,WACA,YACA,UACA,UACA,QACA,YACA,6BACA,OACA,UACA,cACA,SACA,QACA,UACA,QACA,SACA,SACA,aACA,QACA,WACA,8CACA,0BACA,SACA,aACA,yCACA,SACA,UACA,UACA,UACA,QACA,gBACA,YACA,aACA,QACA,aACA,SACA,WACA,WACA,OACA,QACA,yBACA,aACA,aACA,YACA,UACA,SACA,mCACA,4BACA,SACA,WACA,aACA,aACA,UACA,aACA,UACA,UACA,QACA,QACA,oBACA,gBACA,cACA,YACA,cACA,UACA,OACA,iBACA,iCACA,SACA,OACA,WACA,QACA,sBACA,SACA,mBACA,WACA,OACA,oBACA,WACA,SACA,WACA,cACA,QACA,8BACA,UACA,2BACA,SACA,aACA,sBACA,+CACA,wBACA,cACA,6BACA,4BACA,mCACA,QACA,aACA,wBACA,eACA,UACA,SACA,aACA,eACA,YACA,4BACA,WACA,WACA,kBACA,UACA,eACA,+CACA,cACA,QACA,YACA,cACA,WACA,yBACA,SACA,cACA,uBACA,SACA,aACA,+BACA,WACA,cACA,OACA,UACA,QACA,sBACA,UACA,SACA,eACA,iCACA,SACA,SACA,UACA,6BACA,6DACA,6CACA,iCACA,UACA,aACA,UACA,qCACA,WACA,2BACA,wBACA,oBACA,iBACA,QACA,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","file":"static/js/main.582e4f8b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/1.167404c8.png\";","export default __webpack_public_path__ + \"static/media/2.0c14b936.png\";","export default __webpack_public_path__ + \"static/media/3.4a6c88d3.png\";","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Carousel,\r\n  CarouselItem\r\n} from 'reactstrap';\r\nCarousel.propTypes = {\r\n  ride: PropTypes.oneOf(['carousel']),\r\n}\r\nconst items = [\r\n    {\r\n      src:require('../shared/assets/images/Carousel/1.png'),\r\n      altText: 'Slide 1',\r\n      caption: 'Slide 1'\r\n    },\r\n    {\r\n      src: require('../shared/assets/images/Carousel/2.png'),\r\n      altText: 'Slide 2',\r\n      caption: 'Slide 2'\r\n    },\r\n    {\r\n      src: require('../shared/assets/images/Carousel/3.png'),\r\n      altText: 'Slide 3',\r\n      caption: 'Slide 3'\r\n    }\r\n  ];\r\n\r\nconst Carousele = (props) => {\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [animating, setAnimating] = useState(false);\r\n\r\n  const next = () => {\r\n    if (animating) return;\r\n    const nextIndex = activeIndex === items.length - 1 ? 0 : activeIndex + 1;\r\n    setActiveIndex(nextIndex);\r\n  }\r\n\r\n  const previous = () => {\r\n    if (animating) return;\r\n    const nextIndex = activeIndex === 0 ? items.length - 1 : activeIndex - 1;\r\n    setActiveIndex(nextIndex);\r\n  }\r\n\r\nconst slides = items.map((item, index) => {\r\n    return (\r\n      <CarouselItem\r\n      className=\"custom-tag\"\r\n      onExiting={() => setAnimating(true)}\r\n      onExited={() => setAnimating(false)}\r\n      key={index}\r\n      >\r\n        <img src={item.src.default} alt={item.altText} />\r\n      </CarouselItem>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"fullSize\">\r\n      <style>\r\n    {\r\n      `.custom-tag {\r\n        width: 100%;\r\n        height: 100%;\r\n          filter: opacity(50%);\r\n        }\r\n        .custom-tag img{\r\n            width: 100%;\r\n            height: 100%;\r\n            object-fit: cover;\r\n            filter: grayscale(100%);\r\n          }\r\n        `\r\n    }\r\n  </style>\r\n      <Carousel\r\n        activeIndex={activeIndex}\r\n        next={next}\r\n        previous={previous}\r\n      >\r\n        {slides}\r\n      </Carousel>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Carousele;","import React from \"react\";\r\n\r\nimport Carousele from './HomeCarousel';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input\r\n} from \"reactstrap\";\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isModalOpen: false\r\n    };\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n\r\n  toggleModal() {\r\n    this.setState({\r\n      isModalOpen: !this.state.isModalOpen\r\n    });\r\n  }\r\n\r\n  handleLogin(event) {\r\n    this.toggleModal();\r\n    this.props.loginUser({\r\n      username: this.username.value,\r\n      password: this.password.value\r\n    });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid contenedor\">\r\n        <div className=\"elementos\">\r\n          <div className=\"col-12 col-md-7 carrusel\" >\r\n            <Carousele/>\r\n          </div>\r\n          <div className=\"col-12 col-md-5 detalles\">\r\n            <div className=\"fullSize intro\">\r\n              <h3>\r\n                LandScapes <br/> Social Media\r\n              </h3>\r\n            </div>\r\n            <div className=\"row botonera fullSize\">\r\n              <div className=\"col-sm-3 boton\">\r\n                <Button className=\" btn btn-lg bg-success \" onClick={this.toggleModal} >\r\n                  Login \r\n                </Button>\r\n              </div>\r\n              <div className=\"col-sm-3 boton\">\r\n                <Button className=\"btn btn-lg bg-success \" href=\"/users/signup\">\r\n                  Singup\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <Modal isOpen={this.state.isModalOpen} toggle={this.toggleModal}>\r\n            <ModalHeader toggle={this.toggleModal}>Login</ModalHeader>\r\n            <ModalBody>\r\n              <Form onSubmit={this.handleLogin}>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"username\">Username</Label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"username\"\r\n                    name=\"username\"\r\n                    innerRef={input => (this.username = input)}\r\n                  />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"password\">Password</Label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    innerRef={input => (this.password = input)}\r\n                  />\r\n                </FormGroup>\r\n                <FormGroup check>\r\n                  <Label check>\r\n                    <Input\r\n                      type=\"checkbox\"\r\n                      name=\"remember\"\r\n                      innerRef={input => (this.remember = input)}\r\n                    />\r\n                    Remember me\r\n                  </Label>\r\n                </FormGroup>\r\n                <Button type=\"submit\" value=\"submit\" color=\"primary\">\r\n                  Login\r\n                </Button>\r\n              </Form>\r\n            </ModalBody>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Home;\r\n","export const baseUrl = 'https://localhost:5443/';","//Dependencis\r\nimport React from 'react';\r\nimport { Media, Button } from 'reactstrap';\r\nimport styled from 'styled-components'\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\n\r\nclass Notifications extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: []\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const datos = this.props.notifications\r\n        this.setState({ data: datos })\r\n    }\r\n    handleRequestFriendship = (action, followerId, notiId) => {\r\n        const dataNotification = {\r\n            action: action,\r\n            followerId: followerId,\r\n            notiId: notiId\r\n        }\r\n        this.props.friendRequestResponse(dataNotification)\r\n            .then(() => {\r\n                this.props.history.push(\"/\");\r\n                window.location.reload();\r\n            })\r\n    }\r\n\r\n    render() {\r\n        let notif = this.state.data ? this.state.data.results : []\r\n        const NOTIFICACIONES = !notif ? [] : notif.map((n) => {\r\n            return (\r\n                <div key={n._id} >\r\n                    <Searching className=\"mt-1 mb-1 \" >\r\n                        <div className=\"row \">\r\n                            <Media tag=\"li\" className=\"col-12 align-notification\">\r\n                                <Media left className=\"col-3 mx-0 px-0\">\r\n                                    <Media className=\"imagen-navbar-profile\" object src={baseUrl + n.followingId.image.filename} ></Media>\r\n                                </Media>\r\n                                <div className=\"col-9\" >\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-6\" >\r\n                                            <Media body className=\"col-8\">\r\n                                                <Media heading><span>{n.message}</span></Media>\r\n                                            </Media>\r\n                                        </div>\r\n                                        <div className=\"col-3\" >\r\n                                            <Button className=\"fas fa-thumbs-up\" style={{ color: 'rgb(62, 247, 62)' }} onClick={() => this.handleRequestFriendship(true, n.followingId._id, n._id)} />\r\n                                        </div>\r\n                                        <div className=\"col-3\" >\r\n                                            <Button className=\"fas fa-thumbs-down\" style={{ color: 'rgb(245, 53, 19)' }} onClick={() => this.handleRequestFriendship(false, n.followingId._id, n._id)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </Media>\r\n                        </div>\r\n                        </Searching>\r\n                    </div>\r\n                \r\n            );\r\n        })\r\n        return (\r\n            <Searching>\r\n                <div className=\"container position-absolute \">\r\n                    <div className=\"row \">\r\n                        <Media list className=\"p-0 \">\r\n                            {NOTIFICACIONES}\r\n                        </Media>\r\n                    </div>\r\n                </div>\r\n            </Searching>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst Searching = styled.div`\r\nbackground-color: rgb(91, 179, 94);\r\nposition: relative;\r\npadding:0px;\r\nwidth: 100%;\r\nz-index: 1;\r\ncolor: white;\r\nfont-size: 1em;\r\nmargin: 0px;\r\nalign-items:center;\r\n.align-notification{\r\n    display: flex;\r\n    align-items:center;\r\n}\r\nimg{\r\n    margin: 15%;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: cover;\r\n  }\r\n  span {\r\n      font-size: 1rem;\r\n  }\r\n`\r\nexport default withRouter(Notifications);\r\n","//Dependencis\r\nimport React from 'react';\r\nimport { Media } from 'reactstrap';\r\nimport styled from 'styled-components'\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nclass SearchRender extends React.Component {\r\n\r\n    render() {\r\n        const usuario = JSON.parse(localStorage.getItem(\"creds\")).username\r\n        let view = this.props.search.length ? this.props.search : [];\r\n        const USUARIOS = !view ? [] : view.map((user) => {\r\n            return (\r\n                <div key={user._id}>\r\n                <Searching className=\"col-12 col-md-4 mt-1 mb-1 p-0\" >\r\n                    <Link to={`/users/profile/${usuario}/${user.username}`} onClick={() => window.location.replace(`/users/profile/${usuario}/${user.username}`)} >\r\n                        <div  >\r\n                            <div className=\"acc\">\r\n                                <ImageGrida>\r\n                                    <div className=\"\">\r\n                                        <img className=\"\" src={baseUrl + user.image.filename} alt=\"user\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"\">\r\n                                        <h6>{`${user.firstname} ${user.lastname}`}</h6>\r\n                                    </div>\r\n                                </ImageGrida>\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                </Searching>\r\n                </div>\r\n            );\r\n        });\r\n        if (view <= 0) {\r\n            return (\r\n                <Searching>\r\n                    <div className=\"container position-absolute iinvisible\">\r\n                        <div className=\"row\">\r\n                            <Media list>\r\n                                {USUARIOS}\r\n                            </Media>\r\n                        </div>\r\n                    </div>\r\n                </Searching>\r\n            )\r\n        } else {\r\n            return (\r\n                <Searching>\r\n                    \r\n              <div className=\"pik pick-search\"></div>\r\n                    <div className=\"container position-absolute acc search-window\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12\">\r\n                                <Media list>\r\n                                    {USUARIOS}\r\n                                </Media>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Searching>\r\n            )\r\n        }\r\n    }\r\n}\r\nexport default withRouter(SearchRender);\r\nconst ImageGrida = styled.div`\r\nbackground-color: rgb(91, 179, 94);\r\ndisplay: grid;\r\ntext-overflow: ellipsis;\r\ngrid-gap: 10px;\r\ngrid-template-columns: 1fr 1fr 1fr;\r\ngrid-template-rows: 1fr;\r\ngrid-auto-rows: minmax(30%, 30%);\r\ngrid-auto-columns: minmax(30%, 30%);\r\nalign-items: center;\r\n\r\nh6 {\r\n    \r\n    white-space: nowrap;\r\n    align-items: center;\r\n    margin-left: 15%;\r\n}\r\nimg{\r\n  margin: 15%;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n}\r\n}\r\n`\r\n\r\nconst Searching = styled.div`\r\nposition: relative;\r\ndisplay: flex;\r\nflex-direction: column;\r\nwidth: 100%;\r\nz-index: 1;\r\ncolor: white;\r\nmargin: 0px;\r\nalign-content: start;\r\n@media (max-width: 560px) {\r\n    .acc {\r\n        width: 100%;\r\n    }\r\n}\r\n`","import React, { Component } from \"react\";\r\nimport Notifications from './NotificationsWindow'\r\nimport {\r\n  Navbar,\r\n  NavbarBrand,\r\n  Nav,\r\n  Collapse,\r\n  NavItem,\r\n  Form, FormGroup, Input, UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  NavbarToggler\r\n} from \"reactstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport SearchRender from './SearchWindow';\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      styled: \"none\",\r\n      search: '',\r\n      err: '',\r\n      noti: '',\r\n      inbox: [],\r\n      readTrue: false,\r\n      results: [],\r\n      isNavOpen: false,\r\n      viewMessage: ''\r\n    }\r\n\r\n    this.handleLogout = this.handleLogout.bind(this);\r\n  }\r\n  test = () => {\r\n    const testing = this.props.notifications.results;\r\n    let f = 0;\r\n    for (let i = 0; i < testing.length; i++) {\r\n      if (testing[i].readstatus === false) {\r\n        f++\r\n      }\r\n    }\r\n    if (f >= 1) {\r\n      this.setState({ noti: false });\r\n    } else {\r\n      this.setState({ noti: true });\r\n    }\r\n\r\n  }\r\n  componentDidMount() {\r\n    this.test();\r\n    this.setState({\r\n      inbox: this.props.inbox.inbox,\r\n      viewMessage: this.props.inbox.read,\r\n    });\r\n    \r\n  }\r\n\r\n  handleLogout() {\r\n    this.props.logoutUser();\r\n  }\r\n  toggleNav = () => {\r\n    this.setState({\r\n      isNavOpen: !this.state.isNavOpen\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const target = e.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    this.setState({\r\n      [name]: value\r\n\r\n    });\r\n\r\n  }\r\n  handleSearch = (e) => {\r\n    e.preventDefault();\r\n    const bearer = 'Bearer ' + localStorage.getItem('token');\r\n    var config = {\r\n      headers: { 'Authorization': bearer }\r\n    };\r\n    const QUERY = this.state.search;\r\n    fetch(baseUrl + `search/search?q=${QUERY}`, config)\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        return this.state.search === \"\" ? this.setState({ loading: false, results: [] }) : this.setState({ loading: false, results: json })\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false, err: err })\r\n      })\r\n\r\n  }\r\n\r\n  handleStyle = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      styled: this.state.styled === \"none\" ? \"\" : \"none\"\r\n    })\r\n    if (this.state.readTrue === false) {\r\n      const bearer = 'Bearer ' + localStorage.getItem('token');\r\n      var config = {\r\n        method: \"POST\",\r\n        headers: { 'Authorization': bearer }\r\n      };\r\n      const QUERY = JSON.parse(localStorage.getItem('id'))\r\n      fetch(baseUrl + `notification/all/readtrue/${QUERY}`, config)\r\n        .then(json => {\r\n          this.setState({ readTrue: true })\r\n          this.props.handleNotificationStatus();\r\n        })\r\n    }\r\n\r\n  }\r\n// getInboxread = async () => {\r\n//   const id = await JSON.parse(localStorage.getItem('id'));\r\n//   const inbox = !this.state.inbox ? [] : this.state.inbox\r\n//   const message = inbox.some(i => i.talk.some(t => t.author !== id && t.seen === false))\r\n//   console.log(\"chau\", message);\r\n//   return message;\r\n// }\r\n  render() {\r\n    let messageAlert = this.state.viewMessage\r\n    console.log(this.state);\r\n    return (\r\n      <React.Fragment>\r\n        <Navbar className=\"container-fluid main-nav navbar-dark\" expand=\"md\">\r\n          <div className=\"container\">\r\n            <NavbarToggler onClick={this.toggleNav} />\r\n            <NavbarBrand className=\"\" href=\"/\">\r\n              <img\r\n                src={baseUrl + \"images/0.png\"}\r\n                alt=\"Red Social\"\r\n                className=\"imagen-navbar-profile\"\r\n                height=\"30\" width=\"41\"\r\n              />\r\n            </NavbarBrand>\r\n            <Collapse isOpen={this.state.isNavOpen} navbar  >\r\n              <div className=\"segundoItemUno\">\r\n                <Form>\r\n                  <FormGroup className=\"text-white search\">\r\n                    {/*<Label htmlFor=\"search\">Search</Label>*/}\r\n                    <Input name=\"search\" id=\"search\" className=\"btn bg-success input search\" placeholder=\"Search\"\r\n                      onKeyUp={(e) => this.handleSearch(e)} onChange={this.handleChange} value={this.state.search} />\r\n                    <SearchRender className=\"\" search={this.state.results} />\r\n                  </FormGroup>\r\n                </Form>\r\n              </div>\r\n              <Nav navbar >\r\n                <div className=\"itemGrupoDos \">\r\n                  <NavLink className=\"nav-link\" to=\"/userpage\">\r\n                    <img src={baseUrl + JSON.parse(localStorage.getItem('img'))}\r\n                    alt=\"userimg\" className=\"imagen-navbar-profile\" />\r\n\r\n                  </NavLink>\r\n                </div>\r\n                <div className=\"itemGrupoDos\">\r\n                  <NavItem>\r\n                    <NavLink className=\"nav-link\" to=\"/home\">\r\n                      <span className=\"fa fa-home fa-md\" />\r\n                    </NavLink>\r\n                  </NavItem>\r\n                </div>\r\n                <div className=\"itemGrupoDos\">\r\n                  <NavItem>\r\n                    <NavLink className=\"nav-link\" to=\"/users/settings\">\r\n                      <span className=\"fa fa-cog fa-md\" />\r\n                    </NavLink>\r\n                  </NavItem>\r\n                </div>\r\n                <div className=\"itemGrupoDos\">\r\n                  <NavItem>\r\n                  {messageAlert ?\r\n                      (<div>\r\n                        <NavLink className=\"nav-link\" to=\"/inbox\">\r\n                          <span className=\"fa fa-envelope fa-md\" style={{ color: 'red' }}/>\r\n                        </NavLink>\r\n                      </div>)\r\n                  :\r\n                    (\r\n                    <div>\r\n                      <NavLink className=\"nav-link\" to=\"/inbox\">\r\n                        <span className=\"fa fa-envelope fa-md\" />\r\n                      </NavLink>\r\n                    </div>)\r\n                    }\r\n                    \r\n                </NavItem>\r\n                </div>\r\n                <div className=\"itemGrupoDos\">\r\n                  <NavItem>\r\n                    {this.state.noti === false ?\r\n                      (<div>\r\n                        <NavbarBrand className=\"nav-link\" onClick={this.handleStyle}>\r\n                          <span className=\"fa fa-bell fa-md fa-red fa-spin\" style={{ color: 'red' }} />\r\n                        </NavbarBrand>\r\n                        <div>\r\n                          <div className=\"row mt-4 notification\" style={{ display: this.state.styled }}  >\r\n                            <div className=\"col-12\" >\r\n                              <Notifications notifications={this.props.notifications} className=\"col-12\"\r\n                                friendRequestResponse={this.props.friendRequestResponse} />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>) :\r\n                      (<div>\r\n                        <NavbarBrand className=\"nav-link\" onClick={this.handleStyle}>\r\n                          <span className=\"fa fa-bell fa-md\" />\r\n                        </NavbarBrand>\r\n                        <div style={{ display: this.state.styled }}  >\r\n                        <div className=\"pik pick-notification\"></div>\r\n                          <div className=\"row mt-4 notification\"  >\r\n                            <div className=\"col-12\" >                             \r\n                              <Notifications notifications={this.props.notifications} className=\"col-12\"\r\n                                friendRequestResponse={this.props.friendRequestResponse} />\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                      )}\r\n                  </NavItem>\r\n\r\n                </div>\r\n\r\n                <div className=\"itemGrupoDos\">\r\n                  \r\n                    {\r\n                      !this.props.auth.isAuthenticated ? null : (\r\n                        <UncontrolledDropdown nav inNavbar>\r\n                          <DropdownToggle nav >\r\n                            <span className=\"fas fa-align-justify fa-md\" />\r\n                          </DropdownToggle>\r\n                          <DropdownMenu right className=\"dropmenu\" >\r\n                            <DropdownItem onClick={this.handleLogout}>\r\n                              Logout\r\n                                </DropdownItem>\r\n                          </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                      )\r\n                    }\r\n                </div>\r\n\r\n              </Nav>\r\n            </Collapse>\r\n          </div>\r\n        </Navbar>\r\n      </React.Fragment >\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","export const countries = [\r\n    \"Afghanistan\",\r\n    \"Albania\",\r\n    \"Algeria\",\r\n    \"American Samoa\",\r\n    \"Andorra\",\r\n    \"Angola\",\r\n    \"Anguilla\",\r\n    \"Antarctica\",\r\n    \"Antigua and Barbuda\",\r\n    \"Argentina\",\r\n    \"Armenia\",\r\n    \"Aruba\",\r\n    \"Australia\",\r\n    \"Austria\",\r\n    \"Azerbaijan\",\r\n    \"Bahamas (the)\",\r\n    \"Bahrain\",\r\n    \"Bangladesh\",\r\n    \"Barbados\",\r\n    \"Belarus\",\r\n    \"Belgium\",\r\n    \"Belize\",\r\n    \"Benin\",\r\n    \"Bermuda\",\r\n    \"Bhutan\",\r\n    \"Bolivia (Plurinational State of)\",\r\n    \"Bonaire, Sint Eustatius and Saba\",\r\n    \"Bosnia and Herzegovina\",\r\n    \"Botswana\",\r\n    \"Bouvet Island\",\r\n    \"Brazil\",\r\n    \"British Indian Ocean Territory (the)\",\r\n    \"Brunei Darussalam\",\r\n    \"Bulgaria\",\r\n    \"Burkina Faso\",\r\n    \"Burundi\",\r\n    \"Cabo Verde\",\r\n    \"Cambodia\",\r\n    \"Cameroon\",\r\n    \"Canada\",\r\n    \"Cayman Islands (the)\",\r\n    \"Central African Republic (the)\",\r\n    \"Chad\",\r\n    \"Chile\",\r\n    \"China\",\r\n    \"Christmas Island\",\r\n    \"Cocos (Keeling) Islands (the)\",\r\n    \"Colombia\",\r\n    \"Comoros (the)\",\r\n    \"Congo (the Democratic Republic of the)\",\r\n    \"Congo (the)\",\r\n    \"Cook Islands (the)\",\r\n    \"Costa Rica\",\r\n    \"Croatia\",\r\n    \"Cuba\",\r\n    \"Curaao\",\r\n    \"Cyprus\",\r\n    \"Czechia\",\r\n    \"Cte d'Ivoire\",\r\n    \"Denmark\",\r\n    \"Djibouti\",\r\n    \"Dominica\",\r\n    \"Dominican Republic (the)\",\r\n    \"Ecuador\",\r\n    \"Egypt\",\r\n    \"El Salvador\",\r\n    \"Equatorial Guinea\",\r\n    \"Eritrea\",\r\n    \"Estonia\",\r\n    \"Eswatini\",\r\n    \"Ethiopia\",\r\n    \"Falkland Islands (the) [Malvinas]\",\r\n    \"Faroe Islands (the)\",\r\n    \"Fiji\",\r\n    \"Finland\",\r\n    \"France\",\r\n    \"French Guiana\",\r\n    \"French Polynesia\",\r\n    \"French Southern Territories (the)\",\r\n    \"Gabon\",\r\n    \"Gambia (the)\",\r\n    \"Georgia\",\r\n    \"Germany\",\r\n    \"Ghana\",\r\n    \"Gibraltar\",\r\n    \"Greece\",\r\n    \"Greenland\",\r\n    \"Grenada\",\r\n    \"Guadeloupe\",\r\n    \"Guam\",\r\n    \"Guatemala\",\r\n    \"Guernsey\",\r\n    \"Guinea\",\r\n    \"Guinea-Bissau\",\r\n    \"Guyana\",\r\n    \"Haiti\",\r\n    \"Heard Island and McDonald Islands\",\r\n    \"Holy See (the)\",\r\n    \"Honduras\",\r\n    \"Hong Kong\",\r\n    \"Hungary\",\r\n    \"Iceland\",\r\n    \"India\",\r\n    \"Indonesia\",\r\n    \"Iran (Islamic Republic of)\",\r\n    \"Iraq\",\r\n    \"Ireland\",\r\n    \"Isle of Man\",\r\n    \"Israel\",\r\n    \"Italy\",\r\n    \"Jamaica\",\r\n    \"Japan\",\r\n    \"Jersey\",\r\n    \"Jordan\",\r\n    \"Kazakhstan\",\r\n    \"Kenya\",\r\n    \"Kiribati\",\r\n    \"Korea (the Democratic People's Republic of)\",\r\n    \"Korea (the Republic of)\",\r\n    \"Kuwait\",\r\n    \"Kyrgyzstan\",\r\n    \"Lao People's Democratic Republic (the)\",\r\n    \"Latvia\",\r\n    \"Lebanon\",\r\n    \"Lesotho\",\r\n    \"Liberia\",\r\n    \"Libya\",\r\n    \"Liechtenstein\",\r\n    \"Lithuania\",\r\n    \"Luxembourg\",\r\n    \"Macao\",\r\n    \"Madagascar\",\r\n    \"Malawi\",\r\n    \"Malaysia\",\r\n    \"Maldives\",\r\n    \"Mali\",\r\n    \"Malta\",\r\n    \"Marshall Islands (the)\",\r\n    \"Martinique\",\r\n    \"Mauritania\",\r\n    \"Mauritius\",\r\n    \"Mayotte\",\r\n    \"Mexico\",\r\n    \"Micronesia (Federated States of)\",\r\n    \"Moldova (the Republic of)\",\r\n    \"Monaco\",\r\n    \"Mongolia\",\r\n    \"Montenegro\",\r\n    \"Montserrat\",\r\n    \"Morocco\",\r\n    \"Mozambique\",\r\n    \"Myanmar\",\r\n    \"Namibia\",\r\n    \"Nauru\",\r\n    \"Nepal\",\r\n    \"Netherlands (the)\",\r\n    \"New Caledonia\",\r\n    \"New Zealand\",\r\n    \"Nicaragua\",\r\n    \"Niger (the)\",\r\n    \"Nigeria\",\r\n    \"Niue\",\r\n    \"Norfolk Island\",\r\n    \"Northern Mariana Islands (the)\",\r\n    \"Norway\",\r\n    \"Oman\",\r\n    \"Pakistan\",\r\n    \"Palau\",\r\n    \"Palestine, State of\",\r\n    \"Panama\",\r\n    \"Papua New Guinea\",\r\n    \"Paraguay\",\r\n    \"Peru\",\r\n    \"Philippines (the)\",\r\n    \"Pitcairn\",\r\n    \"Poland\",\r\n    \"Portugal\",\r\n    \"Puerto Rico\",\r\n    \"Qatar\",\r\n    \"Republic of North Macedonia\",\r\n    \"Romania\",\r\n    \"Russian Federation (the)\",\r\n    \"Rwanda\",\r\n    \"Runion\",\r\n    \"Saint Barthlemy\",\r\n    \"Saint Helena, Ascension and Tristan da Cunha\",\r\n    \"Saint Kitts and Nevis\",\r\n    \"Saint Lucia\",\r\n    \"Saint Martin (French part)\",\r\n    \"Saint Pierre and Miquelon\",\r\n    \"Saint Vincent and the Grenadines\",\r\n    \"Samoa\",\r\n    \"San Marino\",\r\n    \"Sao Tome and Principe\",\r\n    \"Saudi Arabia\",\r\n    \"Senegal\",\r\n    \"Serbia\",\r\n    \"Seychelles\",\r\n    \"Sierra Leone\",\r\n    \"Singapore\",\r\n    \"Sint Maarten (Dutch part)\",\r\n    \"Slovakia\",\r\n    \"Slovenia\",\r\n    \"Solomon Islands\",\r\n    \"Somalia\",\r\n    \"South Africa\",\r\n    \"South Georgia and the South Sandwich Islands\",\r\n    \"South Sudan\",\r\n    \"Spain\",\r\n    \"Sri Lanka\",\r\n    \"Sudan (the)\",\r\n    \"Suriname\",\r\n    \"Svalbard and Jan Mayen\",\r\n    \"Sweden\",\r\n    \"Switzerland\",\r\n    \"Syrian Arab Republic\",\r\n    \"Taiwan\",\r\n    \"Tajikistan\",\r\n    \"Tanzania, United Republic of\",\r\n    \"Thailand\",\r\n    \"Timor-Leste\",\r\n    \"Togo\",\r\n    \"Tokelau\",\r\n    \"Tonga\",\r\n    \"Trinidad and Tobago\",\r\n    \"Tunisia\",\r\n    \"Turkey\",\r\n    \"Turkmenistan\",\r\n    \"Turks and Caicos Islands (the)\",\r\n    \"Tuvalu\",\r\n    \"Uganda\",\r\n    \"Ukraine\",\r\n    \"United Arab Emirates (the)\",\r\n    \"United Kingdom of Great Britain and Northern Ireland (the)\",\r\n    \"United States Minor Outlying Islands (the)\",\r\n    \"United States of America (the)\",\r\n    \"Uruguay\",\r\n    \"Uzbekistan\",\r\n    \"Vanuatu\",\r\n    \"Venezuela (Bolivarian Republic of)\",\r\n    \"Viet Nam\",\r\n    \"Virgin Islands (British)\",\r\n    \"Virgin Islands (U.S.)\",\r\n    \"Wallis and Futuna\",\r\n    \"Western Sahara\",\r\n    \"Yemen\",\r\n    \"Zambia\",\r\n    \"Zimbabwe\",\r\n    \"land Islands\"\r\n]","import React from \"react\";\r\nimport {\r\n  Form,\r\n  FormGroup,\r\n  Col,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  FormFeedback\r\n} from \"reactstrap\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { countries } from '../shared/countries';\r\n\r\nclass Forms extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      repeatpassword: \"\",\r\n      sex: \"\",\r\n      date: \"\",\r\n      country: \"\",\r\n      touched: {\r\n        password: false,\r\n        username: false\r\n      }\r\n    };\r\n\r\n    this.controlState = this.controlState.bind(this);\r\n    this.handleBlur = this.handleBlur.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  controlState(e) {\r\n    const target = e.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleBlur = field => e => {\r\n    this.setState({\r\n      touched: { ...this.state.touched, [field]: true }\r\n    });\r\n  };\r\n\r\n  validar(password, repeatpassword, username, sex, date, country) {\r\n    const error = {\r\n      password: { err: \"\", valid: false },\r\n      repeatpassword: { err: \"\", valid: false },\r\n      username: { err: \"\", valid: false },\r\n      sex: false,\r\n      date: false,\r\n      country: false\r\n    };\r\n    const expreg = /^(\\w{3,})@(gmail|hotmail|outlook).\\b(com|info|web)\\b/;\r\n\r\n    if (this.state.touched.password && password.length < 4) {\r\n      error.password.err =\r\n        \"La contrasea es DEBIL. Debe ser mayor a 4 caracteres. Recomendamos alternar numeros y letras\";\r\n\r\n    } else if (this.state.touched.password && password.length > 10) {\r\n      error.password.err =\r\n        \"El contrasea debe ser menor o igual a 10 caracteres. Recomendamos alternar numeros y letras\";\r\n    } else if (this.state.password !== \"\") {\r\n      error.password.valid = true\r\n    }\r\n\r\n    if (this.state.touched.repeatpassword && repeatpassword !== this.state.password) {\r\n      error.repeatpassword.err =\r\n        \"CONTRASEA Y REPETIR CONTRASEA NO COINCIDEN. POR FAVOR, VALIDA ESTE COMPO DE TEXTO\";\r\n    } else if (this.state.touched.repeatpassword && repeatpassword.length > 10) {\r\n      error.repeatpassword.err =\r\n        \"El contrasea debe ser menor o igual a 10 caracteres. Recomendamos alternar numeros y letras\";\r\n    } else if (this.state.repeatpassword !== \"\") {\r\n      error.repeatpassword.valid = true\r\n    }\r\n    if (this.state.touched.username && !expreg.test(username)) {\r\n      error.username.err = \"Debe cumplir el formato de email. Ej: exampe@mail.com\";\r\n    } else if (this.state.username !== \"\") {\r\n      error.username.valid = true\r\n    }\r\n\r\n    if (sex !== \"\") {\r\n      error.sex = true\r\n    }\r\n    if (date !== \"\") {\r\n      error.date = true\r\n    }\r\n    if (country !== \"\") {\r\n      error.country = true\r\n    }\r\n    return error;\r\n  }\r\n  enableForm(err) {\r\n    var valid = false;\r\n    if (\r\n      err.password === \"\" && err.repeatpassword === \"\" && err.username === \"\" && err.valid\r\n    )\r\n      valid = true\r\n    return valid\r\n  }\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    // get form data out of state\r\n    const User = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      sex: this.state.sex,\r\n      date: this.state.date,\r\n      country: this.state.country\r\n    };\r\n    this.props.signupUser(User).then(() => {\r\n      this.props.history.push(\"/users/post\");\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const error = this.validar(\r\n      this.state.password,\r\n      this.state.repeatpassword,\r\n      this.state.username,\r\n      this.state.sex,\r\n      this.state.date,\r\n      this.state.country\r\n    );\r\n    const enableButton = error.username.valid && error.password.valid &&\r\n      error.repeatpassword.valid && error.sex &&\r\n      error.date && error.country ? true : false;\r\n    const country = countries.map((c, index) => <option key={index}>{c}</option>)\r\n    return (\r\n      <div>\r\n        <div className=\"container-fluid\">\r\n          <div className=\" col-sm-6 offset-sm-3\">\r\n            <h1>Crea una cuenta nueva</h1>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <Form onSubmit={this.onSubmit}>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"username\" md={2}>\r\n                Email\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"email\"\r\n                  id=\"username\"\r\n                  name=\"username\"\r\n                  placeholder=\"example@mail.com\"\r\n                  value={this.state.username}\r\n                  valid={error.username.err === \"\"}\r\n                  invalid={error.username.err !== \"\"}\r\n                  onChange={this.controlState}\r\n                  onBlur={this.handleBlur(\"username\")}\r\n                />\r\n                <FormFeedback>{error.username.err}</FormFeedback>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"password\" md={2}>\r\n                Contrasea\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"password\"\r\n                  value={this.state.password}\r\n                  valid={error.password.err === \"\"}\r\n                  invalid={error.password.err !== \"\"}\r\n                  onChange={this.controlState}\r\n                  onBlur={this.handleBlur(\"password\")}\r\n                />\r\n                <FormFeedback>{error.password.err}</FormFeedback>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"repeatpassword\" md={2}>\r\n                Repetir Contrasea\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"password\"\r\n                  id=\"repeatpassword\"\r\n                  name=\"repeatpassword\"\r\n                  placeholder=\"repetir contrasea\"\r\n                  value={this.state.repeatpassword}\r\n                  valid={error.repeatpassword.err === \"\"}\r\n                  invalid={error.repeatpassword.err !== \"\"}\r\n                  onChange={this.controlState}\r\n                  onBlur={this.handleBlur(\"repeatpassword\")}\r\n                />\r\n                <FormFeedback>{error.repeatpassword.err}</FormFeedback>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"sex\" md={2}>\r\n                Sex\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"select\"\r\n                  id=\"sex\"\r\n                  name=\"sex\"\r\n                  value={this.state.sex}\r\n                  onChange={this.controlState}\r\n                >\r\n                  <option selected>Female</option>\r\n                  <option>Male</option>\r\n                  <option>Trans</option>\r\n                </Input>\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"date\" md={2}>\r\n                Fecha de Naciminento\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"date\"\r\n                  id=\"date\"\r\n                  name=\"date\"\r\n                  placeholder=\"Birth\"\r\n                  value={this.state.date}\r\n                  onChange={this.controlState}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"country\" md={2}>\r\n                Country\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"select\"\r\n                  id=\"country\"\r\n                  name=\"country\"\r\n                  placeholder=\"country\"\r\n                  value={this.state.country}\r\n                  onChange={this.controlState}\r\n                >\r\n                  {country}\r\n                </Input>\r\n              </Col>\r\n              <Col>\r\n                {\r\n                  enableButton\r\n                    ?\r\n                    <Button type=\"file\" >Enviar</Button>\r\n                    :\r\n                    <Button type=\"file\" disabled>Enviar</Button>\r\n                }\r\n\r\n              </Col>\r\n            </FormGroup>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Forms);\r\n","import React from 'react';\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport {\r\n    UncontrolledDropdown,\r\n    DropdownToggle,\r\n    DropdownMenu,\r\n    DropdownItem\r\n} from \"reactstrap\";\r\nexport const RenderComments = (props) => {\r\n    const sss = props.comentarios;\r\n    let storage = JSON.parse(localStorage.getItem('id'));\r\n    const uuu = sss.map(comm => {\r\n        let commId = comm._id\r\n        return (\r\n\r\n            <div key={comm._id} className=\"container\">\r\n                <div className=\"row\">\r\n                    <img className=\"comment\" src={baseUrl + comm.author.image.filename} alt=\"user/friend\" />\r\n                    <h6 className=\"col-7\">{comm.comment}</h6>\r\n                    <div className=\"col-1\">\r\n                        <UncontrolledDropdown>\r\n                            <DropdownToggle nav >\r\n                                <span className=\"fas fa-ellipsis-v\"\r\n                                    style={comm.author._id === storage ? { fontSize: \"10px\" } : { display: \"none\" }}></span>\r\n                            </DropdownToggle>\r\n                            <DropdownMenu right top className=\"dropmenu\" >\r\n                                <DropdownItem onClick={() => props.deleteComments(commId)} >\r\n                                    Delete Comment\r\n                            </DropdownItem>\r\n                            </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n        <div>{uuu}</div>\r\n\r\n    )\r\n}","import React from 'react';\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { Modal, ModalBody, ModalHeader, ModalFooter } from \"reactstrap\";\r\nimport styled from 'styled-components'\r\nexport const LikesModal = (props) => {\r\n    const likesList = !props.likes ? [] : props.likes;\r\n    const megustaamigos = likesList.map(amis => {\r\n        return (\r\n            <div key={amis._id}>\r\n                <img className=\"\" src={baseUrl + amis.image.filename} alt=\"img_profile\"/>\r\n                <h3>{amis.firsname} {amis.lastname}</h3>\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n        <div>\r\n            <Modal isOpen={props.isLikesModalOpen} toggle={props.toggle}>\r\n                <ModalHeader id=\"likemodal\" toggle={(e) => props.toggle(e)}><span>Me gusta</span></ModalHeader>\r\n                <ModalBody>\r\n                    <ModalLikes>\r\n                        <div>\r\n                            {megustaamigos}\r\n                        </div>\r\n                    </ModalLikes>\r\n                </ModalBody>\r\n                <ModalFooter></ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    )\r\n\r\n}\r\nconst ModalLikes = styled.div`\r\ndisplay: grid;\r\ntext-overflow: ellipsis;\r\ngrid-gap: 10px;\r\ngrid-template-columns: 1fr 1fr 1fr;\r\ngrid-template-rows: 1fr;\r\ngrid-auto-rows: minmax(30%, 30%);\r\ngrid-auto-columns: minmax(30%, 30%);\r\nalign-items: center;\r\n\r\nh6 {\r\n    \r\n    white-space: nowrap;\r\n    align-items: center;\r\n    margin-left: 15%;\r\n}\r\nimg{\r\n  margin: 15%;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n}\r\n\r\n@media (max-width: 1000px) {\r\n  img{\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 767px) {\r\n  img{\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 520px) {\r\n  img{\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 343px) {\r\n  img{\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n`","import React from 'react';\r\n\r\nexport const Loading = () => {\r\n    return (\r\n        <div className=\"col-12\">\r\n            <span className=\"fas fa-circle-notch fa-pulse fa-3x fa-fw text-primary\"></span>\r\n            <p>Loading . . .</p>\r\n        </div>\r\n    );\r\n};\r\n","import React, { useLayoutEffect, useState, useRef } from \"react\";\r\nimport { RenderComments } from './CommentComponent';\r\nimport { LikesModal } from './LikesModal';\r\nimport { Loading } from \"./LoadingComponent\";\r\nimport {\r\n  Form,\r\n  Label,\r\n  Input,\r\n  Button, Modal, ModalBody, ModalHeader, ModalFooter\r\n} from \"reactstrap\";\r\nimport { Control, LocalForm } from 'react-redux-form';\r\nimport styled from 'styled-components'\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nfunction useWindowSize() {\r\n  const [size, setSize] = useState([0]);\r\n  useLayoutEffect(() => {\r\n    function updateSize() {\r\n      setSize([window.innerWidth]);\r\n    }\r\n    window.addEventListener('resize', updateSize);\r\n    updateSize();\r\n    return () => window.removeEventListener('resize', updateSize);\r\n  }, []);\r\n  return size;\r\n}\r\n\r\nclass Album extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      image: null,\r\n      imageShowen: null,\r\n      loadWall: null,\r\n      isModalOpen: false,\r\n      isTrashModalOpen: false,\r\n      isLikesModalOpen: false,\r\n      likes: [],\r\n      i: '',\r\n      modalType: null,\r\n      arraySource: [],\r\n      imgID: null,\r\n      comentarios: []\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.user.user) {\r\n      let sourced = this.props.user.user.imagesWall.map(img => `${baseUrl}${img.filename}`)\r\n      this.setState({\r\n        arraySource: sourced\r\n      });\r\n    }\r\n    this.props.socketConection.on(\"chatNotification\", data => {\r\n      console.log(\"llego el socket main\", data);\r\n      this.props.inboxFetch();\r\n    })\r\n  }\r\n\r\n  controlState = (e) => {\r\n    e.preventDefault();\r\n    const target = e.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleimg = (e) => {\r\n    e.preventDefault();\r\n    let loadProfile = e.target.files[0];\r\n    let showImg = URL.createObjectURL(e.target.files[0]);\r\n\r\n    this.setState({\r\n      image: loadProfile,\r\n      imageShowen: showImg\r\n\r\n    });\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const filedata = new FormData();\r\n    filedata.append('image', this.state.image, this.state.image.name);\r\n    let ID = this.props.auth.user.username;\r\n    this.props.imagenUser(ID, filedata)\r\n      .then(() => {\r\n        // this.props.history.push(\"/home\");\r\n        window.location.reload();\r\n      });\r\n  }\r\n\r\n  //ENVIA LOS DATOS A REDUX PARA LAS IMAGENES DEL MURO\r\n  //CARGA LA IMAGEN EN EL STATE DESDE EL FORM PARA LAS IMAGENS DEL MURO\r\n  handlewallimg = (e) => {\r\n    let loadingImgWall = e.target.files[0];\r\n    this.setState({\r\n      loadWall: loadingImgWall\r\n    });\r\n  }\r\n\r\n  handleWallSubmit = (e) => {\r\n    e.preventDefault();\r\n    const fd = new FormData();\r\n    fd.append('image', this.state.loadWall, this.state.loadWall.name);\r\n    let ID = this.props.auth.user.username;\r\n    console.log(\"aaa\", fd);\r\n    console.log(\"aaa\", this.state.loadWall.name);\r\n    this.props.imagenWall(ID, fd)\r\n      .then(() => {\r\n        //this.props.history.push(\"/home\");\r\n        window.location.reload();\r\n      });\r\n  }\r\n\r\n  toggleModal = (e) => {\r\n    let idfoto = e.target.alt\r\n    let valueId = e.target.id\r\n    if (valueId === \"wall\") {\r\n      this.setState({\r\n        isModalOpen: !this.state.isModalOpen,\r\n        i: e.target.src,\r\n        modalType: e.target.id,\r\n        imgID: idfoto\r\n      });\r\n      this.fetchComments(idfoto);\r\n      this.fetchImgLikes();\r\n    } else if (valueId === \"profile\") {\r\n      this.setState({\r\n        isModalOpen: !this.state.isModalOpen,\r\n        i: e.target.src,\r\n        modalType: e.target.id,\r\n        imgID: idfoto\r\n      });\r\n    } else if (valueId === \"trashId\") {\r\n      this.setState({\r\n        isTrashModalOpen: true\r\n      });\r\n    } else if (valueId === \"likemodal\") {\r\n      this.setState({\r\n        isLikesModalOpen: !this.state.isLikesModalOpen,\r\n      });\r\n    } else if (valueId === \"trashIdOff\") {\r\n      this.setState({\r\n        isTrashModalOpen: false,\r\n      });\r\n    }\r\n    else {\r\n      this.setState({\r\n        isModalOpen: false,\r\n        isTrashModalOpen: false,\r\n        isLikesModalOpen: false\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  backForthModal = (e) => {\r\n    let mode = e.target.id\r\n    let currentlyUserId = JSON.parse(localStorage.getItem(\"id\"))\r\n    if (mode === \"back\") {\r\n      let currentlyOne = this.state.i;\r\n      let back = this.state.arraySource.indexOf(currentlyOne) - 1\r\n      let elementBack = this.state.arraySource[back]\r\n      this.setState({\r\n        i: elementBack\r\n      })\r\n      this.fetchPhotoId(currentlyUserId, elementBack);\r\n      this.fetchImgLikes();\r\n    } else {\r\n      let currentlyOne = this.state.i;\r\n      let forth = this.state.arraySource.indexOf(currentlyOne) + 1\r\n      let elementForth = this.state.arraySource[forth]\r\n      this.setState({\r\n        i: elementForth\r\n      })\r\n      this.fetchPhotoId(currentlyUserId, elementForth);\r\n    }\r\n  }\r\n\r\n  deletePhotograph = () => {\r\n    this.setState({ loading: true })\r\n    const bearer = 'Bearer ' + localStorage.getItem('token');\r\n    var config = {\r\n      userid: JSON.parse(localStorage.getItem(\"id\")),\r\n      imageid: this.state.imgID\r\n    }\r\n    return fetch(baseUrl + `imagen/removeimage`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(config),\r\n      headers: {\r\n        'Authorization': bearer,\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false, e: err })\r\n      })\r\n  }\r\n  fetchPhotoId = (ID, element) => {\r\n    let bodyPath = element.split(baseUrl)[1]\r\n    var config = {\r\n      foto: bodyPath\r\n    };\r\n    return fetch(baseUrl + `users/returnid/${ID}`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(config),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(data => data.json())\r\n      .then(response => {\r\n        let result = response.result\r\n        this.setState({ imgID: result })\r\n        return result;\r\n      })\r\n      .then((result) => {\r\n        this.fetchComments(result)\r\n        this.fetchImgLikes();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false, e: err })\r\n      })\r\n  }\r\n\r\n  fetchComments = (ID) => {\r\n    return fetch(baseUrl + `comments/get-comments-image/${ID}`)\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        this.setState({\r\n          comentarios: json\r\n        })\r\n      })\r\n      .catch(err => {\r\n        this.setState({ e: err })\r\n      })\r\n  }\r\n  fetchImgLikes = async () => {\r\n    let userId = await JSON.parse(localStorage.getItem(\"id\"))\r\n    let imgId = await this.state.imgID;\r\n    const bearer = 'Bearer ' + localStorage.getItem(\"token\");\r\n\r\n    return fetch(baseUrl + `likes/get-i-like-it/${userId}/${imgId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        'Authorization': bearer\r\n      },\r\n      credentials: \"same-origin\" \r\n    })\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        this.setState({\r\n          likes: json\r\n        })\r\n      })\r\n      .catch(err => {\r\n        this.setState({ e: err })\r\n      })\r\n  }\r\n  deleteComments = (ID) => {\r\n    const bearer = 'Bearer ' + localStorage.getItem('token');\r\n    return fetch(baseUrl + `comments/get-comments-image/${ID}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        'Authorization': bearer,\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        this.setState({\r\n          comentarios: this.state.comentarios.filter(item => item._id !== json._id)\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ e: err })\r\n      })\r\n  }\r\n  handleCommentSubmit = (values) => {\r\n\r\n    const comment = {\r\n      comment: values.comment,\r\n      author: JSON.parse(localStorage.getItem(\"id\")),\r\n      image: this.state.imgID\r\n    }\r\n    const commentState = {\r\n      comment: values.comment,\r\n      author: this.props.user.user,\r\n      image: this.state.imgID\r\n    }\r\n    this.props.commentsPost(comment)\r\n      .then(() => {\r\n        this.setState({\r\n          comentarios: this.state.comentarios.concat(commentState)\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    console.log(\"this.state.\", this.state.loadWall);\r\n    if (this.props.user.isLoading) {\r\n      return (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <Loading />\r\n            <button onClick={this.handleFetch} />\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (this.props.user.errMess) {\r\n      return (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <h4>{this.props.user.errMess}</h4>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <div>\r\n\r\n          <ImgProfile user={this.props.user.user}\r\n\r\n          toggleModal={this.toggleModal}\r\n\r\n          imageShowen={this.state.imageShowen}\r\n\r\n            isModalOpen={this.state.isModalOpen} onSubmit={this.handleSubmit}\r\n            source={this.state.i} handleimg={this.handleimg} imgProfileLoad={this.state.image}\r\n            handleWallSubmit={this.handleWallSubmit} arraySource={this.state.arraySource} likes={this.state.likes}\r\n            state={this.state} handlewallimg={this.handlewallimg} handleCommentSubmit={this.handleCommentSubmit}\r\n            backForthModal={this.backForthModal} isTrashModalOpen={this.state.isTrashModalOpen} isLikesModalOpen={this.state.isLikesModalOpen}\r\n            deletePhotograph={this.deletePhotograph} commentarios={this.state.comentarios} deleteComments={this.deleteComments}\r\n          />\r\n          <ImgWall imagesWall={this.props.user.user.imagesWall} handleWallSubmit={this.handleWallSubmit}\r\n            state={this.state} handlewallimg={this.handlewallimg} toggleModal={this.toggleModal} />\r\n        </div>\r\n      )\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nconst ImgProfile = ({ user, toggleModal, imageShowen, isModalOpen, handleCommentSubmit,\r\n  onSubmit, source, handleimg, arraySource, backForthModal, isTrashModalOpen, likes,\r\n  handleWallSubmit, handlewallimg, state, deletePhotograph, commentarios, deleteComments, isLikesModalOpen }) => {\r\n    \r\n    let textInput = useRef(null);\r\n    function handleClick() {\r\n      textInput.current.click();\r\n    }\r\n    return (\r\n    <div>\r\n      <Modal isOpen={isModalOpen} toggle={toggleModal} size=\"lg\" >\r\n        <div style={isModalOpen && state.modalType === \"wall\" && arraySource.indexOf(source) !== 0 ?\r\n          { color: \"black\", fontSize: \"40px\", position: \"absolute\", left: \"-50px\", top: \"40%\", zIndex: \"1\" } : { display: \"none\" }}>\r\n          <span className=\"fas fa-angle-left\" id=\"back\" onClick={(event) => backForthModal(event)}></span>\r\n        </div>\r\n        <div style={isModalOpen && state.modalType === \"wall\" && arraySource.indexOf(source) !== arraySource.length - 1 ?\r\n          { color: \"\", fontSize: \"40px\", position: \"absolute\", right: \"-50px\", top: \"40%\", zIndex: \"1\" } : { display: \"none\" }}>\r\n          <span className=\"fas fa-angle-right\" id=\"forth\" onClick={(event) => backForthModal(event)}></span>\r\n        </div>\r\n        {state.modalType === \"profile\" ?\r\n          <div className=\"modalprofile\">\r\n            <Form onSubmit={onSubmit} encType=\"multipart/form-data\" >\r\n              <LocalForm>\r\n                <ModalBody toggle={toggleModal}>\r\n                  <Label htmlFor=\"img\">\r\n                    <div className=\"imagina\">\r\n                      {imageShowen === null ?\r\n                        <div className=\"hovertextfather\" >\r\n                          <h6 className=\"hovertext\">Click For Change Your Photo</h6>\r\n                        </div>\r\n                        : null\r\n                      }\r\n                      <img src={imageShowen !== null ? imageShowen : source} alt=\"wall grid\" className=\"w-100 h-100 mh-30 juajua\" />\r\n                    </div>\r\n                    <Input\r\n                      type=\"file\"\r\n                      id=\"img\"\r\n                      name=\"image\"\r\n                      className=\"btn-success\"\r\n                      onChange={handleimg}\r\n                      style={{ display: \"none\" }}\r\n                    />\r\n                    <div className=\" row foot\" style={imageShowen !== null ? { display: \"flex\", alignItems: \"center\", justifyContent: \"center\" } : { display: \"none\" }}>\r\n                      <Button type=\"submit\" onClick={onSubmit} style={{ position: \"absolute\" }}>Change</Button>\r\n                    </div>\r\n                  </Label>\r\n                </ModalBody>\r\n              </LocalForm>\r\n            </Form>\r\n          </div>\r\n          :\r\n            <LocalForm onSubmit={(values) => handleCommentSubmit(values)}>\r\n              <ModalBody toggle={toggleModal} className=\"modalWithoutPadding\">\r\n                <LikesModal isLikesModalOpen={isLikesModalOpen} toggle={toggleModal} likes={likes} />\r\n                <Modalidad>\r\n                  <div className=\"modalgroup\">\r\n                    <div className=\"c\">\r\n                      <div className=\"trashIcon\">\r\n                        <Button id=\"trashId\" onClick={(e) => toggleModal(e)}><span className=\" fa fa-trash-alt \"></span></Button>\r\n                      </div>\r\n                      <img className=\"resp\" src={source} alt=\"wall grid\" />\r\n                    </div>\r\n                    <div className=\"modalComments\">\r\n                      <div className=\"comm\">\r\n                        <RenderComments comentarios={commentarios} deleteComments={deleteComments} />\r\n                      </div>\r\n                      <div>{\r\n                        likes.length > 0\r\n                          ?\r\n                          <h6>Le gusta esta foto a <strong id=\"likemodal\" onClick={(event) => toggleModal(event)} >{likes.length} usuarios</strong></h6>\r\n                          :\r\n                          <h6>Se el primero en marcar me gusta</h6>\r\n                      }</div>\r\n                      <div className=\"foot\">\r\n                        <div className=\"texto\">\r\n                          <Control.textarea model=\".comment\" id=\"comment\" />\r\n                        </div>\r\n                        <div className=\"footButtons\">\r\n                          <div className=\"buton btn-sm\" >\r\n                            <Button type=\"submit\" className=\"btn-sm\"><span className=\"fas fa-paper-plane\"></span></Button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Modalidad>\r\n              </ModalBody>\r\n            </LocalForm>\r\n        }\r\n\r\n\r\n        <ModalExample isTrashModalOpen={isTrashModalOpen} toggleModal={toggleModal} deletePhotograph={deletePhotograph} />\r\n      </Modal>\r\n      <div className=\"container \">\r\n        <ProfileImage>\r\n          <div className=\"image-content\">\r\n            <img\r\n              src={baseUrl + user.image.filename}\r\n              alt={user._id}\r\n              value={imageShowen}\r\n              id=\"profile\"\r\n              className=\"img-thumbnail\"\r\n              onClick={(e) => toggleModal(e)}\r\n            />\r\n          </div>\r\n          \r\n\r\n        </ProfileImage>\r\n\r\n\r\n        <div className=\"user-info\">\r\n          <div className=\"user-info-description\">\r\n            <h5 className=\"\">{user.firstname} {user.lastname}</h5>\r\n            <h5 className=\"\">{`\"${user.phrase}\"`}</h5>\r\n            <h5 className=\"\">{user.followers.length} Seguidores - {user.following.length} Seguidos</h5>\r\n          </div>\r\n          <div className=\"user-info-post\">\r\n            {state.loadWall === null ?\r\n              <div>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"imgen\"\r\n                  name=\"image\"\r\n                  onChange={handlewallimg}\r\n                  ref={textInput}\r\n                  style={{ display: \"none\" }}\r\n                />\r\n                <button className=\"fa fa-camera fa-md\" onClick={handleClick} />\r\n              </div>\r\n              : state.loadWall.name !== undefined ?\r\n                <Form onSubmit={handleWallSubmit} encType=\"multipart/form-data\" >\r\n                  <LocalForm>\r\n                    <Button onClick={handleWallSubmit}>Enviar</Button>\r\n                  </LocalForm>\r\n                </Form>\r\n                :\r\n                null\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nconst ImgWall = ({ imagesWall, handleWallSubmit, handlewallimg, state, toggleModal }) => {\r\n  const [width] = useWindowSize();\r\n  let screen = width >= 600 ? true : false\r\n    const WALL = \r\n      imagesWall && screen ?\r\n        imagesWall.map((user) => {\r\n      return (\r\n        <div className=\"image-content\" key={user._id}>\r\n          <img className=\"img-thumbnail img-grid\" id=\"wall\" src={baseUrl + user.filename} alt={user._id} onClick={(e) => toggleModal(e)} />\r\n        </div>\r\n      )\r\n      })\r\n    :\r\n    imagesWall.map((user) => {\r\n      return (\r\n        <div className=\"image-content\" key={user._id}>\r\n          <Link to={`/view/imagenwall/${user._id}`}>\r\n            <img className=\"img-thumbnail img-grid\" id=\"wall\" src={baseUrl + user.filename} alt={user._id} onClick={(e) => toggleModal(e)} />\r\n          </Link>\r\n        </div>\r\n      )\r\n    })\r\n  \r\n\r\n  return (\r\n    <div className=\"wall-container\">\r\n        {WALL}\r\n     \r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nconst ModalExample = (props) => {\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Modal isOpen={props.isTrashModalOpen} toggle={props.toggleModal}>\r\n        <ModalHeader >Delete Photograph</ModalHeader>\r\n        <ModalBody toggle={props.toggleModal}>\r\n          Do you want to DELETE this photograph?\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={props.deletePhotograph}>Delete Photo</Button>{' '}\r\n          <Button color=\"secondary\"  onClick={props.toggleModal}>Cancel</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\nconst Modalidad = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\n\r\ndiv.modalgroup {\r\n    display: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\n}\r\ndiv.modalComments {\r\n    display: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\n\r\n}\r\n\r\ndiv.foot {\r\n    display: flex;\r\nflex-direction: row;\r\n    margin-left: 5%;\r\n}\r\ndiv.footButtons {\r\n    display: flex;\r\nflex-direction: column;\r\n}\r\ndiv.comm {\r\n    height: 460px;\r\n    display: block;\r\n    overflow-y: scroll;\r\n  scroll-behavior: smooth;\r\n}\r\ndiv.c {\r\n    width: 450px;\r\n    height: 550px;\r\n}\r\nimg.resp {\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: contain;\r\n  }\r\n  img.comment{\r\n    margin-left: 5%;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: cover;\r\n  }\r\n  @media (max-width: 991px) {\r\n    div.modalComments {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\nconst ProfileImage = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: center;\r\n.image-content {\r\n  width: 21vw;\r\n  height: 21vw;\r\n}\r\n\r\n\r\nimg {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n`\r\nexport default withRouter(Album);\r\n","import React from \"react\";\r\n\r\nconst PostSignup = props => {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <h3 className=\"col-md-4 offset-4\">{props.signup.successMess}</h3>\r\n      </div>\r\n      <div className=\"row\">\r\n        <a href=\"/\" className=\"col-md-4 offset-4\">\r\n          <button className=\"btn-success col-md-4 offset-4\">Ir a Home</button>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostSignup;\r\n","import React from \"react\";\r\nimport {\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Col,\r\n  FormFeedback,\r\n  Button,\r\n  CustomInput\r\n} from \"reactstrap\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstname: null,\r\n      lastname: null,\r\n      phrase: null,\r\n      status: null\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.controlState = this.controlState.bind(this);\r\n  }\r\ncomponentDidMount(){\r\n  this.setState({\r\n    status: this.props.user.user.publicStatus\r\n  });\r\n}\r\n  controlState(e) {\r\n    const target = e.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    if(name === \"status\"){\r\n      this.setState({\r\n        status: !this.state.status\r\n      });\r\n    }else{\r\n          this.setState({\r\n      [name]: value\r\n    });\r\n    }\r\n\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const settings = {\r\n      firstname: this.state.firstname,\r\n      lastname: this.state.lastname,\r\n      phrase: this.state.phrase,\r\n      status: this.state.status\r\n    };\r\n    const userid = this.props.user.user._id;\r\n\r\n    this.props.settingsUser(userid, settings).then(() => {\r\n      this.props.history.push(\"/home\");\r\n      window.location.reload(true);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    console.log(this.state);\r\n    return (\r\n      <div>\r\n        <div className=\"container \">\r\n          <Form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\r\n            <FormGroup row>\r\n              <Label htmlFor=\"firstname\" md={2}>\r\n                Nombre\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  id=\"firstname\"\r\n                  name=\"firstname\"\r\n                  placeholder=\"Nombre\"\r\n                  onChange={this.controlState}\r\n                  value={this.state.firstname}\r\n                />\r\n                <FormFeedback />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"lastname\" md={2}>\r\n                Apellido\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"text\"\r\n                  id=\"lastname\"\r\n                  name=\"lastname\"\r\n                  placeholder=\"Apellido\"\r\n                  onChange={this.controlState}\r\n                  value={this.state.lastname}\r\n                />\r\n                <FormFeedback />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"phrase\" md={2}>\r\n                Frase de Cabecera\r\n              </Label>\r\n              <Col md={10}>\r\n                <Input\r\n                  type=\"textarea\"\r\n                  id=\"phrase\"\r\n                  name=\"phrase\"\r\n                  placeholder=\"Frase de Cabecera\"\r\n                  onChange={this.controlState}\r\n                  value={this.state.phrase}\r\n                />\r\n              </Col>\r\n            </FormGroup>\r\n            <FormGroup row>\r\n              <Label htmlFor=\"status\" md={2}>\r\n                Estado de la cuenta\r\n              </Label>\r\n              <Col md={10}>\r\n                {this.state.status === true ?\r\n                <CustomInput type=\"switch\" id=\"status\" name=\"status\" label=\"privada\" \r\n                onChange={this.controlState}\r\n                value={this.state.status}\r\n                checked\r\n                />\r\n                :\r\n                <CustomInput type=\"switch\" id=\"status\" name=\"status\" label=\"publica\" \r\n                onChange={this.controlState}\r\n                value={this.state.status}\r\n                \r\n                />\r\n                }\r\n              \r\n              </Col>\r\n              <Col>\r\n                <Button type=\"submit\">Enviar</Button>\r\n              </Col>\r\n            </FormGroup>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Settings);\r\n","import React, { useLayoutEffect, useState } from \"react\";\r\nimport styled from 'styled-components'\r\nimport { RenderComments } from './CommentComponent';\r\nimport { LikesModal } from './LikesModal';\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { Modal, ModalBody, Button } from 'reactstrap';\r\nimport { Control, LocalForm } from 'react-redux-form';\r\n\r\nfunction useWindowSize() {\r\n    const [size, setSize] = useState([0]);\r\n    useLayoutEffect(() => {\r\n      function updateSize() {\r\n        setSize([window.innerWidth]);\r\n      }\r\n      window.addEventListener('resize', updateSize);\r\n      updateSize();\r\n      return () => window.removeEventListener('resize', updateSize);\r\n    }, []);\r\n    return size;\r\n  }\r\n\r\nclass UsersComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n            loading: false,\r\n            results: [],\r\n            e: false,\r\n            isNavOpen: false,\r\n            isModalOpen: false,\r\n            i: null,\r\n            arraySource: [],\r\n            comentarios: [],\r\n            imgID: null,\r\n            likes: [],\r\n            isLikesModalOpen: false,\r\n            size: null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.socketConection.on(\"chatNotification\", data => {\r\n            console.log(\"llego el socket main\", data);\r\n            this.props.inboxFetch();\r\n        })\r\n        const ID = {host: this.props.match.params.idhost,\r\n                    user: this.props.match.params.idusers\r\n                    }\r\n        return this.props.auth.isAuthenticated === false ?\r\n                this.props.history.push(\"/userpage\") :\r\n                ID.user === this.props.auth.user.username ?\r\n                this.props.history.push(\"/userpage\") :\r\n                this.props.fetchDataUser(ID)\r\n                .then(() => {\r\n                    this.setState({results: [this.props.users.users]})\r\n                    this.fetchData();\r\n            })\r\n    }\r\n\r\n    handleFollow = (followerId) => {\r\n        const followingId = this.props.user.user._id;\r\n        const userData = followerId\r\n        this.props.followFetch(followingId, userData)\r\n            .then(() => {\r\n                const ID = {host: this.props.match.params.idhost,\r\n                    user: this.props.match.params.idusers\r\n                    }\r\n                this.props.fetchDataUser(ID)\r\n            })\r\n    }\r\n    fetchData = () => {\r\n        let sourced = !this.state.results[0].imagesWall ? null : this.state.results[0].imagesWall.map(img => `${baseUrl}${img.filename}`)\r\n        this.setState({arraySource: sourced })\r\n    }\r\n    // fetchData(url) {\r\n    //     const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n    //     this.setState({ loading: true })\r\n    //     var config = JSON.parse(localStorage.getItem(\"id\"))\r\n    //     fetch(baseUrl + `users/profile/${url}/${config}`,{\r\n    //         method: \"GET\",\r\n    //         headers: {\r\n    //           \"Content-Type\": \"application/json\",\r\n    //           Authorization: bearer\r\n    //         }\r\n    //     })\r\n    //         .then(data => data.json())\r\n    //         .then(json => {\r\n    //             let sourced = json.imagesWall.map(img => `${baseUrl}${img.filename}`)\r\n    //             this.setState({ loading: false, results: [json], arraySource: sourced })\r\n    //         })\r\n    //         .catch(err => {\r\n    //             this.setState({ loading: false, e: err })\r\n    //         })\r\n    // }\r\n    backForthModal = (e) => {\r\n        e.preventDefault();\r\n        let mode = e.target.id\r\n        let currentlyUserId = this.state.results[0]._id;//id del usuario\r\n        if (mode === \"back\") {\r\n            let currentlyOne = this.state.i;\r\n            let back = this.state.arraySource.indexOf(currentlyOne) - 1\r\n            let elementBack = this.state.arraySource[back]\r\n            this.setState({\r\n                i: elementBack\r\n            })\r\n            this.fetchPhotoId(e, currentlyUserId, elementBack);\r\n        } else {\r\n            let currentlyOne = this.state.i;\r\n            let forth = this.state.arraySource.indexOf(currentlyOne) + 1\r\n            let elementForth = this.state.arraySource[forth]\r\n            this.setState({\r\n                i: elementForth\r\n            })\r\n           \r\n\r\n            this.fetchPhotoId(e, currentlyUserId, elementForth);\r\n        }\r\n    }\r\n\r\n    toggleModal = (e, valueId) => {\r\n        e.preventDefault();\r\n        var mgID = e.target.id;//id imagen\r\n        if (valueId === \"wall\") {\r\n            this.setState({\r\n                isModalOpen: !this.state.isModalOpen,\r\n                i: e.target.src,//url imagen\r\n                imgID: mgID\r\n            });\r\n            this.fetchComments(mgID)\r\n            this.fetchUsersLikes(e);\r\n        } else if (valueId === \"likemodal\") {\r\n            this.setState({\r\n                isLikesModalOpen: !this.state.isLikesModalOpen,\r\n            });\r\n            this.fetchUsersLikes(e)\r\n        } else {\r\n            this.setState({\r\n                isModalOpen: false,\r\n                isTrashModalOpen: false,\r\n                isLikesModalOpen: false\r\n            });\r\n        }\r\n    }\r\n\r\n    fetchPhotoId = (e, ID, element) => {\r\n        let bodyPath = element.split(baseUrl)[1]\r\n        var config = {\r\n            foto: bodyPath\r\n        };\r\n        return fetch(baseUrl + `users/returnid/${ID}`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(config),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(data => data.json())\r\n            .then(response => {\r\n                let result = response.result\r\n                this.setState({ imgID: result })\r\n                return result;\r\n            })\r\n            .then((result) => {\r\n                this.fetchComments(result)\r\n                this.fetchUsersLikes(e)\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, e: err })\r\n            })\r\n    }\r\n    fetchComments = (ID) => {\r\n        return fetch(baseUrl + `comments/get-comments-image/${ID}`)\r\n            .then(data => data.json())\r\n            .then(json => {\r\n                this.setState({\r\n                    comentarios: json\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ e: err })\r\n            })\r\n    }\r\n    deleteComments = (ID) => {\r\n        const bearer = 'Bearer ' + localStorage.getItem('token');\r\n        return fetch(baseUrl + `comments/get-comments-image/${ID}`, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                'Authorization': bearer,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(data => data.json())\r\n            .then(json => {\r\n                this.setState({\r\n                    comentarios: this.state.comentarios.filter(item => item._id !== json._id)\r\n                });\r\n            })\r\n            .catch(err => {\r\n                this.setState({ e: err })\r\n            })\r\n    }\r\n    handleSubmit(values) {\r\n        const comment = {\r\n            comment: values.comment,\r\n            author: localStorage.getItem(\"id\"),\r\n            image: this.state.imgID\r\n        }\r\n        const commentState = {\r\n            comment: values.comment,\r\n            author: this.props.user.user,\r\n            image: this.state.imgID\r\n        }\r\n        this.props.commentsPost(comment)\r\n            .then(() => {\r\n                this.setState({\r\n                    comentarios: this.state.comentarios.concat(commentState)\r\n                })\r\n\r\n            })\r\n    }\r\n    handleLike = async (event) => {\r\n        event.preventDefault();\r\n        //var likeState = await this.state.likes\r\n        let img = await this.state.imgID\r\n        var usersData = {\r\n            id: JSON.parse(localStorage.getItem('id')),\r\n            liked: await this.state.results[0]._id\r\n        }\r\n        this.props.postLike(img, usersData)\r\n            .then(async () => {\r\n                await this.fetchUsersLikes(event);\r\n            })\r\n    }\r\n    fetchUsersLikes = async (event) => {\r\n        event.preventDefault();\r\n        let userId = await this.state.results[0]._id;\r\n        let imgId = await this.state.imgID;\r\n        await this.props.fetchLikes(userId, imgId)\r\n            .then((likeResult) => {\r\n                this.setState({\r\n                    likes: this.props.likes\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        console.log(\"state\",this.state)\r\n        console.log(\"state\",this.props.users.isLoading)\r\n        \r\n        let filtrado = JSON.parse(localStorage.getItem(\"id\"));\r\n        \r\n        let currentlyPictureId = !this.state.likes ? [] : this.state.likes.filter(user => user._id === filtrado)[0];\r\n\r\n        return (\r\n            <div className=\"container-fluid \">\r\n\r\n                <Modal isOpen={this.state.isModalOpen} toggle={(e) => this.toggleModal(e)} size=\"lg\" >\r\n                    <div style={this.state.isModalOpen && this.state.arraySource.indexOf(this.state.i) !== 0 ?\r\n                        { color: \"black\", fontSize: \"40px\", position: \"absolute\", left: \"-50px\", top: \"40%\", zIndex: \"1\" } : { display: \"none\" }}>\r\n                        <span className=\"fas fa-angle-left\" id=\"back\" onClick={(event) => this.backForthModal(event)}></span>\r\n                    </div>\r\n                    <div style={this.state.isModalOpen && this.state.arraySource.indexOf(this.state.i) !== this.state.arraySource.length - 1 ?\r\n                        { color: \"\", fontSize: \"40px\", position: \"absolute\", right: \"-50px\", top: \"40%\", zIndex: \"1\" } : { display: \"none\" }}>\r\n                        <span className=\"fas fa-angle-right\" id=\"forth\" onClick={(event) => this.backForthModal(event)}></span>\r\n                    </div>\r\n                    <LikesModal isLikesModalOpen={this.state.isLikesModalOpen} toggle={this.toggleModal} likes={this.state.likes} />\r\n                    <LocalForm onSubmit={(values) => this.handleSubmit(values)}>\r\n                        <ModalBody toggle={(e) => this.toggleModal(e)} className=\"modalWithoutPadding\">\r\n                            <ModalGrid>\r\n                                <div className=\"modalgroup\">\r\n                                    <div className=\"c\">\r\n                                        <img className=\"resp\" src={this.state.i} alt=\"wall grid\" />\r\n                                    </div>\r\n                                    <div className=\"modalComments\">\r\n                                        <div className=\"comm\">\r\n                                            <RenderComments comentarios={this.state.comentarios} state={this.state} deleteComments={this.deleteComments} />\r\n                                        </div>\r\n                                        <div>{\r\n                                            this.state.likes.length > 0\r\n                                                ?\r\n                                                <h6>Le gusta esta foto a <strong onClick={(event) => this.toggleModal(event, \"likemodal\")} >{this.state.likes.length} usuarios</strong></h6>\r\n                                                :\r\n                                                <h6>Se el primero en marcar me gusta</h6>\r\n                                        }</div>\r\n                                        <div className=\"foot\">\r\n                                            <div className=\"texto\">\r\n                                                <Control.textarea model=\".comment\" id=\"comment\" />\r\n                                            </div>\r\n                                            <div className=\"footButtons\">\r\n                                                <div className=\"ml-2\">\r\n                                                    <Button onClick={(event) => this.handleLike(event)}>\r\n                                                        {\r\n                                                            !currentlyPictureId\r\n                                                                ?\r\n                                                                <span className=\"fa fa-heart\"></span>\r\n                                                                :\r\n                                                                <span className=\"fa fa-heart\" style={{ color: 'red' }}></span>\r\n\r\n                                                        }\r\n                                                    </Button>\r\n                                                </div>\r\n                                                <div className=\"buton btn-sm\" >\r\n                                                    <Button type=\"submit\" className=\"btn-sm\">Enviar</Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </ModalGrid>\r\n\r\n                        </ModalBody>\r\n\r\n                    </LocalForm>\r\n                </Modal>\r\n                <div>\r\n                    <Render loading={this.state.loading} data={this.state.results} handleFollow={this.handleFollow}\r\n                        followers={this.props.followers} toogle={this.toggleModal} />\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nconst Render = (props) => {\r\n    const [width] = useWindowSize();\r\n    let screen = width >= 600 ? true : false\r\n    const Data = props.data;\r\n    console.log(\"screen\", document.width);\r\n    console.log(\"screen\", Data);\r\n\r\n    const USUARIOS = Data.map(user => {\r\n        let loading = props.loading === true ? true : false\r\n        const foll = user.followers.some(foll => foll.id._id === JSON.parse(localStorage.getItem('id')) ? true : false);\r\n        const noti = user.notifications.some(noti => noti.followingId === JSON.parse(localStorage.getItem('id')) ? true : false);\r\n        return (\r\n            <div key={user._id}>\r\n                <ProfileImage className=\"\">\r\n                    <div className=\"image-content\">\r\n                        <img\r\n                            src={baseUrl + user.image.filename} alt=\"Profile One\"\r\n                            className=\"img-thumbnail\"\r\n                        />\r\n                     </div>\r\n                </ProfileImage>\r\n                {\r\n                    loading === true ?\r\n                        <div className=\"\">\r\n                            <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3 \">\r\n                                <span className=\"fas fa-spinner fa-spin\"></span>\r\n                            </Button>\r\n                        </div> :\r\n                        noti === true ?\r\n                            <div className=\"\">\r\n                                <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3 \">\r\n                                    <span className=\"fas fa-hourglass-half fa-spin mr-2\"></span>Wait Response\r\n                                </Button>\r\n                            </div>\r\n\r\n                            : foll === false ?\r\n                                <div>\r\n                                    <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3 fas fa-user-plus\" onClick={() => props.handleFollow(user._id)} />\r\n                                </div> :\r\n\r\n                                <div >\r\n                                    <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3\">Siguiendo</Button>\r\n                                </div>\r\n\r\n\r\n                }\r\n                    <div className=\"user-info\">\r\n                    <div className=\"user-info-description\">\r\n                        <h5 className=\"\">{user.firstname} {user.lastname}</h5>\r\n                        <h5 className=\"\">{`\"${user.phrase}\"`}</h5>\r\n                        <h5 className=\"\">{user.followers.length} Seguidores - {user.following.length} Seguidos</h5>\r\n                    </div>\r\n                    </div>\r\n                {\r\n                    user.imagesWall && screen ?\r\n                    \r\n                        <ImageGrids className=\"image-grid\">\r\n                            {user.imagesWall.map((img) => {\r\n\r\n                                return (\r\n\r\n                                    <div className=\"image-content\" key={img._id}>\r\n                                        <img className=\"img-thumbnail img-grid\" src={baseUrl + img.filename} alt={img._id} id={img._id} onClick={(e) => props.toogle(e, \"wall\")} />\r\n                                    </div>\r\n\r\n                                )\r\n                            })}\r\n                        </ImageGrids>\r\n                        :\r\n                        user.imagesWall ?\r\n                        <ImageGrids className=\"image-grid\">\r\n                            {user.imagesWall.map((img) => {\r\n\r\n                                return (\r\n                                    \r\n                                        <div className=\"image-content\" key={img._id}>\r\n                                            <Link to={`/view/imagenwall/${img._id}`}><img className=\"img-thumbnail img-grid\" src={baseUrl + img.filename} alt={img._id} id={img._id} /></Link>\r\n                                        </div>\r\n                                )\r\n                            })}\r\n                        </ImageGrids>\r\n                        :\r\n                        <h6>{user.message}</h6>\r\n                }\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n\r\n        <div  >{USUARIOS}</div>\r\n\r\n    )\r\n}\r\nconst ProfileImage = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: center;\r\n.image-content {\r\n  width: 21vw;\r\n  height: 21vw;\r\n}\r\n\r\n\r\nimg {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n`\r\n\r\nconst ImageGrids = styled.div`\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    box-sizing: border-box;\r\n    margin: auto 5%;\r\n\r\n.image-content {\r\n    width: 33%;\r\n    height: 26vw;\r\n  }\r\n  \r\n  \r\n  .img-grid{\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n\r\n`\r\nconst ModalGrid = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\n\r\ndiv.modalgroup {\r\n    display: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\n}\r\ndiv.modalComments {\r\n    display: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\n\r\n}\r\ndiv.foot {\r\n    display: flex;\r\nflex-direction: row;\r\n    margin-left: 5%;\r\n}\r\ndiv.footButtons {\r\n    display: flex;\r\nflex-direction: column;\r\n}\r\ndiv.comm {\r\n    height: 460px;\r\n    display: block;\r\n    overflow-y: scroll;\r\n  scroll-behavior: smooth;\r\n}\r\ndiv.c {\r\n    width: 450px;\r\n    height: 550px;\r\n}\r\nimg.resp {\r\n    \r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: contain;\r\n  }\r\n  img.comment{\r\n    margin-left: 5%;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: cover;\r\n  }\r\n  @media (max-width: 991px) {\r\n    div.modalComments {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\nexport default withRouter(UsersComponent);\r\n","import React from 'react';\r\nimport styled from 'styled-components'\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { RenderComments } from './CommentComponent';\r\nimport { withRouter} from \"react-router-dom\";\r\nimport {\r\n    Button\r\n  } from \"reactstrap\";\r\n  \r\nimport { Control, LocalForm } from 'react-redux-form';\r\n\r\nclass ImagenComponent extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            data: null,\r\n            likes: null,\r\n            comentarios: null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const ID = this.props.match.params.idimg;\r\n        const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n        return fetch(`${baseUrl}imagen/view/imagenwall/${ID}`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                Authorization: bearer\r\n            }\r\n        })\r\n            .then(resp => resp.json())\r\n            .then(img => {\r\n                this.setState({\r\n                    data: img,\r\n                    likes: img.likes\r\n                })\r\n            })\r\n            .then(() => {\r\n                return fetch(baseUrl + `comments/get-comments-image/${ID}`)\r\n                    .then(data => data.json())\r\n                    .then(json => {\r\n                        this.setState({\r\n                            comentarios: json\r\n                        })\r\n                    })\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n\r\n            });\r\n    }\r\n    handleSubmit(values, event) {\r\n      event.preventDefault();\r\n      const commenta = {\r\n          comment: values.comment,\r\n          author: localStorage.getItem(\"id\"),\r\n          image: event.target.id\r\n      }\r\n      const commentState = {\r\n        comment: values.comment,\r\n        author: this.props.user.user,\r\n        image: this.state.imgID\r\n    }\r\n      console.log(\"eee\", commenta);\r\n      this.props.commentsPost(commenta)\r\n      .then(() => {\r\n        this.setState({\r\n            comentarios: this.state.comentarios.concat(commentState)\r\n        })\r\n\r\n    })\r\n  }\r\n  handleLike = async (event, imgI) => {\r\n      event.preventDefault();\r\n      let img = await imgI;\r\n      var usersData = {\r\n          id: JSON.parse(localStorage.getItem('id')),\r\n          liked: img\r\n      }\r\n      this.props.postLike(img, usersData)\r\n          .then((rest) => {\r\n            let data = this.state.likes\r\n            let likeResponse = !data ? null : data.some(user => user._id === usersData.id)\r\n              if(likeResponse){\r\n                let o = data.findIndex(i => i._id === usersData.id)\r\n                let update = data.splice(o, 1);\r\n                console.log(update);\r\n                this.setState({likes: data})\r\n              } else {\r\n                console.log(\"spsps\", usersData);\r\n                let update = data.push({_id: usersData.id})\r\n                console.log(update);\r\n                this.setState({likes: data})\r\n              }\r\n            })\r\n          }\r\n  deleteComments = (ID) => {\r\n    const bearer = 'Bearer ' + localStorage.getItem('token');\r\n    return fetch(baseUrl + `comments/get-comments-image/${ID}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        'Authorization': bearer,\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        this.setState({\r\n          comentarios: this.state.comentarios.filter(item => item._id !== json._id)\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ e: err })\r\n      })\r\n  }\r\n  deletePhotograph = (imgId) => {\r\n    // var config = {\r\n    //     userid: JSON.parse(localStorage.getItem(\"id\")),\r\n    //     imageid: imgId\r\n    //   }\r\n    //   console.log(\"fff\", config);\r\n    this.setState({ loading: true })\r\n    const bearer = 'Bearer ' + localStorage.getItem('token');\r\n    var config = {\r\n      userid: JSON.parse(localStorage.getItem(\"id\")),\r\n        imageid: imgId\r\n    }\r\n    return fetch(baseUrl + `imagen/removeimage`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(config),\r\n      headers: {\r\n        'Authorization': bearer,\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(data => data.json())\r\n      .then(json => {\r\n        this.props.history.push(\"/userpage\")\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false, e: err })\r\n      })\r\n  }\r\n    render() {\r\n      console.log(\"st\", this.state);\r\n        const imagenes = !this.state.data ? [] : this.state.data;\r\n        const likes = !this.state.likes ? [] : this.state.likes;\r\n        const commen = !this.state.comentarios ? [] : this.state.comentarios;\r\n        let filtrado = JSON.parse(localStorage.getItem(\"id\"));\r\n        let currentlyPictureId = !likes ? []:likes.some(user => user._id === filtrado)\r\n        let trashButton = imagenes.userData ? imagenes.userData._id === filtrado : null\r\n        console.log(\"st\", trashButton);\r\n        return (\r\n                <div>\r\n                <Modalidad>\r\n                  <div className=\"modalgroup\">\r\n                    <div className=\"c\">\r\n                      <div className=\"trashIcon\">\r\n                        {trashButton ?\r\n                          <Button id=\"trashId\"><span className=\" fa fa-trash-alt \" onClick={()=> this.deletePhotograph(imagenes._id)}></span></Button>\r\n                          : null\r\n                          }\r\n                      </div>\r\n                      <img src={`${baseUrl}${imagenes.filename}`} alt={imagenes._id} className=\"resp\"/>\r\n\r\n                    </div>\r\n                    <div className=\"modalComments\">\r\n                      <div className=\"comm\">\r\n                        {/* <RenderComments comentarios={commentarios} deleteComments={deleteComments} /> */}\r\n                        <RenderComments comentarios={commen} deleteComments={this.deleteComments}/>\r\n\r\n                      </div>\r\n                      <div className=\"comm-likes\">{\r\n                        // likes.length > 0\r\n                        true\r\n                          ?\r\n                        //   <h6>Le gusta esta foto a <strong id=\"likemodal\" onClick={(event) => toggleModal(event)} >{likes.length} usuarios</strong></h6>\r\n                        <h6>Le gusta esta foto a <strong id=\"likemodal\">usuarios</strong></h6>\r\n\r\n                          :\r\n                          <h6>Se el primero en marcar me gusta</h6>\r\n                      }</div>\r\n                      \r\n                      <LocalForm onSubmit={(values, event) => this.handleSubmit(values, event)} id={imagenes._id}>\r\n                      <div className=\"foot\">\r\n                          <div className=\"texto\">\r\n                              <Control.textarea model=\".comment\" id=\"comment\" className=\"textarea\"/>\r\n                          </div>\r\n                          <div className=\"footButtons\">\r\n                              <div>\r\n                                  <Button onClick={(event) => this.handleLike(event, imagenes._id)}>\r\n                                      {\r\n                                          !currentlyPictureId\r\n                                              ?\r\n                                              <span className=\"fa fa-heart\"></span>\r\n                                              :\r\n                                              <span className=\"fa fa-heart\" style={{ color: 'red' }}></span>\r\n\r\n                                      }\r\n                                  </Button>\r\n                              </div>\r\n                              <div className=\"\" >\r\n                                  <Button type=\"submit\"><span className=\"fas fa-paper-plane\"></span></Button>\r\n                              </div>\r\n                          </div>\r\n                          </div>\r\n                          </LocalForm>\r\n   \r\n\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                </Modalidad>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Modalidad = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: center;\r\n\r\ndiv.modalgroup {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  height:85vh;\r\n  width:70%;\r\n}\r\ndiv.modalComments {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 32%;\r\n  margin-left: 10px;\r\n}\r\ndiv.c {\r\n  width: 63%;\r\n}\r\ndiv.foot {\r\n  display: flex;\r\n  flex-direction: row; \r\n}\r\ntextarea {\r\n  width:100%;\r\n  height: 100%;\r\n}\r\ndiv.footButtons {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.foot Button {\r\n  // border-style: hidden;\r\n  color: black;\r\n  background-color: transparent;\r\n}\r\ndiv.comm {\r\n  height: 80%;\r\n  display: block;\r\n  overflow-y: scroll;\r\n  scroll-behavior: smooth;\r\n}\r\n\r\nimg.resp {\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: contain;\r\n}\r\nimg.comment{\r\n  margin-left: 5%;\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n}\r\n@media (max-width: 747px) {\r\n  div.modalgroup {\r\n    display: inline-block;\r\n    width: 100%;\r\n    margin-top: -21px;\r\n  }\r\n  div.modalComments {\r\n    display: flex;\r\n    justify-content: stretch;\r\n    flex-direction: column-reverse;\r\n    width: 100%;\r\n    margin: 0px;\r\n  }\r\n  div.comm-likes  {\r\n    display: none;\r\n  }\r\n  div.comm  {\r\n    margin-top: 15px;\r\n    display: flex;\r\n    justify-content: start\r\n    max-height: 300px;\r\n  }\r\n  div.foot{\r\n    display: flex;\r\n    justify-content:stretch;\r\n  }\r\n  .texto {\r\n    width:100%;\r\n  }\r\n  div.c {\r\n    display:inline-block\r\n    width: 100%;\r\n  }\r\n  img.resp {\r\n    width: 100%;\r\n    object-fit: fit;\r\n  }\r\n}\r\n}\r\n`\r\nexport default withRouter(ImagenComponent);","import React from 'react';\r\nimport { baseUrl } from '../../shared/baseUrl';\r\nimport styled from 'styled-components'\r\nexport default class Chats extends React.Component {\r\n    render() {\r\n        let usuario = JSON.parse(localStorage.getItem('id'));\r\n        const talksiStatusMap = this.props.talks ? this.props.talks : []\r\n        console.log(\"inboxwww\", talksiStatusMap);\r\n        const TALKS = talksiStatusMap.map(t => {\r\n            const imagen = t.members.userOne._id === JSON.parse(localStorage.getItem('id')) ? t.members.userTwo.image.filename : JSON.parse(localStorage.getItem('img'))\r\n            const name = t.members.userOne._id === JSON.parse(localStorage.getItem('id')) ? `${t.members.userTwo.firstname} ${t.members.userTwo.lastname}` : `${t.members.userOne.firstname} ${t.members.userOne.lastname}`\r\n            let seenIt = t.talk.some(element => element.author !== usuario && !element.seen)\r\n            const inboxdata = {\r\n                id: t._id,\r\n                room: t.room\r\n            }\r\n            console.log(\"x\", inboxdata);\r\n            return (\r\n                <div key={t._id}>\r\n                    { seenIt ?\r\n                    <div className=\"chats cursor\" onClick={(e) => this.props.inboxTalksHandler(e, inboxdata)}>\r\n                        <ImageGrida>\r\n                            <div>\r\n                                <img src={baseUrl + imagen} alt=\"chatimgstatus\" />\r\n                            </div>\r\n\r\n                            <div >\r\n                                <h6 id={t._id} >{name}</h6>\r\n                            </div>\r\n                        </ImageGrida>\r\n                    </div>\r\n                    :\r\n                    <div className=\"cursor\" onClick={(e) => this.props.inboxTalksHandler(e, inboxdata)}>\r\n                    <ImageGrida>\r\n                        <div>\r\n                            <img src={baseUrl + imagen} alt=\"chatimgstatus\" />\r\n                        </div>\r\n\r\n                        <div >\r\n                            <h6 id={t._id}>{name}</h6>\r\n                        </div>\r\n                    </ImageGrida>\r\n                </div>\r\n        }\r\n                </div>\r\n            )\r\n        })\r\n        return (\r\n            <div className=\"container-fluid inbox\">\r\n                <div className=\"row m-3\">\r\n                    <h5>Chats</h5>\r\n                </div>\r\n                <div className=\"row inboxes\">\r\n                    {TALKS}\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst ImageGrida = styled.div`\r\ndisplay: grid;\r\ngrid-gap: 10px;\r\ngrid-template-columns: 1fr 1fr 1fr;\r\ngrid-template-rows: 1fr;\r\ngrid-auto-rows: minmax(30%, 30%);\r\ngrid-auto-columns: minmax(30%, 30%);\r\nalign-items: center;\r\nh6 {\r\n    width: 100%;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    align-items: center;\r\n    margin-left: 15%;\r\n}\r\nimg{\r\n  margin: 15%;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n}\r\n\r\n@media (max-width: 1000px) {\r\n  img{\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 767px) {\r\n  img{\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 520px) {\r\n  img{\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 343px) {\r\n  img{\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n`","import React from 'react';\r\nimport { baseUrl } from '../../shared/baseUrl';\r\nimport styled from 'styled-components';\r\nimport { Input, FormGroup, Form } from 'reactstrap'\r\n\r\nexport default class Mensajes extends React.Component {\r\n    \r\n    chatContainer = React.createRef();\r\n    componentDidUpdate(){\r\n        this.scrollToMyRef()\r\n\r\n    }\r\n    scrollToMyRef = () => {\r\n        let scroll = this.chatContainer.current.scrollHeight - this.chatContainer.current.clientHeight;\r\n        this.chatContainer.current.scrollTo(0, scroll);\r\n      };\r\n    render() {\r\n        const inboxStatus = !this.props.chatTitle ? [] :this.props.chatTitle\r\n        const inboxMessages = this.props.chatUsers !== [] ? this.props.chatUsers : []\r\n        const inboxMessagesWindow = inboxMessages[0]\r\n        console.log(\"inboxStatus\", inboxStatus);\r\n        const INBOX = inboxStatus.map((i,index) => {\r\n            // const IMAGINA = i.id._id === JSON.parse(localStorage.getItem('id')) ? i.id.image.filename : JSON.parse(localStorage.getItem('img'))\r\n            let IMAGINA = i.id.image.filename;\r\n            return (\r\n                <div key={index}>\r\n                        <ImageTitle>\r\n                            <div>\r\n                                <img src={baseUrl + IMAGINA} alt=\"chatimgstatus\" />\r\n                            </div>\r\n\r\n                            <div className=\"hide-name\">\r\n                                <h6>{i.id.firstname} {i.id.lastname}</h6>\r\n                            </div>\r\n                        </ImageTitle>\r\n                </div>\r\n            )\r\n        })\r\n        let MESSAGES = !inboxMessagesWindow ? [] : inboxMessagesWindow.talk.map(l => {\r\n            let styling = l.author === JSON.parse(localStorage.getItem(\"id\")) ? this.props.chatStyle.own : this.props.chatStyle.they\r\n            return (\r\n\r\n                <div key={l._id} style={styling.margin}>\r\n                    <div style={styling}>\r\n                        <h6>{l.content}</h6>\r\n                    </div>\r\n                </div>\r\n\r\n            )\r\n        })\r\n\r\n        return (\r\n            <div  className=\"container-fluid inbox\" >\r\n                <div className=\"row m-3 align-items-center\">\r\n                    <h5>Mensajes</h5>\r\n                    <div className=\"justify-content-end\">{INBOX}</div>\r\n                </div>\r\n                <div ref={this.chatContainer} className=\"inboxes\">\r\n                    {!this.props.chatTitle[0] ?\r\n                        <div>\r\n                            <h1>Estado de la Conversacion</h1>\r\n                            <h4>Elije una conversacion o un Amigo</h4>\r\n                        </div>\r\n                        :\r\n                        <div className=\"message-display\"> \r\n                            <div className=\"\">\r\n                                {MESSAGES}\r\n                            </div>\r\n                            <div>\r\n                                <Form onSubmit={(e) => this.props.handleSubmitInbox(e)}>\r\n                                    <FormGroup className=\"in-inbox\">\r\n                                        <div className=\"chat-field\">\r\n                                                <div className=\"chat-input\">\r\n                                                    <Input\r\n                                                        type=\"text\"\r\n                                                        id=\"message\"\r\n                                                        name=\"message\"\r\n                                                        className=\"h-100\"\r\n                                                    />\r\n                                                </div>\r\n                                                <button type=\"submit\" className=\"fas fa-paper-plane button-chat\" />\r\n                                        </div>\r\n                                    </FormGroup>\r\n                                </Form>\r\n                            </div>\r\n                        </div>\r\n                }\r\n                </div>\r\n            </div>\r\n    )\r\n }\r\n}\r\nconst ImageTitle = styled.div`\r\ndisplay:flex;\r\nalign-items: center;\r\njustify-content: center;\r\nmargin-left: 15px;\r\nimg{\r\n    margin-right: 10px;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: cover;\r\n  }\r\n`","import React from 'react';\r\nimport { baseUrl } from '../../shared/baseUrl';\r\nimport styled from 'styled-components'\r\nexport default class Amigos extends React.Component {\r\n\r\n    render() {\r\n        const mapeo = this.props.followers ? this.props.followers : []\r\n        //const followersFilter = mapeo.filter(friend => friend._id !== userOne || friend._id !== userTwo)\r\n        const FOLLOW = mapeo.map(f => {\r\n            const user_id = f.id._id\r\n\r\n           return (\r\n                <div key={f._id}>\r\n                    <div className=\"cursor\"  onClick={(e) => this.props.inboxHandler(e, user_id)}>\r\n                        <ImageGrida >\r\n                            <div >\r\n                                <img src={baseUrl + f.id.image.filename} alt=\"chatimgstatus\"/>\r\n                            </div>\r\n\r\n                            <div >\r\n                                <h6>{`${f.id.firstname} ${f.id.lastname}`}</h6>\r\n                            </div>\r\n                        </ImageGrida>\r\n                    </div>\r\n                </div>\r\n\r\n            )\r\n        })\r\n        return (\r\n            <div className=\"container-fluid inbox\">\r\n                <div className=\"row m-3\">\r\n                    <h5>Amigos</h5>\r\n                </div>\r\n                <div className=\"row inboxes\">\r\n                    <h6 className=\"\">{FOLLOW}</h6>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\nconst ImageGrida = styled.div`\r\ndisplay: grid;\r\ngrid-gap: 10px;\r\ngrid-template-columns: 1fr 1fr 1fr;\r\ngrid-template-rows: 1fr;\r\ngrid-auto-rows: minmax(30%, 30%);\r\ngrid-auto-columns: minmax(30%, 30%);\r\nalign-items: center;\r\nh6 {\r\n    width: 100%;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    align-items: center;\r\n    margin-left: 15%;\r\n}\r\nimg{\r\n  margin: 15%;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n}\r\n\r\n@media (max-width: 1000px) {\r\n  img{\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 767px) {\r\n  img{\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 520px) {\r\n  img{\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 343px) {\r\n  img{\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n`","import React from 'react';\r\nimport Chats from './Inbox/ChatsComponent';\r\nimport Mensajes from './Inbox/MensajesComponent';\r\nimport AmigosComponent from './Inbox/AmigosComponent';\r\n// import { baseUrl } from '../shared/baseUrl';\r\n// import io from 'socket.io-client';\r\n\r\nclass RenderInbox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            room: \"\",\r\n            followers: [],\r\n            talks: [],\r\n            chatTitle: [],\r\n            chatUsers: [],\r\n            id: \"\",\r\n            loading: false,\r\n            idTalk: \"\",\r\n            style: {\r\n                own: {\r\n                    display: \"flex\",\r\n                    justifyContent: \"flex-end\",\r\n                    backgroundColor: \"green\",\r\n                    borderRadius: \"18.2px\",\r\n                    width: \"auto\",\r\n                    padding: \"5px 10px\",\r\n                    maxWidth: \"64%\",\r\n                    color: \"white\",\r\n                    margin: {\r\n                        display: \"flex\",\r\n                        justifyContent: \"flex-end\",\r\n                        margin: \"7px 5px\",\r\n                    }\r\n                },\r\n                they: {\r\n                    display: \"flex\",\r\n                    justifyContent: \"flex-start\",\r\n                    backgroundColor: \"white\",\r\n                    borderRadius: \"18.2px\",\r\n                    width: \"auto\",\r\n                    padding: \"5px 10px\",\r\n                    maxWidth: \"64%\",\r\n                    color: \"green\",\r\n                    margin: {\r\n                        display: \"flex\",\r\n                        justifyContent: \"flex-start\",\r\n                        margin: \"7px 5px\"\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    async componentDidMount () {\r\n        //this.socket = await io(baseUrl);\r\n        const inboxItems = await this.props.inbox ? this.props.inbox.inbox : []\r\n        this.setState({\r\n            followers: !this.props.followers ? [] : this.props.followers.followers,\r\n            talks: inboxItems\r\n        })\r\n\r\n        this.props.socketConection.on(\"sendChat\", data => {\r\n            this.setUserState(data);\r\n        })\r\n    }\r\n    componentWillUnmount(){\r\n        let id = JSON.parse(localStorage.getItem('id'));\r\n        this.props.socketConection.emit(\"removeuser\", id);\r\n    }\r\n   \r\n    //BUSCA UNA CONVERSACION ESPECIFICA CON EL ID. click chat columna izquierda\r\n    inboxTalksHandler = async (e,{id, room}) => {\r\n        e.preventDefault();\r\n        var query = id\r\n        let usuario = JSON.parse(localStorage.getItem('id'));\r\n        let datos = {\r\n            query,\r\n            usuario,\r\n            room\r\n        }\r\n        console.log(\"a\", datos);\r\n        this.setState({\r\n            idTalk: query\r\n        })\r\n        this.props.socketConection.emit(\"fetchChat\", datos);\r\n    }\r\n\r\n\r\n    //GUARDA AMIGO EN EL STATE. click amigo columna derecha\r\n    inboxHandler = async (e, userid) => {\r\n        e.preventDefault();\r\n        var ids = userid\r\n        let usuario = JSON.parse(localStorage.getItem('id'));\r\n        let charla = await this.existChat(ids)\r\n        let result = charla[0] ? true : false\r\n        console.log(\"Wwwww\", ids);\r\n        //if exist a chat with these users fetch it\r\n            if(result){\r\n                let room = charla[0].room\r\n                console.log(\"charlacharlacharla\", result);\r\n                let query = charla[0]._id\r\n                let data = {\r\n                    query, usuario, room\r\n                }\r\n                this.props.socketConection.emit(\"fetchChat\", data);\r\n            }\r\n      \r\n            this.setState({\r\n                idTalk: \"\",\r\n                room: \"\"\r\n            })\r\n    \r\n            //set the information in the messege state\r\n            let select = this.state.followers.filter(s => s.id._id === ids)\r\n            let talkselect = this.state.talks === null ? [] : \r\n                                this.state.talks.filter(t => {//return complete chat with these conditions\r\n                                return t.members.userOne._id === usuario && t.members.userTwo._id === ids ? \r\n                                        t.members.userOne._id === usuario && t.members.userTwo._id === ids : \r\n                                        t.members.userTwo._id === usuario && t.members.userOne._id === ids\r\n            })\r\n            this.setState({\r\n                chatTitle: select,\r\n                chatUsers: talkselect,\r\n                room: talkselect[0] ? talkselect[0].room : \"\"\r\n            })\r\n            console.log(\"chattitle\", select);\r\n\r\n    }\r\n\r\n    existChat = id =>{\r\n        let userMain = JSON.parse(localStorage.getItem('id'));\r\n        let frienid = id\r\n        let findTalk = this.state.talks === null ? [] : \r\n                            this.state.talks.filter(t => {//return complete chat with these conditions\r\n                            return t.members.userOne._id === userMain && t.members.userTwo._id === frienid ? \r\n                                    t.members.userOne._id === userMain && t.members.userTwo._id === frienid : \r\n                                    t.members.userTwo._id === userMain && t.members.userOne._id === frienid\r\n        })\r\n        return findTalk;\r\n    }\r\n\r\n    onAddItem = (data) => {\r\n        const talk = data._id\r\n        this.setState(state => {\r\n            const iter = state.talks.some( i => i._id === talk)\r\n            if(!iter){\r\n          const talks = state.talks.concat(data);\r\n          return {\r\n            talks\r\n          };\r\n        }\r\n        });\r\n    }\r\n\r\n    setUserState = (data) => {\r\n        const localid = JSON.parse(localStorage.getItem('id'))\r\n        const userOne = data.members.userOne\r\n        const userTwo = data.members.userTwo\r\nconsole.log(\"chattitle\", data);\r\n        this.setState({\r\n            room: data.room,\r\n            chatUsers: [data],\r\n            chatTitle: [{\r\n                id: {\r\n                    _id: userOne._id === localid ? userTwo._id : userOne._id,\r\n                    image: userOne._id === localid ? userTwo.image : userOne.image,\r\n                    firstname: userOne._id === localid ? userTwo.firstname : userOne.firstname,\r\n                    lastname: userOne._id === localid ? userTwo.lastname : userOne.lastname,\r\n                    username: userOne._id === localid ? userTwo.username : userOne.username\r\n                }\r\n            }]\r\n        })\r\n        this.onAddItem(data);\r\n    }\r\n    //CREA UNA CONVERSACION NUEVA. recibe datos del formulario de envio\r\n    handleSubmitInbox = (e) => {\r\n        e.preventDefault();\r\n        const talkId = this.state.chatUsers[0] ? this.state.chatUsers[0]._id : ''\r\n        const RECEPTOR = this.state.chatTitle[0].id._id\r\n        const EMISOR = JSON.parse(localStorage.getItem('id'))\r\n        const roomSocket = this.state.room\r\n        const datad = {\r\n            contenido: {\r\n                members: {\r\n                    userOne: EMISOR,\r\n                    userTwo: RECEPTOR\r\n                },\r\n                talk: {\r\n                    author: EMISOR,\r\n                    content: e.target.message.value\r\n                }\r\n            },\r\n            talkId,\r\n            roomSocket\r\n        }\r\n        e.target.message.value = \"\"\r\n        this.props.socketConection.emit('sendMessage', datad)\r\n    }\r\n\r\n\r\n    //BUSCA LAS CONVERASCIONES DE EL USUARION\r\n    // handleTalks = () => {\r\n    //     const bearer = 'Bearer ' + localStorage.getItem('token');\r\n    //     var config = {\r\n    //         headers: { 'Authorization': bearer }\r\n    //     };\r\n    //     const QUERY = JSON.parse(localStorage.getItem('id'));\r\n    //     fetch(baseUrl + `inbox-message/getch/${QUERY}`, config)\r\n    //         .then(data => data.json())\r\n    //         .then(json => {\r\n    //             return this.state.talks === [] ? this.setState({ loading: true, talks: [] }) : this.setState({ loading: false, talks: json })\r\n    //         })\r\n    //         .catch(err => {\r\n    //             this.setState({ loading: false, err: err })\r\n    //         })\r\n\r\n    // }\r\n\r\n    render() {\r\n        console.log(\"this.staet\", this.state);\r\n        console.log(\"this.state.talks\", this.state.chatTitle);\r\n        return (\r\n         \r\n                <div className=\" grid-inbox\">\r\n                    <div className=\"grid-inbox-one\">\r\n                        <Chats talks={this.state.talks} inboxTalksHandler={this.inboxTalksHandler} />\r\n                    </div>\r\n                    <div className=\" grid-inbox-two\">\r\n                        <Mensajes chatTitle={this.state.chatTitle} chatUsers={this.state.chatUsers}\r\n                            handleSubmitInbox={this.handleSubmitInbox} chatStyle={this.state.style} />\r\n                    </div>\r\n                    <div className=\" grid-inbox-three\">\r\n                        <AmigosComponent followers={this.state.followers} talks={this.state.talks} inboxHandler={this.inboxHandler} />\r\n                    </div>\r\n                </div>\r\n           \r\n        )\r\n    }\r\n}\r\n\r\nexport default RenderInbox;","import React, { useLayoutEffect, useState } from \"react\";\r\nimport styled from 'styled-components'\r\nimport { RenderComments } from './CommentComponent';\r\nimport { LikesModal } from './LikesModal';\r\nimport { baseUrl } from '../shared/baseUrl';\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { Modal, ModalBody, Button } from 'reactstrap';\r\nimport { Control, LocalForm } from 'react-redux-form';\r\n\r\nfunction useWindowSize() {\r\n    const [size, setSize] = useState([0]);\r\n    useLayoutEffect(() => {\r\n      function updateSize() {\r\n        setSize([window.innerWidth]);\r\n      }\r\n      window.addEventListener('resize', updateSize);\r\n      updateSize();\r\n      return () => window.removeEventListener('resize', updateSize);\r\n    }, []);\r\n    return size;\r\n  }\r\n\r\nclass UsersComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n            loading: false,\r\n            results: [],\r\n            e: false,\r\n            isNavOpen: false,\r\n            isModalOpen: false,\r\n            i: null,\r\n            arraySource: [],\r\n            comentarios: [],\r\n            imgID: null,\r\n            likes: [],\r\n            isLikesModalOpen: false,\r\n            size: null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.setState({loading: this.props.users.isLoading})\r\n        const ID = this.props.match.params.idusers\r\n                this.props.fetchDataUser(ID)\r\n                .then(() => {\r\n                    this.setState({results: [this.props.users.users]})\r\n                    this.fetchData();\r\n            })\r\n    }\r\n\r\n    handleFollow = (followerId) => {\r\n        const followingId = this.props.user.user._id;\r\n        const userData = followerId\r\n        this.props.followFetch(followingId, userData)\r\n            .then(() => {\r\n                const ID = this.props.match.params.idusers\r\n                this.props.fetchDataUser(ID)\r\n            })\r\n    }\r\n    \r\n    fetchData = () => {\r\n        let sourced = this.state.results[0].imagesWall.map(img => `${baseUrl}${img.filename}`)\r\n        this.setState({arraySource: sourced })\r\n    }\r\n\r\n    backForthModal = (e) => {\r\n        e.preventDefault();\r\n        let mode = e.target.id\r\n        let currentlyUserId = this.state.results[0]._id;//id del usuario\r\n        if (mode === \"back\") {\r\n            let currentlyOne = this.state.i;\r\n            let back = this.state.arraySource.indexOf(currentlyOne) - 1\r\n            let elementBack = this.state.arraySource[back]\r\n            this.setState({\r\n                i: elementBack\r\n            })\r\n            this.fetchPhotoId(e, currentlyUserId, elementBack);\r\n        } else {\r\n            let currentlyOne = this.state.i;\r\n            let forth = this.state.arraySource.indexOf(currentlyOne) + 1\r\n            let elementForth = this.state.arraySource[forth]\r\n            this.setState({\r\n                i: elementForth\r\n            })\r\n           \r\n\r\n            this.fetchPhotoId(e, currentlyUserId, elementForth);\r\n        }\r\n    }\r\n\r\n    toggleModal = (e, valueId) => {\r\n        e.preventDefault();\r\n        var mgID = e.target.id;//id imagen\r\n        if (valueId === \"wall\") {\r\n            this.setState({\r\n                isModalOpen: !this.state.isModalOpen,\r\n                i: e.target.src,//url imagen\r\n                imgID: mgID\r\n            });\r\n            this.fetchComments(mgID)\r\n            this.fetchUsersLikes(e);\r\n        } else if (valueId === \"likemodal\") {\r\n            this.setState({\r\n                isLikesModalOpen: !this.state.isLikesModalOpen,\r\n            });\r\n            this.fetchUsersLikes(e)\r\n        } else {\r\n            this.setState({\r\n                isModalOpen: false,\r\n                isTrashModalOpen: false,\r\n                isLikesModalOpen: false\r\n            });\r\n        }\r\n    }\r\n\r\n    fetchPhotoId = (e, ID, element) => {\r\n        let bodyPath = element.split(baseUrl)[1]\r\n        var config = {\r\n            foto: bodyPath\r\n        };\r\n        return fetch(baseUrl + `users/returnid/${ID}`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(config),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(data => data.json())\r\n            .then(response => {\r\n                let result = response.result\r\n                this.setState({ imgID: result })\r\n                return result;\r\n            })\r\n            .then((result) => {\r\n                this.fetchComments(result)\r\n                this.fetchUsersLikes(e)\r\n            })\r\n            .catch(err => {\r\n                this.setState({ loading: false, e: err })\r\n            })\r\n    }\r\n    fetchComments = (ID) => {\r\n        return fetch(baseUrl + `comments/get-comments-image/${ID}`)\r\n            .then(data => data.json())\r\n            .then(json => {\r\n                this.setState({\r\n                    comentarios: json\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ e: err })\r\n            })\r\n    }\r\n \r\n    fetchUsersLikes = async (event) => {\r\n        event.preventDefault();\r\n        let userId = await this.state.results[0]._id;\r\n        let imgId = await this.state.imgID;\r\n        await this.props.fetchLikes(userId, imgId)\r\n            .then((likeResult) => {\r\n                this.setState({\r\n                    likes: this.props.likes\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        console.log(\"state\",this.state)\r\n        console.log(\"state\",this.props.users.isLoading)\r\n        \r\n        let filtrado = JSON.parse(localStorage.getItem(\"id\"));\r\n        \r\n        let currentlyPictureId = !this.state.likes ? [] : this.state.likes.filter(user => user._id === filtrado)[0];\r\n\r\n        return (\r\n            <div className=\"container-fluid \">\r\n\r\n                <Modal isOpen={this.state.isModalOpen} toggle={(e) => this.toggleModal(e)} size=\"lg\" >\r\n                    <div style={this.state.isModalOpen && this.state.arraySource.indexOf(this.state.i) !== 0 ?\r\n                        { color: \"black\", fontSize: \"40px\", position: \"absolute\", left: \"-50px\", top: \"40%\", zIndex: \"1\" } : { display: \"none\" }}>\r\n                        <span className=\"fas fa-angle-left\" id=\"back\" onClick={(event) => this.backForthModal(event)}></span>\r\n                    </div>\r\n                    <div style={this.state.isModalOpen && this.state.arraySource.indexOf(this.state.i) !== this.state.arraySource.length - 1 ?\r\n                        { color: \"\", fontSize: \"40px\", position: \"absolute\", right: \"-50px\", top: \"40%\", zIndex: \"1\" } : { display: \"none\" }}>\r\n                        <span className=\"fas fa-angle-right\" id=\"forth\" onClick={(event) => this.backForthModal(event)}></span>\r\n                    </div>\r\n                    <LikesModal isLikesModalOpen={this.state.isLikesModalOpen} toggle={this.toggleModal} likes={this.state.likes} />\r\n                    <LocalForm onSubmit={(values) => this.handleSubmit(values)}>\r\n                        <ModalBody toggle={(e) => this.toggleModal(e)} className=\"modalWithoutPadding\">\r\n                            <ModalGrid>\r\n                                <div className=\"modalgroup\">\r\n                                    <div className=\"c\">\r\n                                        <img className=\"resp\" src={this.state.i} alt=\"wall grid\" />\r\n                                    </div>\r\n                                    <div className=\"modalComments\">\r\n                                        <div className=\"comm\">\r\n                                            <RenderComments comentarios={this.state.comentarios} state={this.state} deleteComments={this.deleteComments} />\r\n                                        </div>\r\n                                        <div>{\r\n                                            this.state.likes.length > 0\r\n                                                ?\r\n                                                <h6>Le gusta esta foto a <strong onClick={(event) => this.toggleModal(event, \"likemodal\")} >{this.state.likes.length} usuarios</strong></h6>\r\n                                                :\r\n                                                <h6>Se el primero en marcar me gusta</h6>\r\n                                        }</div>\r\n                                        <div className=\"foot\">\r\n                                            <div className=\"texto\">\r\n                                                <Control.textarea model=\".comment\" id=\"comment\" />\r\n                                            </div>\r\n                                            <div className=\"footButtons\">\r\n                                                <div className=\"ml-2\">\r\n                                                    <Button onClick={(event) => this.handleLike(event)}>\r\n                                                        {\r\n                                                            !currentlyPictureId\r\n                                                                ?\r\n                                                                <span className=\"fa fa-heart\"></span>\r\n                                                                :\r\n                                                                <span className=\"fa fa-heart\" style={{ color: 'red' }}></span>\r\n\r\n                                                        }\r\n                                                    </Button>\r\n                                                </div>\r\n                                                <div className=\"buton btn-sm\" >\r\n                                                    <Button type=\"submit\" className=\"btn-sm\">Enviar</Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </ModalGrid>\r\n\r\n                        </ModalBody>\r\n\r\n                    </LocalForm>\r\n                </Modal>\r\n                <div>\r\n                    <Render loading={this.state.loading} data={this.state.results} handleFollow={this.handleFollow}\r\n                        followers={this.props.followers} toogle={this.toggleModal} />\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nconst Render = (props) => {\r\n    const [width] = useWindowSize();\r\n    let screen = width >= 600 ? true : false\r\n    const Data = props.data;\r\n    console.log(\"screen\", document.width);\r\n    console.log(\"screen\", screen);\r\n\r\n    const USUARIOS = Data.map(user => {\r\n        let loading = props.loading === true ? true : false\r\n        const foll = user.followers.some(foll => foll.id._id === JSON.parse(localStorage.getItem('id')) ? true : false);\r\n        const noti = user.notifications.some(noti => noti.followingId === JSON.parse(localStorage.getItem('id')) ? true : false);\r\n        return (\r\n            <div key={user._id}>\r\n                <ProfileImage className=\"\">\r\n                    <div className=\"image-content\">\r\n                        <img\r\n                            src={baseUrl + user.image.filename} alt=\"Profile One\"\r\n                            className=\"img-thumbnail\"\r\n                        />\r\n                     </div>\r\n                </ProfileImage>\r\n                {\r\n                    loading === true ?\r\n                        <div className=\"\">\r\n                            <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3 \">\r\n                                <span className=\"fas fa-spinner fa-spin\"></span>\r\n                            </Button>\r\n                        </div> :\r\n                        noti === true ?\r\n                            <div className=\"\">\r\n                                <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3 \">\r\n                                    <span className=\"fas fa-hourglass-half fa-spin mr-2\"></span>Wait Response\r\n                                </Button>\r\n                            </div>\r\n\r\n                            : foll === false ?\r\n                                <div>\r\n                                    <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3 fas fa-user-plus\" onClick={() => props.handleFollow(user._id)} />\r\n                                </div> :\r\n\r\n                                <div >\r\n                                    <Button type=\"button\" className=\"btn-success col-2 offset-5 mt-3\">Siguiendo</Button>\r\n                                </div>\r\n\r\n\r\n                }\r\n                    <div className=\"user-info\">\r\n                    <div className=\"user-info-description\">\r\n                        <h5 className=\"\">{user.firstname} {user.lastname}</h5>\r\n                        <h5 className=\"\">{`\"${user.phrase}\"`}</h5>\r\n                        <h5 className=\"\">{user.followers.length} Seguidores - {user.following.length} Seguidos</h5>\r\n                    </div>\r\n                    </div>\r\n                {\r\n                    user.imagesWall && screen ?\r\n                    \r\n                        <ImageGrids className=\"image-grid\">\r\n                            {user.imagesWall.map((img) => {\r\n\r\n                                return (\r\n\r\n                                    <div className=\"image-content\" key={img._id}>\r\n                                        <img className=\"img-thumbnail img-grid\" src={baseUrl + img.filename} alt={img._id} id={img._id} onClick={(e) => props.toogle(e, \"wall\")} />\r\n                                    </div>\r\n\r\n                                )\r\n                            })}\r\n                        </ImageGrids>\r\n                        :\r\n                        <ImageGrids className=\"image-grid\">\r\n                            {user.imagesWall.map((img) => {\r\n\r\n                                return (\r\n                                    \r\n                                        <div className=\"image-content\" key={img._id}>\r\n                                            <Link to={`/view/imagenwall/${img._id}`}><img className=\"img-thumbnail img-grid\" src={baseUrl + img.filename} alt={img._id} id={img._id} /></Link>\r\n                                        </div>\r\n                                )\r\n                            })}\r\n                        </ImageGrids>\r\n                }\r\n            </div>\r\n        )\r\n    })\r\n    return (\r\n\r\n        <div  >{USUARIOS}</div>\r\n\r\n    )\r\n}\r\nconst ProfileImage = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: center;\r\n.image-content {\r\n  width: 21vw;\r\n  height: 21vw;\r\n}\r\n\r\n\r\nimg {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n}\r\n`\r\n\r\nconst ImageGrids = styled.div`\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    box-sizing: border-box;\r\n    margin: auto 5%;\r\n\r\n.image-content {\r\n    width: 33%;\r\n    height: 26vw;\r\n  }\r\n  \r\n  \r\n  .img-grid{\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n\r\n`\r\nconst ModalGrid = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\n\r\ndiv.modalgroup {\r\n    display: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\n}\r\ndiv.modalComments {\r\n    display: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\n\r\n}\r\ndiv.foot {\r\n    display: flex;\r\nflex-direction: row;\r\n    margin-left: 5%;\r\n}\r\ndiv.footButtons {\r\n    display: flex;\r\nflex-direction: column;\r\n}\r\ndiv.comm {\r\n    height: 460px;\r\n    display: block;\r\n    overflow-y: scroll;\r\n  scroll-behavior: smooth;\r\n}\r\ndiv.c {\r\n    width: 450px;\r\n    height: 550px;\r\n}\r\nimg.resp {\r\n    \r\n    width: 100%;\r\n    height: 100%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: contain;\r\n  }\r\n  img.comment{\r\n    margin-left: 5%;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    max-width: auto;\r\n    min-whidth: auto;\r\n    object-fit: cover;\r\n  }\r\n  @media (max-width: 991px) {\r\n    div.modalComments {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\nexport default withRouter(UsersComponent);\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport styled from 'styled-components';\r\nimport { Loading } from \"./LoadingComponent\";\r\nimport { TabContent, TabPane, Nav, NavItem, NavLink, Button } from 'reactstrap';\r\nimport { Control, LocalForm } from 'react-redux-form';\r\nimport { Link } from 'react-router-dom';\r\nimport { baseUrl } from '../shared/baseUrl';\r\n\r\nclass Start extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            content: [],\r\n            contentLoading: true,\r\n            following: [],\r\n            followers: [],\r\n            followingLoading: true,\r\n            usuario: JSON.parse(localStorage.getItem(\"creds\")).username\r\n\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            content: this.props.start.start !== null ? [this.props.start.start] : [],\r\n            contentLoading: !this.props.start ? true : this.props.start.isLoading,\r\n            following: !this.props.following ? [] : this.props.following.following,\r\n            followers: !this.props.followers ? [] : this.props.followers.followers,\r\n            followingLoading: !this.props.following ? true : this.props.following.isLoading\r\n        })\r\n        this.props.socketConection.on(\"chatNotification\", data => {\r\n            console.log(\"llego el socket main\", data);\r\n            this.props.inboxFetch();\r\n            // let url = this.props.match.url\r\n            // console.log(\"uuurrrlll\", url);\r\n            // if(url === 'ggg'){\r\n            //   console.log(\"uuurrrlll\", url);\r\n            //   this.props.inboxFetch();\r\n            // }\r\n        })\r\n        \r\n    }\r\n\r\n\r\n    handleSubmit(values, event) {\r\n        event.preventDefault();\r\n        const commenta = {\r\n            comment: values.comment,\r\n            author: localStorage.getItem(\"id\"),\r\n            image: event.target.id\r\n        }\r\n        this.props.commentsPost(commenta)\r\n            .then((rest) => {\r\n                this.props.fetchStart()\r\n            })\r\n\r\n    }\r\n    handleLike = async (event, imgI) => {\r\n        event.preventDefault();\r\n        let img = await imgI;\r\n        var usersData = {\r\n            id: JSON.parse(localStorage.getItem('id')),\r\n            liked: img\r\n        }\r\n        this.props.postLike(img, usersData)\r\n            .then(async () => {\r\n                await this.props.fetchStart()\r\n            })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                <div className=\"col-12 col-md-8 col-lg-6 offset-md-2 \">\r\n                    <ImgWall start={this.state.content} handleLike={this.handleLike}\r\n                        handleSubmit={this.handleSubmit} Loading={this.state.contentLoading} \r\n                        usuario={this.state.usuario}/>\r\n                </div>\r\n               \r\n                    <Amigos following={this.state.following} followers={this.state.followers}\r\n                    LoadState={this.state.followingLoading} usuario={this.state.usuario}/>\r\n               \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst ImgWall = (props) => {\r\n    let load = props.Loading;\r\n    if (load === true) {\r\n        return (\r\n            <div >\r\n\r\n                <Loading />\r\n\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        const aaa = props.start === [] ? [] : props.start[0];\r\n\r\n        const WALL = aaa.map((first) => {\r\n            let filtrado = JSON.parse(localStorage.getItem(\"id\"));\r\n            let currentlyPictureId = first.imageId.likes.some(user => user === filtrado);\r\n            return (\r\n                <div className=\"row\" key={first._id}>\r\n                    <div className=\" backi\">\r\n                        <div className=\" imagenesWallHeadFrame\">\r\n                            <Link to={`/users/profile/${props.usuario}/${first.userId.username}`} >\r\n                                <div className=\"frameOne\">\r\n                                    <img className=\"imagenesWallHead\" src={baseUrl + first.userId.image.filename} alt={first.userId.image._id} />\r\n                                    <h6 className=\"ml-3\">{first.userId.firstname} {first.userId.lastname}</h6>\r\n                                </div>\r\n                            </Link>\r\n                            <div className=\"frameTwo\">\r\n                                <Button className=\"corazon\" onClick={(event) => props.handleLike(event, first.imageId._id)}>\r\n                                    {\r\n                                        currentlyPictureId ?\r\n                                        <span className=\"fa fa-heart\" style={{ color: 'red' }}></span>\r\n                                            :\r\n                                            <span className=\"fa fa-heart\" style={{ color: 'grey' }}></span>\r\n                                    }\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\" img-thumbnail imagenesWallFrame\">\r\n                            <img className=\"imagenesWall\" src={baseUrl + first.imageId.filename} alt={first.imageId._id} />\r\n                        </div>\r\n                        <div className=\"commentsAndForm\">\r\n                        <div className=\"commentsWallHeadFrame\">\r\n                            {first.commento[0] !== undefined ?\r\n                                <div className=\"mt-2\">\r\n                                    <h6 className=\"\">Hay {first.commento[0].length} comentarios</h6>\r\n                                </div>\r\n                                :\r\n                                null}\r\n                            {first.commento[0] !== undefined && first.commento[0][0] === undefined ?\r\n                                (\r\n                                    <div className=\"commentsContent\">\r\n                                        <Link to={`/users/profile/${props.usuario}/${first.commento[0].author.username}`} >\r\n                                            <h6 className=\"author\" >{first.commento[0].author.username}</h6>\r\n                                        </Link>\r\n                                        <h6 className=\"comments\" >{first.commento[0].comment}</h6>\r\n                                    </div>\r\n\r\n                                )\r\n                                : first.commento[0] !== undefined ?\r\n                                    (\r\n                                        <div>\r\n                                            <div className=\"commentsContent\">\r\n                                                <Link to={`/users/profile/${props.usuario}/${first.commento[0][0].author.username}`}>\r\n                                                    <h6 className=\"author\" >{first.commento[0][0].author.username}</h6>\r\n                                                </Link>\r\n                                                <h6 className=\"comments\" >{first.commento[0][0].comment}</h6>\r\n                                            </div>\r\n                                            <div className=\"commentsContent\">\r\n                                                <Link to={`/users/profile/${props.usuario}/${first.commento[0][1].author.username}`} >\r\n                                                    <h6 className=\"author\" >{first.commento[0][1].author.username}</h6>\r\n                                                </Link>\r\n                                                <h6 className=\"comments\" >{first.commento[0][1].comment}</h6>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    )\r\n                                    :\r\n                                    (<div className=\"mt-2 ml-0\">\r\n                                        <h6 className=\"\" >No hay comentarios todavia</h6>\r\n                                    </div>\r\n                                    )}\r\n                        </div>\r\n                            <div className=\"\">\r\n                                <LocalForm onSubmit={(values, event) => props.handleSubmit(values, event)} id={first.imageId._id}>\r\n                                    <div className=\"inputsWallFrame\">\r\n                                        <Control.textarea model=\".comment\" id=\"comment\" placeholder=\"Comenta aqui...\" className=\"inputsWall\" />\r\n\r\n                                        <Button type=\"submit\" className=\"buttonComment\">Enviar</Button>\r\n                                    </div>\r\n                                </LocalForm>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n        return (\r\n            <div>\r\n                {WALL}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass Amigos extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activeTab: '1'\r\n        }\r\n    }\r\n\r\n    toggle = tab => {\r\n        if (this.state.activeTab !== tab) this.setState({ activeTab: tab })\r\n    }\r\n\r\n    render() {\r\n        let loadS = this.props.LoadState\r\n        if (loadS === true) {\r\n            return (\r\n                <div >\r\n\r\n                    <Loading />\r\n\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            const mapeoFollowing = this.props.following ? this.props.following : [];\r\n            const mapeoFollowers = this.props.followers ? this.props.followers : [];\r\n\r\n            //const followingFilter = mapeo.filter(friend => friend._id !== userOne || friend._id !== userTwo)\r\n            const FOLLOW = mapeoFollowing.map(f => {\r\n                return (\r\n                    <div key={f._id}>\r\n                        <Link to={`/users/profile/${this.props.usuario}/${f.id.username}`}>\r\n                            <div className=\"\" >\r\n                                <ImageGrida>\r\n                                    <div>\r\n                                        <img src={baseUrl + f.id.image.filename} alt=\"chatimgstatus\" />\r\n                                    </div>\r\n\r\n                                    <div >\r\n                                        <h6 id={f.id._id}>{`${f.id.firstname} ${f.id.lastname}`}</h6>\r\n                                    </div>\r\n                                </ImageGrida>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n\r\n                )\r\n\r\n            })\r\n            const FOLLOWERS = mapeoFollowers.map(f => {\r\n                return (\r\n                    <div key={f._id}>\r\n                        <Link to={`/users/profile/${this.props.usuario}/${f.id.username}`} >\r\n                            <div className=\"\" >\r\n                                <ImageGrida>\r\n                                    <div>\r\n                                        <img src={baseUrl + f.id.image.filename} alt=\"chatimgstatus\" />\r\n                                    </div>\r\n\r\n                                    <div >\r\n                                        <h6 id={f.id._id} >{`${f.id.firstname} ${f.id.lastname}`}</h6>\r\n                                    </div>\r\n                                </ImageGrida>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n\r\n                )\r\n\r\n            })\r\n\r\n            return (\r\n                <div className=\"d-none d-lg-block  col-3 sidenav\" >\r\n                    <Nav tabs className=\"row h-5\">\r\n                        <NavItem className=\"col-6\">\r\n                            <NavLink\r\n                                className={classnames({ active: this.state.activeTab === '1' })}\r\n                                onClick={() => { this.toggle('1'); }}>\r\n                                Siguiendo\r\n                            </NavLink>\r\n                        </NavItem>\r\n                        <NavItem className=\"col-6\">\r\n                            <NavLink\r\n                                className={classnames({ active: this.state.activeTab === '2' })}\r\n                                onClick={() => { this.toggle('2'); }}>\r\n                                Seguidores\r\n                            </NavLink>\r\n                        </NavItem>\r\n                    </Nav>\r\n                    <TabContent activeTab={this.state.activeTab}>\r\n                        <TabPane tabId=\"1\">\r\n                            <div className=\"row scroll-aside\" style={{ backgroundColor: \"aliceblue\", borderRadius: \"5%\" }}>\r\n                                <h6 className=\"col-md-12\">{FOLLOW}</h6>\r\n                            </div>\r\n                        </TabPane>\r\n                        <TabPane tabId=\"2\">\r\n                            <div className=\"row scroll-aside\" style={{ backgroundColor: \"aliceblue\", borderRadius: \"5%\" }}>\r\n                                <h6 className=\"col-md-12\">{FOLLOWERS}</h6>\r\n                            </div>\r\n                        </TabPane>\r\n                    </TabContent>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Start;\r\n\r\nconst ImageGrida = styled.div`\r\ndisplay: grid;\r\ngrid-gap: 10px;\r\ngrid-template-columns: 1fr 1fr 1fr;\r\ngrid-template-rows: 1fr;\r\ngrid-auto-rows: minmax(30%, 30%);\r\ngrid-auto-columns: minmax(30%, 30%);\r\nalign-items: center;\r\nborder-radius: 20%;\r\n\r\nh6 {\r\n    width: 100%;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    align-items: center;\r\n    margin-left: 30px;\r\n}\r\nimg{\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n}\r\n\r\n@media (max-width: 1000px) {\r\n  img{\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 767px) {\r\n  img{\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 520px) {\r\n  img{\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n@media (max-width: 343px) {\r\n  img{\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  max-width: auto;\r\n  min-whidth: auto;\r\n  object-fit: cover;\r\n  }\r\n}\r\n`","import React, { Component } from \"react\";\r\nimport {\r\n    Navbar, NavbarBrand, Nav, Collapse, NavItem\r\n} from \"reactstrap\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { baseUrl } from '../shared/baseUrl';\r\n\r\nclass RegisterFormHeader extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Navbar className=\"navbar-dark nav-signup\" expand=\"md\">\r\n                    <div className=\"container\">\r\n                        <NavbarBrand className=\"mr-auto\" href=\"/\">\r\n                            <img\r\n                                src={baseUrl + \"images/0.png\"}\r\n                                height=\"30\"\r\n                                width=\"41\"\r\n                                alt=\"Red Social\"\r\n                            />\r\n                        </NavbarBrand>\r\n                        <Collapse navbar>\r\n                            <Nav navbar>\r\n                                <NavItem>\r\n                                    <NavLink className=\"nav-link\" to=\"/\">\r\n                                        <span className=\"fa fa-home fa-lg\" /> Home\r\n                                    </NavLink>\r\n                                </NavItem>\r\n                            </Nav>\r\n                        </Collapse>\r\n                    </div>\r\n                </Navbar>\r\n            </React.Fragment>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default RegisterFormHeader;\r\n","export const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\r\nexport const SIGNUP_FAILURE = \"SIGNUP_FAILURE\";\r\nexport const USER_SUCCESS = \"USER_SUCCESS\";\r\nexport const USER_ERROR = \"USER_ERROR\";\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const USERS_SUCCESS = \"USERS_SUCCESS\";\r\nexport const USERS_ERROR = \"USERS_ERROR\";\r\nexport const USERS_LOADING = \"USERS_LOADING\";\r\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\r\nexport const LOGOUT_REQUEST = \"LOGOUT_REQUEST\";\r\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\r\nexport const LOGOUT_FAILURE = \"LOGOUT_FAILURE\";\r\nexport const SETTINGS_SUCCESS = \"SETTINGS_SUCCESS\";\r\nexport const SETTINGS_FAILURE = \"SETTINGS_FAILURE\";\r\nexport const NOTIFICATION_LOADING = 'NOTIFICATION_LOADING';\r\nexport const NOTIFICATION_SUCCESS = 'NOTIFICATION_SUCCESS';\r\nexport const NOTIFICATION_ERROR = 'NOTIFICATION_ERROR';\r\nexport const NOTIFICATION_STATUS = 'NOTIFICATION_STATUS';\r\nexport const DATAUSER_LOADING = 'DATAUSER_LOADING';\r\nexport const DATAUSER_SUCCESS = 'DATAUSER_SUCCESS';\r\nexport const DATAUSER_ERROR = 'DATAUSER_ERROR';\r\nexport const FOLLOWERS_LOADING = 'FOLLOWERS_LOADING';\r\nexport const FOLLOWERS_SUCCESS = 'FOLLOWERS_SUCCESS';\r\nexport const FOLLOWERS_ERROR = 'FOLLOWERS_ERROR';\r\nexport const FOLLOWING_LOADING = 'FOLLOWING_LOADING';\r\nexport const FOLLOWING_SUCCESS = 'FOLLOWING_SUCCESS';\r\nexport const FOLLOWING_ERROR = 'FOLLOWING_ERROR';\r\nexport const IMAGEN_SUCCESS = 'IMAGEN_SUCCESS';\r\nexport const IMAGEN_LOADING = 'IMAGEN_LOADING';\r\nexport const IMAGEN_FAILED = 'IMAGEN_FAILED';\r\nexport const LIKES_ADD = 'LIKES_ADD';\r\nexport const LIKES_LOADING = 'LIKES_LOADING';\r\nexport const LIKES_FAILED = 'LIKES_FAILED';\r\nexport const START_ADD = 'START_ADD';\r\nexport const START_LOADING = 'START_LOADING';\r\nexport const START_FAILED = 'START_FAILED';\r\nexport const INBOX_SUCCESS = 'INBOX_SUCCESS';\r\nexport const INBOX_LOADING = 'INBOX_LOADING';\r\nexport const INBOX_FAILED = 'INBOX_FAILED';","import * as ActionTypes from \"./ActionTypes\";\r\nimport { baseUrl } from \"../shared/baseUrl\";\r\n\r\n//VIEW AFTER LOGIN\r\nexport const fetchStart = () => (dispatch) => {\r\n  dispatch(startLoading());\r\n  const bearer = 'Bearer ' + localStorage.getItem('token');\r\n  const id = JSON.parse(localStorage.getItem('id'))\r\n  return fetch(baseUrl + `start/publications/${id}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      'Authorization': bearer\r\n    },\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n\r\n      }\r\n      else {\r\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    },\r\n      error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n      })\r\n    .then(response => response.json())\r\n    .then(start => dispatch(addStart(start)))\r\n    .then(start => dispatch(inboxFetch()))\r\n    .catch(error => dispatch(startFailed(error.message)));\r\n}\r\nexport const startLoading = () => ({\r\n  type: ActionTypes.START_LOADING\r\n});\r\n\r\nexport const startFailed = (errmess) => ({\r\n  type: ActionTypes.START_FAILED,\r\n  payload: errmess\r\n});\r\n\r\nexport const addStart = (start) => ({\r\n  type: ActionTypes.START_ADD,\r\n  payload: start\r\n});\r\n\r\n\r\n//REGISTER POST DATA\r\nexport const signupUser = User => dispatch => {\r\n  const newUser = {\r\n    username: User.username,\r\n    password: User.password,\r\n    date: User.date,\r\n    sex: User.sex,\r\n    country: User.country\r\n  };\r\n \r\n  return fetch(baseUrl + \"users/signup\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(newUser),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    credentials: \"same-origin\"\r\n  })\r\n    .then(\r\n      response => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \": \" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n      }\r\n    )\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      const Resp = response.status;\r\n      dispatch(responseSignup(Resp));\r\n    })\r\n    .catch(error => {\r\n      const Err = error.status;\r\n      dispatch(errorSignup(Err));\r\n    });\r\n};\r\nexport const responseSignup = creds => {\r\n  return {\r\n    type: ActionTypes.SIGNUP_SUCCESS,\r\n    payload: creds\r\n  };\r\n};\r\nexport const errorSignup = creds => {\r\n  return {\r\n    type: ActionTypes.SIGNUP_FAILURE,\r\n    payload: creds\r\n  };\r\n};\r\n\r\nexport const requestLogin = creds => {\r\n  return {\r\n    type: ActionTypes.LOGIN_REQUEST,\r\n    creds\r\n  };\r\n};\r\n//se agrego userdata: response.user\r\nexport const receiveLogin = response => {\r\n  return {\r\n    type: ActionTypes.LOGIN_SUCCESS,\r\n    token: response.token,\r\n    userdata: response\r\n  };\r\n};\r\n\r\nexport const loginError = message => {\r\n  return {\r\n    type: ActionTypes.LOGIN_FAILURE,\r\n    message\r\n  };\r\n};\r\n\r\nexport const loginUser = creds => dispatch => {\r\n  // We dispatch requestLogin to kickoff the call to the API\r\n  dispatch(requestLogin(creds));\r\n\r\n  return fetch(baseUrl + \"users/login\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify(creds)\r\n  })\r\n    .then(\r\n      response => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \": \" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      error => {\r\n        throw error;\r\n      }\r\n    )\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      if (response.success) {\r\n        // If login was successful, set the token in local storage\r\n        localStorage.setItem(\"token\", response.token);\r\n        localStorage.setItem(\"creds\", JSON.stringify(creds));\r\n        localStorage.setItem(\"id\", JSON.stringify(response.userdata._id));\r\n        localStorage.setItem(\"img\", JSON.stringify(response.userdata.image.filename));\r\n\r\n        // Dispatch the success action\r\n        //dispatch(fetchFavorites());\r\n        const id = response.userdata.username;\r\n        dispatch(receiveLogin(response));\r\n        dispatch(fetchUser(id));\r\n        dispatch(fetchNotifications(id));\r\n        dispatch(fetchFollowers());\r\n        dispatch(fetchFollowing());\r\n        dispatch(fetchStart());\r\n\r\n      } else {\r\n        var error = new Error(\"Error \" + response.status);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    })\r\n    .catch(error => dispatch(loginError(error.message)));\r\n};\r\n\r\nexport const requestLogout = () => {\r\n  return {\r\n    type: ActionTypes.LOGOUT_REQUEST\r\n  };\r\n};\r\n\r\nexport const receiveLogout = () => {\r\n  return {\r\n    type: ActionTypes.LOGOUT_SUCCESS\r\n  };\r\n};\r\n//INBOX\r\nexport const inboxFetch = () => dispatch => {\r\n  dispatch(inboxLoading());\r\n  console.log(\"sssssssssssssssssssssss\");\r\n  const QUERY = JSON.parse(localStorage.getItem('id'));\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  return fetch(baseUrl + `inbox-message/getch/${QUERY}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: bearer\r\n\r\n    }\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        console.log(\"sssssssssssssssssssssss1\");\r\n        return response;\r\n      } else {\r\n        var error = new Error(\"Setting Error \" + response.status + \": \" + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    }, error => {\r\n      var errmess = new Error(error.message);\r\n      throw errmess;\r\n    }\r\n    )\r\n    .then(response => response.json())\r\n    .then(inbox => {\r\n      const message = inbox.some(i => i.talk.some(t => t.author !== QUERY && t.seen === false))\r\n      console.log(\"1111111\", message)\r\n      dispatch(inboxAdd(inbox, message))})\r\n    .catch(error => dispatch(inboxFailed(error.message)));\r\n}\r\nexport const inboxLoading = () => ({\r\n  type: ActionTypes.INBOX_LOADING\r\n});\r\n\r\nexport const inboxFailed = (errmess) => ({\r\n  type: ActionTypes.INBOX_FAILED,\r\n  payload: errmess\r\n});\r\n\r\nexport const inboxAdd = (inbox, read) => ({\r\n  type: ActionTypes.INBOX_SUCCESS,\r\n  payload: inbox,\r\n  read\r\n});\r\n\r\n// Logs the user out\r\nexport const logoutUser = () => dispatch => {\r\n  dispatch(requestLogout());\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"creds\");\r\n  localStorage.removeItem(\"id\");\r\n  localStorage.removeItem(\"img\");\r\n  //dispatch(favoritesFailed(\"Error 401: Unauthorized\"));\r\n  dispatch(receiveLogout());\r\n};\r\n\r\nexport const fetchUser = (id) => dispatch => {\r\n  dispatch(userLoading());\r\n\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  return fetch(baseUrl + \"users/\" + id, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: bearer\r\n    }\r\n  })\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      localStorage.setItem(\"img\", JSON.stringify(response.image.filename));\r\n      dispatch(receiveUser(response));\r\n    })\r\n    .catch(error => dispatch(receiveUserError(error)));\r\n};\r\n\r\nexport const userLoading = () => ({\r\n  type: ActionTypes.USER_LOADING\r\n});\r\n\r\nexport const receiveUser = response => {\r\n  return {\r\n    type: ActionTypes.USER_SUCCESS,\r\n    user: response\r\n  };\r\n};\r\nexport const receiveUserError = error => {\r\n  return {\r\n    type: ActionTypes.USER_ERROR,\r\n    errMess: error\r\n  };\r\n};\r\n\r\n//FETCH USERS COMPONENT\r\nexport const fetchDataUser = (url) => dispatch => {\r\n  dispatch(usersLoading());\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  return fetch(baseUrl + `users/profile/${url.host}/${url.user}`,{\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: bearer\r\n    }\r\n  })\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      dispatch(receiveUsers(response));\r\n    })\r\n    .catch(error => dispatch(receiveUsersError(error)));\r\n};\r\n\r\nexport const usersLoading = () => ({\r\n  type: ActionTypes.USERS_LOADING\r\n});\r\n\r\nexport const receiveUsers = response => {\r\n  return {\r\n    type: ActionTypes.USERS_SUCCESS,\r\n    user: response\r\n  };\r\n};\r\nexport const receiveUsersError = error => {\r\n  return {\r\n    type: ActionTypes.USERS_ERROR,\r\n    errMess: error\r\n  };\r\n};\r\n\r\n//Settings fetch\r\n\r\nexport const settingsUser = (userID, Settings) => dispatch => {\r\n  const settingsUser = {\r\n    firstname: Settings.firstname,\r\n    lastname: Settings.lastname,\r\n    phrase: Settings.phrase,\r\n    status: Settings.status\r\n  };\r\n \r\n\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n\r\n  return fetch(baseUrl + \"users/settings/\" + userID, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(settingsUser),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: bearer\r\n    },\r\n    credentials: \"same-origin\"\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error(\r\n          \"Setting Error \" + response.status + \": \" + response.statusText\r\n        );\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    },\r\n      error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n      }\r\n    )\r\n    //.then(response => response.json())\r\n    .then((response) => {\r\n      const Resp = response.status;\r\n      dispatch(responseSettings(Resp));\r\n\r\n      //await dispatch(fetchUser(userID));\r\n    })\r\n    .catch(error => {\r\n      const Err = error.status;\r\n      dispatch(errorSettings(Err));\r\n    });\r\n};\r\n\r\nexport const responseSettings = creds => {\r\n  return {\r\n    type: ActionTypes.SETTINGS_SUCCESS,\r\n    payload: creds\r\n  };\r\n};\r\nexport const errorSettings = creds => {\r\n  return {\r\n    type: ActionTypes.SETTINGS_FAILURE,\r\n    payload: creds\r\n  };\r\n};\r\n\r\n//IMAGEN FETCH\r\n\r\nexport const imagenUser = (userID, image) => dispatch => {\r\n\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n\r\n  console.log(\"imagenredux\", userID);\r\n  console.log(\"000000000000000000000000000000000000000\", image);\r\n  return fetch(baseUrl + \"imagen/\" + userID, {\r\n    method: \"POST\",\r\n    body: image,\r\n    headers: {\r\n      Authorization: bearer\r\n    },\r\n    credentials: \"same-origin\"\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error(\"Image Error \" + response.status + \": \" + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    },\r\n      error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n      }\r\n    )\r\n    .then(response => {\r\n      console.log('response', response);\r\n      //dispatch(fetchUser(userID));\r\n    })\r\n    .catch(error => {\r\n      console.log(\"SETTINGS ERROR\");\r\n    });\r\n};\r\n\r\n//IMAGEN WALL FETCH\r\n\r\nexport const imagenWall = (userID, image) => dispatch => {\r\n\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\nconsole.log(\"imagenredux\", userID);\r\nconsole.log(\"000000000000000000000000000000000000000\", image);\r\n\r\n  return fetch(baseUrl + \"imagen/imageswall/\" + userID, {\r\n    method: \"POST\",\r\n    body: image,\r\n    headers: {\r\n      Authorization: bearer\r\n    },\r\n    credentials: \"same-origin\"\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error(\"Image Error \" + response.status + \": \" + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    },\r\n      error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n      }\r\n    )\r\n    .then(response => {\r\n      console.log('response', response);\r\n      //dispatch(fetchUser(userID));\r\n    })\r\n    .catch(error => {\r\n      console.log(\"SETTINGS ERROR\");\r\n    });\r\n};\r\n\r\n//FETCH IMAGEN AND COMMENTS TO ImagenComponent\r\nexport const imagenFetch = (image) => dispatch => {\r\n  dispatch(imagenLoading());\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  console.log(\"000000000000000000000000000000000000000\", image);\r\n  return fetch(`${baseUrl}imagen/view/imagenwall/${image}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n        Authorization: bearer\r\n    }\r\n})\r\n  .then(response => {\r\n    if (response.ok) {\r\n      return response;\r\n    } else {\r\n      var error = new Error(\"Image Error \" + response.status + \": \" + response.statusText);\r\n      error.response = response;\r\n      throw error;\r\n    }\r\n  },\r\n      error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n      })\r\n  .then(response => response.json())\r\n  .then(img => {\r\n      console.log('response', img);\r\n      dispatch(imagenFetchComments(image, img));\r\n    })\r\n  .catch(error => {\r\n      dispatch(imagenError(error))\r\n    });\r\n};\r\nconst imagenFetchComments = (image, imgObj) => dispatch => {\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  console.log(\"000000000000000000000000000000000000000\", image);\r\n  const DATA = {\r\n    imagen: imgObj,\r\n    comments: null\r\n  }\r\n  return fetch(baseUrl + `comments/get-comments-image/${image}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: bearer\r\n    }\r\n  })\r\n  .then(response => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\"Image Error \" + response.status + \": \" + response.statusText);\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n        error => {\r\n          var errmess = new Error(error.message);\r\n          throw errmess;\r\n        }\r\n      )\r\n  .then(response => response.json())\r\n  .then(comments => {\r\n      console.log('response', comments);\r\n      DATA.comments = comments\r\n    })\r\n  .then(x => {\r\n      console.log('response', DATA);\r\n      dispatch(imagenSuccess(DATA))\r\n    })\r\n  .catch(error => {\r\n      dispatch(imagenError(error))\r\n    });\r\n};\r\nexport const imagenLoading = () => {\r\n  return {\r\n    type: ActionTypes.IMAGEN_LOADING\r\n  }\r\n}\r\n\r\nexport const imagenSuccess = (users) => {\r\n  return {\r\n    type: ActionTypes.IMAGEN_SUCCESS,\r\n    payload: users\r\n  }\r\n}\r\n\r\nexport const imagenError = (message) => {\r\n  return {\r\n    type: ActionTypes.IMAGEN_FAILED,\r\n    payload: message\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n//GET Users notifications\r\nexport const fetchNotifications = (query) => (dispatch) => {\r\n  dispatch(notifLoading());\r\n\r\n  const bearer = 'Bearer ' + localStorage.getItem('token');\r\n  const QUERY = query;\r\n  return fetch(baseUrl + `notification/user-notifications/get/${QUERY}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': bearer\r\n    }\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    })\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      dispatch(nofifSuccess(response));\r\n    })\r\n    .catch(error => dispatch(notifError(error.message)))\r\n\r\n}\r\nexport const notifLoading = () => {\r\n  return {\r\n    type: ActionTypes.NOTIFICATION_LOADING\r\n  }\r\n}\r\n\r\nexport const nofifSuccess = (users) => {\r\n  return {\r\n    type: ActionTypes.NOTIFICATION_SUCCESS,\r\n    payload: users\r\n  }\r\n}\r\n\r\nexport const notifError = (message) => {\r\n  return {\r\n    type: ActionTypes.NOTIFICATION_ERROR,\r\n    ERR: message\r\n  }\r\n}\r\n\r\n\r\n//FOLLOWER\r\n\r\nexport const followFetch = (followingId, followerId) => dispatch => {\r\n\r\n  const data = {\r\n    followingId: followingId,\r\n    message: \"Friend Request\"\r\n  }\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n\r\n  return fetch(baseUrl + `notification/following-user/send/${followerId}`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: bearer\r\n\r\n    }\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error(\"Setting Error \" + response.status + \": \" + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    }, error => {\r\n      var errmess = new Error(error.message);\r\n      throw errmess;\r\n    }\r\n    )\r\n}\r\n\r\n//FOLLOWER ACEPTAR/RECHAZAR SOLICITUD\r\n\r\nexport const friendRequestResponse = (dataNotification) => dispatch => {\r\n  const data = {\r\n    action: dataNotification.action,\r\n    followingId: JSON.parse(localStorage.getItem(\"id\")),\r\n  }\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n\r\n  return fetch(baseUrl + `notification/following-request/${dataNotification.followerId}/${dataNotification.notiId}`, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: bearer\r\n\r\n    }\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error(\"Setting Error \" + response.status + \": \" + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    }, error => {\r\n      var errmess = new Error(error.message);\r\n      throw errmess;\r\n    }\r\n    )\r\n}\r\n//GET Users followers\r\nexport const fetchFollowers = () => (dispatch) => {\r\n  dispatch(followersLoading());\r\n\r\n  const bearer = 'Bearer ' + localStorage.getItem('token');\r\n  const QUERY = JSON.parse(localStorage.getItem(\"id\"));\r\n  return fetch(baseUrl + `users/followers-notifications-return/${QUERY}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': bearer\r\n    }\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    })\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      dispatch(followersSuccess(response));\r\n    })\r\n    .catch(error => dispatch(followersError(error.message)))\r\n\r\n}\r\nexport const followersLoading = () => {\r\n  return {\r\n    type: ActionTypes.FOLLOWERS_LOADING\r\n  }\r\n}\r\n\r\nexport const followersSuccess = (followers) => {\r\n  return {\r\n    type: ActionTypes.FOLLOWERS_SUCCESS,\r\n    payload: followers\r\n  }\r\n}\r\n\r\nexport const followersError = (message) => {\r\n  return {\r\n    type: ActionTypes.FOLLOWERS_ERROR,\r\n    ERR: message\r\n  }\r\n}\r\n\r\n//GET Users followings\r\nexport const fetchFollowing = () => (dispatch) => {\r\n  dispatch(followingLoading());\r\n\r\n  const bearer = 'Bearer ' + localStorage.getItem('token');\r\n  const QUERY = JSON.parse(localStorage.getItem(\"id\"));\r\n  return fetch(baseUrl + `users/following/${QUERY}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': bearer\r\n    }\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    })\r\n    .then(response => response.json())\r\n    .then(response => {\r\n      dispatch(followingSuccess(response));\r\n    })\r\n    .catch(error => dispatch(followingError(error.message)))\r\n\r\n}\r\nexport const followingLoading = () => {\r\n  return {\r\n    type: ActionTypes.FOLLOWING_LOADING\r\n  }\r\n}\r\n\r\nexport const followingSuccess = (following) => {\r\n  return {\r\n    type: ActionTypes.FOLLOWING_SUCCESS,\r\n    payload: following\r\n  }\r\n}\r\n\r\nexport const followingError = (message) => {\r\n  return {\r\n    type: ActionTypes.FOLLOWING_ERROR,\r\n    ERR: message\r\n  }\r\n}\r\n\r\n//CHANGE THE NOTIFICATION STATUS OF REDUX STORE\r\n\r\nexport const readStatusHandle = () => {\r\n  return {\r\n    type: ActionTypes.NOTIFICATION_STATUS\r\n  }\r\n}\r\nexport const handleNotificationStatus = () => (dispatch) => {\r\n  dispatch(readStatusHandle());\r\n}\r\n\r\n\r\n//COMMENTS POST\r\n\r\nexport const commentsPost = dataComment => dispatch => {\r\n  const newComment = {\r\n    comment: dataComment.comment,\r\n    author: dataComment.author,\r\n    image: dataComment.image\r\n  };\r\n  const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  return fetch(baseUrl + 'comments/post-comment', {\r\n    method: \"POST\",\r\n    body: JSON.stringify(newComment),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: bearer\r\n    },\r\n    credentials: \"same-origin\"\r\n  })\r\n}\r\n\r\n// LIKE POST\r\nexport const postLike = (imageid, usersData) => async (dispatch) => {\r\n  var DATA = {\r\n    id: await usersData.id,\r\n    liked: await usersData.liked\r\n  }\r\n  const bearer = 'Bearer ' + localStorage.getItem('token');\r\n\r\n  return fetch(baseUrl + 'likes/post-i-like-it/' + await imageid, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(DATA),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      'Authorization': bearer\r\n    },\r\n    credentials: \"same-origin\"\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      } else {\r\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    },\r\n      error => {\r\n        throw error;\r\n      })\r\n    .then(response => response.json())\r\n    .then(like => { console.log('Favorite Added', like) }) //dispatch(addFavorites(favorites)); })\r\n    .catch(error => console.log(error.message))//dispatch(favoritesFailed(error.message)));\r\n}\r\n\r\nexport const fetchLikes = (userId, imgId) => (dispatch) => {\r\n  dispatch(likesLoading());\r\n  const bearer = 'Bearer ' + localStorage.getItem('token');\r\n  return fetch(baseUrl + `likes/get-i-like-it/${userId}/${imgId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      'Authorization': bearer\r\n    },\r\n    credentials: \"same-origin\"\r\n  })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response;\r\n      }\r\n      else {\r\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\r\n        error.response = response;\r\n        throw error;\r\n      }\r\n    },\r\n      error => {\r\n        var errmess = new Error(error.message);\r\n        throw errmess;\r\n      })\r\n    .then(response => response.json())\r\n    .then(likes => dispatch(addlikes(likes)))\r\n    .catch(error => dispatch(likesFailed(error.message)));\r\n}\r\nexport const likesLoading = () => ({\r\n  type: ActionTypes.LIKES_LOADING\r\n});\r\n\r\nexport const likesFailed = (errmess) => ({\r\n  type: ActionTypes.LIKES_FAILED,\r\n  payload: errmess\r\n});\r\n\r\nexport const addlikes = (likes) => ({\r\n  type: ActionTypes.LIKES_ADD,\r\n  payload: likes\r\n});\r\n\r\n\r\n//export const imagenFetch = (image) => dispatch => {\r\n  //   dispatch(imagenLoading());\r\n  //   const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  //   console.log(\"000000000000000000000000000000000000000\", image);\r\n  \r\n  //   return fetch(`${baseUrl}imagen/view/imagenwall/${image}`, {\r\n  //     method: \"GET\",\r\n  //     headers: {\r\n  //         Authorization: bearer\r\n  //     }\r\n  // })\r\n  //   .then(response => {\r\n  //     if (response.ok) {\r\n  //       return response;\r\n  //     } else {\r\n  //       var error = new Error(\"Image Error \" + response.status + \": \" + response.statusText);\r\n  //       error.response = response;\r\n  //       throw error;\r\n  //     }\r\n  //   },\r\n  //       error => {\r\n  //         var errmess = new Error(error.message);\r\n  //         throw errmess;\r\n  //       })\r\n  //   .then(response => response.json())\r\n  //   .then(img => {\r\n  //     const aaa = imagenFetchComments(image)\r\n  //     const DATA = {\r\n  //       imagen: img,\r\n  //       comments: aaa\r\n  //     }\r\n  //       console.log('response', DATA);\r\n  //       dispatch(imagenSuccess(DATA))\r\n  //     })\r\n  //   .catch(error => {\r\n  //       dispatch(imagenError(error))\r\n  //     });\r\n  // };\r\n  // const imagenFetchComments = image => {\r\n  //   const bearer = \"Bearer \" + localStorage.getItem(\"token\");\r\n  //   return fetch(baseUrl + `comments/get-comments-image/${image}`, {\r\n  //     method: \"GET\",\r\n  //     headers: {\r\n  //       Authorization: bearer\r\n  //     }\r\n  //   })\r\n  //   .then(res => {\r\n  //     return res.json()\r\n  //   })\r\n  //   .catch(error => {\r\n  //       throw new Error(\"no response\", error)\r\n  //     });\r\n  // };\r\n  // export const imagenLoading = () => {\r\n  //   return {\r\n  //     type: ActionTypes.IMAGEN_LOADING\r\n  //   }\r\n  // }","import React, { Component } from \"react\";\r\nimport Home from \"./HomeComponent\";\r\nimport Header from \"./HeaderComponent\";\r\nimport Forms from \"./RegisterForm\";\r\nimport Album from \"./UserPage\";\r\nimport PostSignup from \"./postSignup\";\r\nimport Settings from \"./SettingsComponent\";\r\nimport UsersComponent from './UsersComponent';\r\nimport ImagenComponent from './ImagenComponent';\r\nimport RenderInbox from './socketio';\r\nimport Outline from './OutloginComponent';\r\nimport Start from './StartComponent';\r\nimport RegisterFormHeader from './RegisterFormNav';\r\nimport io from 'socket.io-client';\r\nimport { baseUrl } from '../shared/baseUrl';\r\n\r\n\r\n\r\n\r\nimport { Switch, Route, Redirect, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  loginUser,\r\n  logoutUser,\r\n  fetchUser,\r\n  signupUser,\r\n  settingsUser,\r\n  inboxFetch,\r\n  imagenUser,\r\n  imagenWall,\r\n  fetchNotifications,\r\n  followFetch,\r\n  friendRequestResponse,\r\n  fetchFollowers,\r\n  fetchFollowing,\r\n  handleNotificationStatus,\r\n  commentsPost,\r\n  imagenFetch,\r\n  postLike,\r\n  fetchLikes,\r\n  fetchStart,\r\n  fetchDataUser\r\n} from \"../redux/ActionCreators\";\r\nconst socket = io(baseUrl);\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth,\r\n    user: state.user,\r\n    users: state.users,\r\n    signup: state.signup,\r\n    start: state.start,\r\n    inbox: state.inbox,\r\n    settings: state.settings,\r\n    notifications: state.notifications,\r\n    followers: state.followers,\r\n    following: state.following,\r\n    imagen: state.imagen,\r\n    likes: state.likes\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginUser: creds => dispatch(loginUser(creds)),\r\n  logoutUser: () => dispatch(logoutUser()),\r\n  fetchUser: id => dispatch(fetchUser(id)),\r\n  signupUser: User => dispatch(signupUser(User)),\r\n  fetchStart: () => dispatch(fetchStart()),\r\n  inboxFetch: () => dispatch(inboxFetch()),\r\n  settingsUser: (userID, Settings) => dispatch(settingsUser(userID, Settings)),\r\n  imagenUser: (userID, imagen) => dispatch(imagenUser(userID, imagen)),\r\n  imagenWall: (userID, imagen) => dispatch(imagenWall(userID, imagen)),\r\n  fetchNotifications: (query) => dispatch(fetchNotifications(query)),\r\n  followFetch: (followingId, followerId) => dispatch(followFetch(followingId, followerId)),\r\n  friendRequestResponse: (dataNotification) => dispatch(friendRequestResponse(dataNotification)),\r\n  fetchFollowers: () => dispatch(fetchFollowers()),\r\n  fetchFollowing: () => dispatch(fetchFollowing()),\r\n  handleNotificationStatus: () => dispatch(handleNotificationStatus()),\r\n  imagenFetch: num => dispatch(imagenFetch(num)),\r\n  commentsPost: (comment) => dispatch(commentsPost(comment)),\r\n  postLike: (imageid, usersData) => dispatch(postLike(imageid, usersData)),\r\n  fetchLikes: (userId, imgId) => dispatch(fetchLikes(userId, imgId)),\r\n  fetchDataUser: url => dispatch(fetchDataUser(url))\r\n});\r\n\r\nclass Main extends Component {\r\n  componentDidMount() {\r\n     if (this.props.auth.isAuthenticated) {\r\n      const id = this.props.auth.user.username;\r\n      this.props.fetchUser(id);\r\n    }\r\n    if (this.props.auth.isAuthenticated) {\r\n      const name = this.props.auth.user.username;\r\n      const id = JSON.parse(localStorage.getItem('id'))\r\n      this.props.fetchStart();\r\n      this.props.fetchNotifications(name);\r\n      this.props.fetchFollowers();\r\n      this.props.fetchFollowing();\r\n      socket.emit(\"username\",{id, name})\r\n    }\r\n  //   socket.on(\"chatNotification\", data => {\r\n  //     console.log(\"llego el socket main\", data);\r\n  //     this.props.inboxFetch();\r\n  // })\r\n  }\r\n\r\n  render() {\r\n   \r\n    console.log('socket', socket);\r\n    const Headers = () => {\r\n      return this.props.auth.isAuthenticated ? (\r\n        <Header\r\n          auth={this.props.auth}\r\n          inbox={this.props.inbox}\r\n          logoutUser={this.props.logoutUser}\r\n          searchUsers={this.props.searchUsers}\r\n          search={this.props.search}\r\n          user={this.props.user}\r\n          notifications={this.props.notifications}\r\n          friendRequestResponse={this.props.friendRequestResponse}\r\n          handleNotificationStatus={this.props.handleNotificationStatus}\r\n        />\r\n\r\n      ) :\r\n        this.props.location.pathname === \"/\" ? null\r\n          : <RegisterFormHeader />\r\n    };\r\n\r\n    const StartPage = () => {\r\n      return this.props.auth.isAuthenticated ? (\r\n        <Start start={this.props.start}\r\n          following={this.props.following}\r\n          followers={this.props.followers}\r\n          commentsPost={this.props.commentsPost}\r\n          fetchStart={this.props.fetchStart}\r\n          postLike={this.props.postLike}\r\n          fetchLikes={this.props.fetchLikes}\r\n          socketConection={socket}\r\n          inboxFetch={this.props.inboxFetch}\r\n        />\r\n      ) : (\r\n          <Redirect to=\"/\" />\r\n        );\r\n    };\r\n\r\n    const HomePage = () => {\r\n      return !this.props.auth.isAuthenticated ? (\r\n        <Home loginUser={this.props.loginUser} />\r\n      ) : (\r\n          <Redirect to=\"/start\" />\r\n        );\r\n    };\r\n    const UserPages = () => {\r\n      return this.props.auth.isAuthenticated ? (\r\n        <Album\r\n          imagenUser={this.props.imagenUser}\r\n          imagenWall={this.props.imagenWall}\r\n          user={this.props.user}\r\n          auth={this.props.auth}\r\n          commentsPost={this.props.commentsPost}\r\n          fetchLikes={this.props.fetchLikes}\r\n          likes={this.props.likes.likes}\r\n          socketConection={socket}\r\n          inboxFetch={this.props.inboxFetch}\r\n        />\r\n      ) : (\r\n          <Redirect to=\"/\" />\r\n        );\r\n    };\r\n\r\n    const UserForms = () => {\r\n      return !this.props.auth.isAuthenticated ? (\r\n        <Forms signupUser={this.props.signupUser} />\r\n      ) : (\r\n          <Redirect to=\"/\" />\r\n        );\r\n    };\r\n\r\n    const SettingComponent = () => {\r\n      return this.props.auth.isAuthenticated ? (\r\n        <Settings\r\n          settingsUser={this.props.settingsUser}\r\n          user={this.props.user}\r\n          auth={this.props.auth}\r\n        />\r\n      ) : (\r\n          <Redirect to=\"/\" />\r\n        );\r\n    };\r\n\r\n    const PrivateInbox = () => {\r\n      return this.props.auth.isAuthenticated ? (\r\n        <RenderInbox\r\n          followers={this.props.followers}\r\n          inbox={this.props.inbox}\r\n          socketConection={socket}\r\n\r\n        />\r\n\r\n      ) : (\r\n          <Redirect to='/' />\r\n        )\r\n    }\r\n\r\n    const OutlineRoute = () => {\r\n      return !this.props.auth.isAuthenticated ? (\r\n        <Outline />\r\n      ) : (\r\n          <Redirect to='/start' />\r\n        )\r\n    }\r\n    const ImagenOne = () => {\r\n      return this.props.auth.isAuthenticated ? (\r\n        <ImagenComponent \r\n        imagenFetch={this.props.imagenFetch}\r\n        commentsPost={this.props.commentsPost}\r\n        postLike={this.props.postLike}\r\n        imagen={this.props.imagen}\r\n        user={this.props.user}\r\n        />\r\n      ) : (\r\n          <Redirect to='/' />\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n      <div>\r\n        <Headers />\r\n        <div>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={HomePage} />\r\n            <Route exact path=\"/start\" component={StartPage} />\r\n            <Route exact path=\"/users/signup\" component={UserForms} />\r\n            <Route exact path=\"/view/imagenwall/:idimg\" component={ImagenOne} />\r\n            <Route\r\n              exact\r\n              path=\"/users/post\"\r\n              component={() => <PostSignup signup={this.props.signup} />}\r\n            />\r\n            <Route exact path=\"/userpage\" component={UserPages} />\r\n            <Route exact path=\"/inbox\" component={PrivateInbox} />\r\n            <Route exact path=\"/users/settings\" component={SettingComponent} />\r\n            <Route exact path=\"/users/profile/:idhost/:idusers/\" render={(props) =>\r\n              <UsersComponent {...props} auth={this.props.auth} followFetch={this.props.followFetch}\r\n                user={this.props.user} followers={this.props.followers}\r\n                fetchDataUser={this.props.fetchDataUser} users={this.props.users}\r\n                commentsPost={this.props.commentsPost} postLike={this.props.postLike} fetchLikes={this.props.fetchLikes}\r\n                likes={this.props.likes.likes} socketConection={socket}\r\n                inboxFetch={this.props.inboxFetch}/>} />\r\n            <Route exact path=\"/:idUsuario\" component={OutlineRoute} />\r\n\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(Main)\r\n);\r\n","import * as ActionTypes from \"./ActionTypes\";\r\n\r\n// The auth reducer. The starting state sets authentication\r\n// based on a token being in local storage. In a real app,\r\n// we would also want a util to check if the token is expired.\r\nexport const Auth = (\r\n  state = {\r\n    isLoading: false,\r\n    isAuthenticated: localStorage.getItem(\"token\") ? true : false,\r\n    token: localStorage.getItem(\"token\"),\r\n    user: localStorage.getItem(\"creds\")\r\n      ? JSON.parse(localStorage.getItem(\"creds\"))\r\n      : null,\r\n    errMess: null,\r\n    id: localStorage.getItem(\"id\")\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isAuthenticated: false,\r\n        user: action.creds\r\n      };\r\n    case ActionTypes.LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        errMess: \"\",\r\n        token: action.token\r\n      };\r\n    case ActionTypes.LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isAuthenticated: false,\r\n        errMess: action.message\r\n      };\r\n    case ActionTypes.LOGOUT_REQUEST:\r\n      return { ...state, isLoading: true, isAuthenticated: true };\r\n    case ActionTypes.LOGOUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isAuthenticated: false,\r\n        id: \"\",\r\n        token: \"\",\r\n        user: null\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as ActionTypes from \"./ActionTypes\";\r\n\r\nexport const User = (\r\n  state = {\r\n    isLoading: true,\r\n    errMess: null,\r\n    user: null\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.USER_SUCCESS:\r\n      //Se usa el {...state} para iterar sobre las propiedades\r\n      //declaradas en el state. Luego se le asignan los valores del caso.\r\n      return { ...state, isLoading: false, errMess: null, user: action.user };\r\n\r\n    case ActionTypes.USER_LOADING:\r\n      return { ...state, isLoading: true, errMess: null, user: null };\r\n\r\n    case ActionTypes.USER_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        errMess: action.errMess,\r\n        user: null\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as ActionTypes from \"./ActionTypes\";\r\n\r\nexport const Users = (\r\n  state = {\r\n    isLoading: true,\r\n    errMess: null,\r\n    users: null\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.USERS_SUCCESS:\r\n      //Se usa el {...state} para iterar sobre las propiedades\r\n      //declaradas en el state. Luego se le asignan los valores del caso.\r\n      return { ...state, isLoading: false, errMess: null, users: action.user };\r\n\r\n    case ActionTypes.USERS_LOADING:\r\n      return { ...state, isLoading: true, errMess: null, users: null };\r\n\r\n    case ActionTypes.USERS_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        errMess: action.errMess,\r\n        users: null\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as ActionTypes from \"./ActionTypes\";\r\n\r\nexport const Signup = (\r\n  state = {\r\n    errMess: null,\r\n    successMess: null\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.SIGNUP_SUCCESS:\r\n      return { ...state, errMess: null, successMess: action.payload };\r\n    case ActionTypes.SIGNUP_FAILURE:\r\n      return { ...state, errMess: action.payload, successMess: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as ActionTypes from './ActionTypes';\r\n\r\nexport const Start = (state = {\r\n    isLoading: true,\r\n    errMess: null,\r\n    start: null\r\n}, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.START_ADD:\r\n            return { ...state, isLoading: false, errMess: null, start: action.payload };\r\n\r\n        case ActionTypes.START_LOADING:\r\n            return { ...state, isLoading: true, errMess: null, start: null };\r\n\r\n        case ActionTypes.START_FAILED:\r\n            return { ...state, isLoading: false, errMess: action.payload, start: null };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as ActionTypes from \"./ActionTypes\";\r\n\r\nexport const Inbox = (\r\n    state = {\r\n        isLoading: false,\r\n        errMess: null,\r\n        inbox: null,\r\n        read: false\r\n    },\r\n    action\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.INBOX_SUCCESS:\r\n            //Se usa el {...state} para iterar sobre las propiedades\r\n            //declaradas en el state. Luego se le asignan los valores del caso.\r\n            return { ...state, isLoading: false, errMess: null, inbox: action.payload, read: action.read};\r\n\r\n        case ActionTypes.INBOX_LOADING:\r\n            return { ...state, isLoading: true, errMess: null, inbox: null, read: false };\r\n\r\n        case ActionTypes.INBOX_FAILED:\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                errMess: action.payload,\r\n                inbox: null,\r\n                read: false\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import * as ActionTypes from \"./ActionTypes\";\r\n\r\nexport const Settings = (\r\n  state = {\r\n    errMess: null,\r\n    successMess: null\r\n  },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ActionTypes.SETTINGS_SUCCESS:\r\n      return { ...state, errMess: null, successMess: action.payload };\r\n    case ActionTypes.SETTINGS_FAILURE:\r\n      return { ...state, errMess: action.payload, successMess: null };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as ActionTypes from './ActionTypes';\r\n\r\n\r\nexport const Notifications = (state = {\r\n    isLoading: null,\r\n    results: [],\r\n    errMess: null,\r\n}, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.NOTIFICATION_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                results: [],\r\n                errMess: false\r\n            };\r\n        case ActionTypes.NOTIFICATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoading: null,\r\n                results: action.payload,\r\n                errMess: false\r\n            };\r\n        case ActionTypes.NOTIFICATION_ERROR:\r\n            return {\r\n                ...state,\r\n                isLoading: null,\r\n                results: [],\r\n                errMess: action.ERR\r\n            };\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import * as ActionTypes from './ActionTypes';\r\n\r\nexport const Followers = (state = {\r\n    isLoading: null,\r\n    followers: [],\r\n    notif: [],\r\n    errmessage: null\r\n}, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.FOLLOWERS_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                followers: [],\r\n                notif: [],\r\n                errmessage: null\r\n\r\n            }\r\n        case ActionTypes.FOLLOWERS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoading: null,\r\n                followers: action.payload.follow,\r\n                notif: action.payload.notif,\r\n                errmessage: null\r\n            }\r\n        case ActionTypes.FOLLOWERS_ERROR:\r\n            return {\r\n                ...state,\r\n                iisLoading: null,\r\n                followers: [],\r\n                notif: [],\r\n                errmessage: action.ERR\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nexport const Following = (state = {\r\n    isLoading: true,\r\n    following: [],\r\n    errmessage: null\r\n}, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.FOLLOWING_LOADING:\r\n            return {\r\n                ...state,\r\n                isLoading: true,\r\n                following: [],\r\n                errmessage: null\r\n\r\n            }\r\n        case ActionTypes.FOLLOWING_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                following: action.payload.follow,\r\n                errmessage: null\r\n            }\r\n        case ActionTypes.FOLLOWING_ERROR:\r\n            return {\r\n                ...state,\r\n                iisLoading: false,\r\n                following: [],\r\n                errmessage: action.ERR\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nexport const Imagen = (state = {\r\n    isLoading: true,\r\n    errMess: null,\r\n    imagen: null\r\n}, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.IMAGEN_SUCCESS:\r\n            return { ...state, isLoading: false, errMess: null, imagen: action.payload };\r\n\r\n        case ActionTypes.IMAGEN_LOADING:\r\n            return { ...state, isLoading: true, errMess: null, imagen: null };\r\n\r\n        case ActionTypes.IMAGEN_FAILED:\r\n            return { ...state, isLoading: false, errMess: action.payload, imagen: null };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as ActionTypes from './ActionTypes';\r\n\r\nexport const Likes = (state = {\r\n    isLoading: true,\r\n    errMess: null,\r\n    likes: null\r\n}, action) => {\r\n    switch (action.type) {\r\n        case ActionTypes.LIKES_ADD:\r\n            return { ...state, isLoading: false, errMess: null, likes: action.payload };\r\n\r\n        case ActionTypes.LIKES_LOADING:\r\n            return { ...state, isLoading: true, errMess: null, likes: null };\r\n\r\n        case ActionTypes.LIKES_FAILED:\r\n            return { ...state, isLoading: false, errMess: action.payload, likes: null };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Main from './components/MainComponent';\r\nimport './App.css';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ConfigureStore } from './redux/configureStore';\r\n\r\nconst store = ConfigureStore();\r\n\r\nclass App extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <BrowserRouter>\r\n          <div>\r\n            <Main />\r\n          </div>\r\n        </BrowserRouter>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { Auth } from \"./auth\";\r\nimport { User } from \"./user\";\r\nimport { Users } from \"./usersget\";\r\nimport { Signup } from \"./signup\";\r\nimport { Start } from \"./start\";\r\nimport { Inbox } from './inbox';\r\nimport { Settings } from \"./settings\";\r\nimport { Notifications } from './notification';\r\nimport { Followers } from './followers';\r\nimport { Following } from './following';\r\nimport { Imagen } from './imagen';\r\nimport { Likes } from './likes';\r\nimport thunk from \"redux-thunk\";\r\nimport logger from \"redux-logger\";\r\n\r\nexport const ConfigureStore = () => {\r\n  const store = createStore(\r\n    combineReducers({\r\n      auth: Auth,\r\n      user: User,\r\n      users: Users,\r\n      signup: Signup,\r\n      inbox: Inbox,\r\n      start: Start,\r\n      setings: Settings,\r\n      notifications: Notifications,\r\n      followers: Followers,\r\n      following: Following,\r\n      imagen: Imagen,\r\n      likes: Likes\r\n    }),\r\n    applyMiddleware(thunk, logger)\r\n  );\r\n\r\n  return store;\r\n};\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport 'bootstrap-social/bootstrap-social.css';\r\nimport './index.css';\r\nimport './App.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}