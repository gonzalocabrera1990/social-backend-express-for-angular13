(this["webpackJsonpreact-upgrade"]=this["webpackJsonpreact-upgrade"]||[]).push([[0],{104:function(e,t,n){},170:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/1.167404c8.png"},186:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/2.0c14b936.png"},187:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/3.4a6c88d3.png"},267:function(e,t){},270:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),i=n(36),r=n.n(i),o=(n(166),n(167),n(168),n(169),n(170),n(104),n(12)),c=n(13),l=n(15),d=n(14),u=n(4),h=n(26),m=n(30),j=n(1),p=n.n(j),f=n(271),b=n(146),g=n(0);f.a.propTypes={ride:p.a.oneOf(["carousel"])};var x,O,v,w,S,y,N=[{src:n(185),altText:"Slide 1",caption:"Slide 1"},{src:n(186),altText:"Slide 2",caption:"Slide 2"},{src:n(187),altText:"Slide 3",caption:"Slide 3"}],k=function(e){var t=Object(a.useState)(0),n=Object(m.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(!1),o=Object(m.a)(r,2),c=o[0],l=o[1],d=N.map((function(e,t){return Object(g.jsx)(b.a,{className:"custom-tag",onExiting:function(){return l(!0)},onExited:function(){return l(!1)},children:Object(g.jsx)("img",{src:e.src.default,alt:e.altText})},t)}));return Object(g.jsxs)("div",{className:"fullSize",children:[Object(g.jsx)("style",{children:".custom-tag {\n        width: 100%;\n        height: 100%;\n          filter: opacity(50%);\n        }\n        .custom-tag img{\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n            filter: grayscale(100%);\n          }\n        "}),Object(g.jsx)(f.a,{activeIndex:s,next:function(){if(!c){var e=s===N.length-1?0:s+1;i(e)}},previous:function(){if(!c){var e=0===s?N.length-1:s-1;i(e)}},children:d})]})},C=n(147),I=n(292),L=n(272),M=n(273),T=n(274),E=n(275),_=n(276),R=n(277),D=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={isModalOpen:!1},a.toggleModal=a.toggleModal.bind(Object(h.a)(a)),a.handleLogin=a.handleLogin.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleLogin",value:function(e){this.toggleModal(),this.props.loginUser({username:this.username.value,password:this.password.value}),e.preventDefault()}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"container-fluid contenedor",children:[Object(g.jsxs)("div",{className:"elementos",children:[Object(g.jsx)("div",{className:"col-12 col-md-7 carrusel",children:Object(g.jsx)(k,{})}),Object(g.jsxs)("div",{className:"col-12 col-md-5 detalles",children:[Object(g.jsx)("div",{className:"fullSize intro",children:Object(g.jsxs)("h3",{children:["LandScapes ",Object(g.jsx)("br",{})," Social Media"]})}),Object(g.jsxs)("div",{className:"row botonera fullSize",children:[Object(g.jsx)("div",{className:"col-sm-3 boton",children:Object(g.jsx)(C.a,{className:" btn btn-lg bg-success ",onClick:this.toggleModal,children:"Login"})}),Object(g.jsx)("div",{className:"col-sm-3 boton",children:Object(g.jsx)(C.a,{className:"btn btn-lg bg-success ",href:"/users/signup",children:"Singup"})})]})]})]}),Object(g.jsx)("div",{children:Object(g.jsxs)(I.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(g.jsx)(L.a,{toggle:this.toggleModal,children:"Login"}),Object(g.jsx)(M.a,{children:Object(g.jsxs)(T.a,{onSubmit:this.handleLogin,children:[Object(g.jsxs)(E.a,{children:[Object(g.jsx)(_.a,{htmlFor:"username",children:"Username"}),Object(g.jsx)(R.a,{type:"text",id:"username",name:"username",innerRef:function(t){return e.username=t}})]}),Object(g.jsxs)(E.a,{children:[Object(g.jsx)(_.a,{htmlFor:"password",children:"Password"}),Object(g.jsx)(R.a,{type:"password",id:"password",name:"password",innerRef:function(t){return e.password=t}})]}),Object(g.jsx)(E.a,{check:!0,children:Object(g.jsxs)(_.a,{check:!0,children:[Object(g.jsx)(R.a,{type:"checkbox",name:"remember",innerRef:function(t){return e.remember=t}}),"Remember me"]})}),Object(g.jsx)(C.a,{type:"submit",value:"submit",color:"primary",children:"Login"})]})})]})})]})}}]),n}(s.a.Component),F=n(33),A=n(17),U=n(278),B=n(18),P="https://localhost:5443/",z=n(8),W=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleRequestFriendship=function(e,t,n){var s={action:e,followerId:t,notiId:n};a.props.friendRequestResponse(s).then((function(){a.props.history.push("/"),window.location.reload()}))},a.state={data:[]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.notifications;this.setState({data:e})}},{key:"render",value:function(){var e=this,t=this.state.data?this.state.data.results:[],n=t?t.map((function(t){return Object(g.jsx)("div",{children:Object(g.jsx)(G,{className:"mt-1 mb-1 ",children:Object(g.jsx)("div",{className:"row ",children:Object(g.jsxs)(U.a,{tag:"li",className:"col-12 align-notification",children:[Object(g.jsx)(U.a,{left:!0,className:"col-3 mx-0 px-0",children:Object(g.jsx)(U.a,{className:"imagen-navbar-profile",object:!0,src:P+t.followingId.image.filename})}),Object(g.jsx)("div",{className:"col-9",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-6",children:Object(g.jsx)(U.a,{body:!0,className:"col-8",children:Object(g.jsx)(U.a,{heading:!0,children:Object(g.jsx)("span",{children:t.message})})})}),Object(g.jsx)("div",{className:"col-3",children:Object(g.jsx)(C.a,{className:"fas fa-thumbs-up",style:{color:"rgb(62, 247, 62)"},onClick:function(){return e.handleRequestFriendship(!0,t.followingId._id,t._id)}})}),Object(g.jsx)("div",{className:"col-3",children:Object(g.jsx)(C.a,{className:"fas fa-thumbs-down",style:{color:"rgb(245, 53, 19)"},onClick:function(){return e.handleRequestFriendship(!1,t.followingId._id,t._id)}})})]})})]})})})},t._id)})):[];return Object(g.jsx)(G,{children:Object(g.jsx)("div",{className:"container position-absolute ",children:Object(g.jsx)("div",{className:"row ",children:Object(g.jsx)(U.a,{list:!0,className:"p-0 ",children:n})})})})}}]),n}(s.a.Component),G=B.a.div(x||(x=Object(A.a)(["\nbackground-color: rgb(91, 179, 94);\nposition: relative;\npadding:0px;\nwidth: 100%;\nz-index: 1;\ncolor: white;\nfont-size: 1em;\nmargin: 0px;\nalign-items:center;\n.align-notification{\n    display: flex;\n    align-items:center;\n}\nimg{\n    margin: 15%;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: cover;\n  }\n  span {\n      font-size: 1rem;\n  }\n"]))),J=Object(z.g)(W),H=n(279),q=n(280),K=n(281),V=n(282),Q=n(283),X=n(284),Y=n(293),Z=n(294),$=n(295),ee=n(285),te=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("creds")).username,t=this.props.search.length?this.props.search:[],n=t?t.map((function(t){return Object(g.jsx)(ae,{className:"col-12 col-md-4 mt-1 mb-1 p-0",children:Object(g.jsx)(z.b,{to:"/users/profile/".concat(e,"/").concat(t.username),children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"acc",children:Object(g.jsxs)(ne,{children:[Object(g.jsx)("div",{className:"",children:Object(g.jsx)("img",{className:"",src:P+t.image.filename,alt:"user"})}),Object(g.jsx)("div",{className:"",children:Object(g.jsx)("h6",{children:"".concat(t.firstname," ").concat(t.lastname)})})]})})},t._id)})})})):[];return t<=0?Object(g.jsx)(ae,{children:Object(g.jsx)("div",{className:"container position-absolute iinvisible",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)(U.a,{list:!0,children:n})})})}):Object(g.jsxs)(ae,{children:[Object(g.jsx)("div",{className:"pik pick-search"}),Object(g.jsx)("div",{className:"container position-absolute acc search-window",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(U.a,{list:!0,children:n})})})})]})}}]),n}(s.a.Component),ne=B.a.div(O||(O=Object(A.a)(["\nbackground-color: rgb(91, 179, 94);\ndisplay: grid;\ntext-overflow: ellipsis;\ngrid-gap: 10px;\ngrid-template-columns: 1fr 1fr 1fr;\ngrid-template-rows: 1fr;\ngrid-auto-rows: minmax(30%, 30%);\ngrid-auto-columns: minmax(30%, 30%);\nalign-items: center;\n\nh6 {\n    \n    white-space: nowrap;\n    align-items: center;\n    margin-left: 15%;\n}\nimg{\n  margin: 15%;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n}\n}\n"]))),ae=B.a.div(v||(v=Object(A.a)(["\nposition: relative;\ndisplay: flex;\nflex-direction: column;\nwidth: 100%;\nz-index: 1;\ncolor: white;\nmargin: 0px;\nalign-content: start;\n@media (max-width: 560px) {\n    .acc {\n        width: 100%;\n    }\n}\n"]))),se=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).test=function(){for(var e=a.props.notifications.results,t=0,n=0;n<e.length;n++)!1===e[n].readstatus&&t++;t>=1?a.setState({noti:!1}):a.setState({noti:!0})},a.toggleNav=function(){a.setState({isNavOpen:!a.state.isNavOpen})},a.handleChange=function(e){var t=e.target,n=t.value,s=t.name;a.setState(Object(F.a)({},s,n))},a.handleSearch=function(e){e.preventDefault();var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},n=a.state.search;fetch(P+"search/search?q=".concat(n),t).then((function(e){return e.json()})).then((function(e){return""===a.state.search?a.setState({loading:!1,results:[]}):a.setState({loading:!1,results:e})})).catch((function(e){a.setState({loading:!1,err:e})}))},a.handleStyle=function(e){if(e.preventDefault(),a.setState({styled:"none"===a.state.styled?"":"none"}),!1===a.state.readTrue){var t={method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}},n=JSON.parse(localStorage.getItem("id"));fetch(P+"notification/all/readtrue/".concat(n),t).then((function(e){a.setState({readTrue:!0}),a.props.handleNotificationStatus()}))}},a.state={styled:"none",search:"",err:"",noti:"",inbox:[],readTrue:!1,results:[],isNavOpen:!1,viewMessage:""},a.handleLogout=a.handleLogout.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.test(),this.setState({inbox:this.props.inbox.inbox,viewMessage:this.props.inbox.read})}},{key:"handleLogout",value:function(){this.props.logoutUser()}},{key:"render",value:function(){var e=this,t=this.state.viewMessage;return console.log(this.state),Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)(H.a,{className:"container-fluid main-nav navbar-dark",expand:"md",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(q.a,{onClick:this.toggleNav}),Object(g.jsx)(K.a,{className:"",href:"/",children:Object(g.jsx)("img",{src:P+"images/0.png",alt:"Red Social",className:"imagen-navbar-profile",height:"30",width:"41"})}),Object(g.jsxs)(V.a,{isOpen:this.state.isNavOpen,navbar:!0,children:[Object(g.jsx)("div",{className:"segundoItemUno",children:Object(g.jsx)(T.a,{children:Object(g.jsxs)(E.a,{className:"text-white search",children:[Object(g.jsx)(R.a,{name:"search",id:"search",className:"btn bg-success input search",placeholder:"Search",onKeyUp:function(t){return e.handleSearch(t)},onChange:this.handleChange,value:this.state.search}),Object(g.jsx)(te,{className:"",search:this.state.results})]})})}),Object(g.jsxs)(Q.a,{navbar:!0,children:[Object(g.jsx)("div",{className:"itemGrupoDos ",children:Object(g.jsx)(z.c,{className:"nav-link",to:"/userpage",children:Object(g.jsx)("img",{src:P+JSON.parse(localStorage.getItem("img")),alt:"userimg",className:"imagen-navbar-profile"})})}),Object(g.jsx)("div",{className:"itemGrupoDos",children:Object(g.jsx)(X.a,{children:Object(g.jsx)(z.c,{className:"nav-link",to:"/home",children:Object(g.jsx)("span",{className:"fa fa-home fa-md"})})})}),Object(g.jsx)("div",{className:"itemGrupoDos",children:Object(g.jsx)(X.a,{children:Object(g.jsx)(z.c,{className:"nav-link",to:"/users/settings",children:Object(g.jsx)("span",{className:"fa fa-cog fa-md"})})})}),Object(g.jsx)("div",{className:"itemGrupoDos",children:Object(g.jsx)(X.a,{children:t?Object(g.jsx)("div",{children:Object(g.jsx)(z.c,{className:"nav-link",to:"/inbox",children:Object(g.jsx)("span",{className:"fa fa-envelope fa-md",style:{color:"red"}})})}):Object(g.jsx)("div",{children:Object(g.jsx)(z.c,{className:"nav-link",to:"/inbox",children:Object(g.jsx)("span",{className:"fa fa-envelope fa-md"})})})})}),Object(g.jsx)("div",{className:"itemGrupoDos",children:Object(g.jsx)(X.a,{children:!1===this.state.noti?Object(g.jsxs)("div",{children:[Object(g.jsx)(K.a,{className:"nav-link",onClick:this.handleStyle,children:Object(g.jsx)("span",{className:"fa fa-bell fa-md fa-red fa-spin",style:{color:"red"}})}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"row mt-4 notification",style:{display:this.state.styled},children:Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(J,{notifications:this.props.notifications,className:"col-12",friendRequestResponse:this.props.friendRequestResponse})})})})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)(K.a,{className:"nav-link",onClick:this.handleStyle,children:Object(g.jsx)("span",{className:"fa fa-bell fa-md"})}),Object(g.jsxs)("div",{style:{display:this.state.styled},children:[Object(g.jsx)("div",{className:"pik pick-notification"}),Object(g.jsx)("div",{className:"row mt-4 notification",children:Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)(J,{notifications:this.props.notifications,className:"col-12",friendRequestResponse:this.props.friendRequestResponse})})})]})]})})}),Object(g.jsx)("div",{className:"itemGrupoDos",children:this.props.auth.isAuthenticated?Object(g.jsxs)(Y.a,{nav:!0,inNavbar:!0,children:[Object(g.jsx)(Z.a,{nav:!0,children:Object(g.jsx)("span",{className:"fas fa-align-justify fa-md"})}),Object(g.jsx)($.a,{right:!0,className:"dropmenu",children:Object(g.jsx)(ee.a,{onClick:this.handleLogout,children:"Logout"})})]}):null})]})]})]})})})}}]),n}(a.Component),ie=n(286),re=n(287),oe=["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas (the)","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory (the)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands (the)","Central African Republic (the)","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands (the)","Colombia","Comoros (the)","Congo (the Democratic Republic of the)","Congo (the)","Cook Islands (the)","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","C\xf4te d'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic (the)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands (the) [Malvinas]","Faroe Islands (the)","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories (the)","Gabon","Gambia (the)","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (the)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea (the Democratic People's Republic of)","Korea (the Republic of)","Kuwait","Kyrgyzstan","Lao People's Democratic Republic (the)","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands (the)","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (the Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands (the)","New Caledonia","New Zealand","Nicaragua","Niger (the)","Nigeria","Niue","Norfolk Island","Northern Mariana Islands (the)","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines (the)","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of North Macedonia","Romania","Russian Federation (the)","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan (the)","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands (the)","Tuvalu","Uganda","Ukraine","United Arab Emirates (the)","United Kingdom of Great Britain and Northern Ireland (the)","United States Minor Outlying Islands (the)","United States of America (the)","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"],ce=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleBlur=function(e){return function(t){a.setState({touched:Object(u.a)(Object(u.a)({},a.state.touched),{},Object(F.a)({},e,!0))})}},a.onSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password,sex:a.state.sex,date:a.state.date,country:a.state.country};a.props.signupUser(t).then((function(){a.props.history.push("/users/post")}))},a.state={username:"",password:"",repeatpassword:"",sex:"",date:"",country:"",touched:{password:!1,username:!1}},a.controlState=a.controlState.bind(Object(h.a)(a)),a.handleBlur=a.handleBlur.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"controlState",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(F.a)({},a,n))}},{key:"validar",value:function(e,t,n,a,s,i){var r={password:{err:"",valid:!1},repeatpassword:{err:"",valid:!1},username:{err:"",valid:!1},sex:!1,date:!1,country:!1};return this.state.touched.password&&e.length<4?r.password.err="La contrase\xf1a es DEBIL. Debe ser mayor a 4 caracteres. Recomendamos alternar numeros y letras":this.state.touched.password&&e.length>10?r.password.err="El contrase\xf1a debe ser menor o igual a 10 caracteres. Recomendamos alternar numeros y letras":""!==this.state.password&&(r.password.valid=!0),this.state.touched.repeatpassword&&t!==this.state.password?r.repeatpassword.err="CONTRASE\xd1A Y REPETIR CONTRASE\xd1A NO COINCIDEN. POR FAVOR, VALIDA ESTE COMPO DE TEXTO":this.state.touched.repeatpassword&&t.length>10?r.repeatpassword.err="El contrase\xf1a debe ser menor o igual a 10 caracteres. Recomendamos alternar numeros y letras":""!==this.state.repeatpassword&&(r.repeatpassword.valid=!0),this.state.touched.username&&!/^(\w{3,})@(gmail|hotmail|outlook).\b(com|info|web)\b/.test(n)?r.username.err="Debe cumplir el formato de email. Ej: exampe@mail.com":""!==this.state.username&&(r.username.valid=!0),""!==a&&(r.sex=!0),""!==s&&(r.date=!0),""!==i&&(r.country=!0),r}},{key:"enableForm",value:function(e){var t=!1;return""===e.password&&""===e.repeatpassword&&""===e.username&&e.valid&&(t=!0),t}},{key:"render",value:function(){var e=this.validar(this.state.password,this.state.repeatpassword,this.state.username,this.state.sex,this.state.date,this.state.country),t=!!(e.username.valid&&e.password.valid&&e.repeatpassword.valid&&e.sex&&e.date&&e.country),n=oe.map((function(e,t){return Object(g.jsx)("option",{children:e},t)}));return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsx)("div",{className:" col-sm-6 offset-sm-3",children:Object(g.jsx)("h1",{children:"Crea una cuenta nueva"})})}),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)(T.a,{onSubmit:this.onSubmit,children:[Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"username",md:2,children:"Email"}),Object(g.jsxs)(ie.a,{md:10,children:[Object(g.jsx)(R.a,{type:"email",id:"username",name:"username",placeholder:"example@mail.com",value:this.state.username,valid:""===e.username.err,invalid:""!==e.username.err,onChange:this.controlState,onBlur:this.handleBlur("username")}),Object(g.jsx)(re.a,{children:e.username.err})]})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"password",md:2,children:"Contrase\xf1a"}),Object(g.jsxs)(ie.a,{md:10,children:[Object(g.jsx)(R.a,{type:"password",id:"password",name:"password",placeholder:"password",value:this.state.password,valid:""===e.password.err,invalid:""!==e.password.err,onChange:this.controlState,onBlur:this.handleBlur("password")}),Object(g.jsx)(re.a,{children:e.password.err})]})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"repeatpassword",md:2,children:"Repetir Contrase\xf1a"}),Object(g.jsxs)(ie.a,{md:10,children:[Object(g.jsx)(R.a,{type:"password",id:"repeatpassword",name:"repeatpassword",placeholder:"repetir contrase\xf1a",value:this.state.repeatpassword,valid:""===e.repeatpassword.err,invalid:""!==e.repeatpassword.err,onChange:this.controlState,onBlur:this.handleBlur("repeatpassword")}),Object(g.jsx)(re.a,{children:e.repeatpassword.err})]})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"sex",md:2,children:"Sex"}),Object(g.jsx)(ie.a,{md:10,children:Object(g.jsxs)(R.a,{type:"select",id:"sex",name:"sex",value:this.state.sex,onChange:this.controlState,children:[Object(g.jsx)("option",{selected:!0,children:"Female"}),Object(g.jsx)("option",{children:"Male"}),Object(g.jsx)("option",{children:"Trans"})]})})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"date",md:2,children:"Fecha de Naciminento"}),Object(g.jsx)(ie.a,{md:10,children:Object(g.jsx)(R.a,{type:"date",id:"date",name:"date",placeholder:"Birth",value:this.state.date,onChange:this.controlState})})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"country",md:2,children:"Country"}),Object(g.jsx)(ie.a,{md:10,children:Object(g.jsx)(R.a,{type:"select",id:"country",name:"country",placeholder:"country",value:this.state.country,onChange:this.controlState,children:n})}),Object(g.jsx)(ie.a,{children:t?Object(g.jsx)(C.a,{type:"file",children:"Enviar"}):Object(g.jsx)(C.a,{type:"file",disabled:!0,children:"Enviar"})})]})]})})]})}}]),n}(s.a.Component),le=Object(z.g)(ce),de=n(19),ue=n.n(de),he=n(24),me=function(e){var t=e.comentarios,n=JSON.parse(localStorage.getItem("id")),a=t.map((function(t){var a=t._id;return Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("img",{className:"comment",src:P+t.author.image.filename,alt:"user/friend"}),Object(g.jsx)("h6",{className:"col-7",children:t.comment}),Object(g.jsx)("div",{className:"col-1",children:Object(g.jsxs)(Y.a,{children:[Object(g.jsx)(Z.a,{nav:!0,children:Object(g.jsx)("span",{className:"fas fa-ellipsis-v",style:t.author._id===n?{fontSize:"10px"}:{display:"none"}})}),Object(g.jsx)($.a,{right:!0,top:!0,className:"dropmenu",children:Object(g.jsx)(ee.a,{onClick:function(){return e.deleteComments(a)},children:"Delete Comment"})})]})})]})},t._id)}));return Object(g.jsx)("div",{children:a})},je=n(288),pe=function(e){var t=(e.likes?e.likes:[]).map((function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{className:"",src:P+e.image.filename,alt:"img_profile"}),Object(g.jsxs)("h3",{children:[e.firsname," ",e.lastname]})]},e._id)}));return Object(g.jsx)("div",{children:Object(g.jsxs)(I.a,{isOpen:e.isLikesModalOpen,toggle:e.toggle,children:[Object(g.jsx)(L.a,{id:"likemodal",toggle:function(t){return e.toggle(t)},children:Object(g.jsx)("span",{children:"Me gusta"})}),Object(g.jsx)(M.a,{children:Object(g.jsx)(fe,{children:Object(g.jsx)("div",{children:t})})}),Object(g.jsx)(je.a,{})]})})},fe=B.a.div(w||(w=Object(A.a)(["\ndisplay: grid;\ntext-overflow: ellipsis;\ngrid-gap: 10px;\ngrid-template-columns: 1fr 1fr 1fr;\ngrid-template-rows: 1fr;\ngrid-auto-rows: minmax(30%, 30%);\ngrid-auto-columns: minmax(30%, 30%);\nalign-items: center;\n\nh6 {\n    \n    white-space: nowrap;\n    align-items: center;\n    margin-left: 15%;\n}\nimg{\n  margin: 15%;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n}\n\n@media (max-width: 1000px) {\n  img{\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 767px) {\n  img{\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 520px) {\n  img{\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 343px) {\n  img{\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n"]))),be=function(){return Object(g.jsxs)("div",{className:"col-12",children:[Object(g.jsx)("span",{className:"fas fa-circle-notch fa-pulse fa-3x fa-fw text-primary"}),Object(g.jsx)("p",{children:"Loading . . ."})]})},ge=n(27);var xe,Oe,ve,we=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).controlState=function(e){e.preventDefault();var t=e.target,n=t.value,s=t.name;a.setState(Object(F.a)({},s,n))},a.handleimg=function(e){e.preventDefault();var t=e.target.files[0],n=URL.createObjectURL(e.target.files[0]);a.setState({image:t,imageShowen:n})},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("image",a.state.image,a.state.image.name);var n=a.props.auth.user.username;a.props.imagenUser(n,t).then((function(){window.location.reload()}))},a.handlewallimg=function(e){var t=e.target.files[0];a.setState({loadWall:t})},a.handleWallSubmit=function(e){e.preventDefault();var t=new FormData;t.append("image",a.state.loadWall,a.state.loadWall.name);var n=a.props.auth.user.username;console.log("aaa",t),console.log("aaa",a.state.loadWall.name),a.props.imagenWall(n,t).then((function(){window.location.reload()}))},a.toggleModal=function(e){var t=e.target.alt,n=e.target.id;"wall"===n?(a.setState({isModalOpen:!a.state.isModalOpen,i:e.target.src,modalType:e.target.id,imgID:t}),a.fetchComments(t),a.fetchImgLikes()):"profile"===n?a.setState({isModalOpen:!a.state.isModalOpen,i:e.target.src,modalType:e.target.id,imgID:t}):"trashId"===n?a.setState({isTrashModalOpen:!0}):"likemodal"===n?a.setState({isLikesModalOpen:!a.state.isLikesModalOpen}):"trashIdOff"===n?a.setState({isTrashModalOpen:!1}):a.setState({isModalOpen:!1,isTrashModalOpen:!1,isLikesModalOpen:!1})},a.backForthModal=function(e){var t=e.target.id,n=JSON.parse(localStorage.getItem("id"));if("back"===t){var s=a.state.i,i=a.state.arraySource.indexOf(s)-1,r=a.state.arraySource[i];a.setState({i:r}),a.fetchPhotoId(n,r),a.fetchImgLikes()}else{var o=a.state.i,c=a.state.arraySource.indexOf(o)+1,l=a.state.arraySource[c];a.setState({i:l}),a.fetchPhotoId(n,l)}},a.deletePhotograph=function(){a.setState({loading:!0});var e="Bearer "+localStorage.getItem("token"),t={userid:JSON.parse(localStorage.getItem("id")),imageid:a.state.imgID};return fetch(P+"imagen/removeimage",{method:"POST",body:JSON.stringify(t),headers:{Authorization:e,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){window.location.reload()})).catch((function(e){a.setState({loading:!1,e:e})}))},a.fetchPhotoId=function(e,t){var n={foto:t.split(P)[1]};return fetch(P+"users/returnid/".concat(e),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.result;return a.setState({imgID:t}),t})).then((function(e){a.fetchComments(e),a.fetchImgLikes()})).catch((function(e){a.setState({loading:!1,e:e})}))},a.fetchComments=function(e){return fetch(P+"comments/get-comments-image/".concat(e)).then((function(e){return e.json()})).then((function(e){a.setState({comentarios:e})})).catch((function(e){a.setState({e:e})}))},a.fetchImgLikes=Object(he.a)(ue.a.mark((function e(){var t,n,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("id"));case 2:return t=e.sent,e.next=5,a.state.imgID;case 5:return n=e.sent,s="Bearer "+localStorage.getItem("token"),e.abrupt("return",fetch(P+"likes/get-i-like-it/".concat(t,"/").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){a.setState({likes:e})})).catch((function(e){a.setState({e:e})})));case 8:case"end":return e.stop()}}),e)}))),a.deleteComments=function(e){var t="Bearer "+localStorage.getItem("token");return fetch(P+"comments/get-comments-image/".concat(e),{method:"DELETE",headers:{Authorization:t,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({comentarios:a.state.comentarios.filter((function(t){return t._id!==e._id}))})})).catch((function(e){a.setState({e:e})}))},a.handleCommentSubmit=function(e){var t={comment:e.comment,author:JSON.parse(localStorage.getItem("id")),image:a.state.imgID},n={comment:e.comment,author:a.props.user.user,image:a.state.imgID};a.props.commentsPost(t).then((function(){a.setState({comentarios:a.state.comentarios.concat(n)})}))},a.state={image:null,imageShowen:null,loadWall:null,isModalOpen:!1,isTrashModalOpen:!1,isLikesModalOpen:!1,likes:[],i:"",modalType:null,arraySource:[],imgID:null,comentarios:[]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.user.user){var t=this.props.user.user.imagesWall.map((function(e){return"".concat(P).concat(e.filename)}));this.setState({arraySource:t})}this.props.socketConection.on("chatNotification",(function(t){console.log("llego el socket main",t),e.props.inboxFetch()}))}},{key:"render",value:function(){return console.log("this.state.",this.state.loadWall),this.props.user.isLoading?Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)(be,{}),Object(g.jsx)("button",{onClick:this.handleFetch})]})}):this.props.user.errMess?Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("h4",{children:this.props.user.errMess})})}):Object(g.jsxs)("div",{children:[Object(g.jsx)(Se,{user:this.props.user.user,toggleModal:this.toggleModal,imageShowen:this.state.imageShowen,isModalOpen:this.state.isModalOpen,onSubmit:this.handleSubmit,source:this.state.i,handleimg:this.handleimg,imgProfileLoad:this.state.image,handleWallSubmit:this.handleWallSubmit,arraySource:this.state.arraySource,likes:this.state.likes,state:this.state,handlewallimg:this.handlewallimg,handleCommentSubmit:this.handleCommentSubmit,backForthModal:this.backForthModal,isTrashModalOpen:this.state.isTrashModalOpen,isLikesModalOpen:this.state.isLikesModalOpen,deletePhotograph:this.deletePhotograph,commentarios:this.state.comentarios,deleteComments:this.deleteComments}),Object(g.jsx)(ye,{imagesWall:this.props.user.user.imagesWall,handleWallSubmit:this.handleWallSubmit,state:this.state,handlewallimg:this.handlewallimg,toggleModal:this.toggleModal})]})}}]),n}(s.a.Component),Se=function(e){var t=e.user,n=e.toggleModal,s=e.imageShowen,i=e.isModalOpen,r=e.handleCommentSubmit,o=e.onSubmit,c=e.source,l=e.handleimg,d=e.arraySource,u=e.backForthModal,h=e.isTrashModalOpen,m=e.likes,j=e.handleWallSubmit,p=e.handlewallimg,f=e.state,b=e.deletePhotograph,x=e.commentarios,O=e.deleteComments,v=e.isLikesModalOpen,w=Object(a.useRef)(null);return Object(g.jsxs)("div",{children:[Object(g.jsxs)(I.a,{isOpen:i,toggle:n,size:"lg",children:[Object(g.jsx)("div",{style:i&&"wall"===f.modalType&&0!==d.indexOf(c)?{color:"black",fontSize:"40px",position:"absolute",left:"-50px",top:"40%",zIndex:"1"}:{display:"none"},children:Object(g.jsx)("span",{className:"fas fa-angle-left",id:"back",onClick:function(e){return u(e)}})}),Object(g.jsx)("div",{style:i&&"wall"===f.modalType&&d.indexOf(c)!==d.length-1?{color:"",fontSize:"40px",position:"absolute",right:"-50px",top:"40%",zIndex:"1"}:{display:"none"},children:Object(g.jsx)("span",{className:"fas fa-angle-right",id:"forth",onClick:function(e){return u(e)}})}),"profile"===f.modalType?Object(g.jsx)("div",{className:"modalprofile",children:Object(g.jsx)(T.a,{onSubmit:o,encType:"multipart/form-data",children:Object(g.jsx)(ge.LocalForm,{children:Object(g.jsx)(M.a,{toggle:n,children:Object(g.jsxs)(_.a,{htmlFor:"img",children:[Object(g.jsxs)("div",{className:"imagina",children:[null===s?Object(g.jsx)("div",{className:"hovertextfather",children:Object(g.jsx)("h6",{className:"hovertext",children:"Click For Change Your Photo"})}):null,Object(g.jsx)("img",{src:null!==s?s:c,alt:"wall grid",className:"w-100 h-100 mh-30 juajua"})]}),Object(g.jsx)(R.a,{type:"file",id:"img",name:"image",className:"btn-success",onChange:l,style:{display:"none"}}),Object(g.jsx)("div",{className:" row foot",style:null!==s?{display:"flex",alignItems:"center",justifyContent:"center"}:{display:"none"},children:Object(g.jsx)(C.a,{type:"submit",onClick:o,style:{position:"absolute"},children:"Change"})})]})})})})}):Object(g.jsx)(ge.LocalForm,{onSubmit:function(e){return r(e)},children:Object(g.jsxs)(M.a,{toggle:n,className:"modalWithoutPadding",children:[Object(g.jsx)(pe,{isLikesModalOpen:v,toggle:n,likes:m}),Object(g.jsx)(ke,{children:Object(g.jsxs)("div",{className:"modalgroup",children:[Object(g.jsxs)("div",{className:"c",children:[Object(g.jsx)("div",{className:"trashIcon",children:Object(g.jsx)(C.a,{id:"trashId",onClick:function(e){return n(e)},children:Object(g.jsx)("span",{className:" fa fa-trash-alt "})})}),Object(g.jsx)("img",{className:"resp",src:c,alt:"wall grid"})]}),Object(g.jsxs)("div",{className:"modalComments",children:[Object(g.jsx)("div",{className:"comm",children:Object(g.jsx)(me,{comentarios:x,deleteComments:O})}),Object(g.jsx)("div",{children:m.length>0?Object(g.jsxs)("h6",{children:["Le gusta esta foto a ",Object(g.jsxs)("strong",{id:"likemodal",onClick:function(e){return n(e)},children:[m.length," usuarios"]})]}):Object(g.jsx)("h6",{children:"Se el primero en marcar me gusta"})}),Object(g.jsxs)("div",{className:"foot",children:[Object(g.jsx)("div",{className:"texto",children:Object(g.jsx)(ge.Control.textarea,{model:".comment",id:"comment"})}),Object(g.jsx)("div",{className:"footButtons",children:Object(g.jsx)("div",{className:"buton btn-sm",children:Object(g.jsx)(C.a,{type:"submit",className:"btn-sm",children:Object(g.jsx)("span",{className:"fas fa-paper-plane"})})})})]})]})]})})]})}),Object(g.jsx)(Ne,{isTrashModalOpen:h,toggleModal:n,deletePhotograph:b})]}),Object(g.jsxs)("div",{className:"container ",children:[Object(g.jsx)(Ce,{children:Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)("img",{src:P+t.image.filename,alt:t._id,value:s,id:"profile",className:"img-thumbnail",onClick:function(e){return n(e)}})})}),Object(g.jsxs)("div",{className:"user-info",children:[Object(g.jsxs)("div",{className:"user-info-description",children:[Object(g.jsxs)("h5",{className:"",children:[t.firstname," ",t.lastname]}),Object(g.jsx)("h5",{className:"",children:'"'.concat(t.phrase,'"')}),Object(g.jsxs)("h5",{className:"",children:[t.followers.length," Seguidores - ",t.following.length," Seguidos"]})]}),Object(g.jsx)("div",{className:"user-info-post",children:null===f.loadWall?Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"file",id:"imgen",name:"image",onChange:p,ref:w,style:{display:"none"}}),Object(g.jsx)("button",{className:"fa fa-camera fa-md",onClick:function(){w.current.click()}})]}):void 0!==f.loadWall.name?Object(g.jsx)(T.a,{onSubmit:j,encType:"multipart/form-data",children:Object(g.jsx)(ge.LocalForm,{children:Object(g.jsx)(C.a,{onClick:j,children:"Enviar"})})}):null})]})]})]})},ye=function(e){var t=e.imagesWall,n=(e.handleWallSubmit,e.handlewallimg,e.state,e.toggleModal),s=function(){var e=Object(a.useState)([0]),t=Object(m.a)(e,2),n=t[0],s=t[1];return Object(a.useLayoutEffect)((function(){function e(){s([window.innerWidth])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),i=Object(m.a)(s,1)[0],r=t&&i>=600?t.map((function(e){return Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)("img",{className:"img-thumbnail img-grid",id:"wall",src:P+e.filename,alt:e._id,onClick:function(e){return n(e)}})},e._id)})):t.map((function(e){return Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)(z.b,{to:"/view/imagenwall/".concat(e._id),children:Object(g.jsx)("img",{className:"img-thumbnail img-grid",id:"wall",src:P+e.filename,alt:e._id,onClick:function(e){return n(e)}})})},e._id)}));return Object(g.jsx)("div",{className:"wall-container",children:r})},Ne=function(e){return Object(g.jsx)("div",{children:Object(g.jsxs)(I.a,{isOpen:e.isTrashModalOpen,toggle:e.toggleModal,children:[Object(g.jsx)(L.a,{children:"Delete Photograph"}),Object(g.jsx)(M.a,{toggle:e.toggleModal,children:"Do you want to DELETE this photograph?"}),Object(g.jsxs)(je.a,{children:[Object(g.jsx)(C.a,{color:"primary",onClick:e.deletePhotograph,children:"Delete Photo"})," ",Object(g.jsx)(C.a,{color:"secondary",onClick:e.toggleModal,children:"Cancel"})]})]})})},ke=B.a.div(S||(S=Object(A.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\n\ndiv.modalgroup {\n    display: flex;\nflex-direction: row;\njustify-content: space-between;\n}\ndiv.modalComments {\n    display: flex;\nflex-direction: column;\njustify-content: space-between;\n\n}\n\ndiv.foot {\n    display: flex;\nflex-direction: row;\n    margin-left: 5%;\n}\ndiv.footButtons {\n    display: flex;\nflex-direction: column;\n}\ndiv.comm {\n    height: 460px;\n    display: block;\n    overflow-y: scroll;\n  scroll-behavior: smooth;\n}\ndiv.c {\n    width: 450px;\n    height: 550px;\n}\nimg.resp {\n\n    width: 100%;\n    height: 100%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: contain;\n  }\n  img.comment{\n    margin-left: 5%;\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: cover;\n  }\n  @media (max-width: 991px) {\n    div.modalComments {\n      display: none;\n    }\n  }\n"]))),Ce=B.a.div(y||(y=Object(A.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\n.image-content {\n  width: 21vw;\n  height: 21vw;\n}\n\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 50%;\n}\n"]))),Ie=Object(z.g)(we),Le=function(e){return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("h3",{className:"col-md-4 offset-4",children:e.signup.successMess})}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("a",{href:"/",className:"col-md-4 offset-4",children:Object(g.jsx)("button",{className:"btn-success col-md-4 offset-4",children:"Ir a Home"})})})]})},Me=n(296),Te=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={firstname:null,lastname:null,phrase:null,status:null},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.controlState=a.controlState.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({status:this.props.user.user.publicStatus})}},{key:"controlState",value:function(e){var t=e.target,n=t.value,a=t.name;"status"===a?this.setState({status:!this.state.status}):this.setState(Object(F.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={firstname:this.state.firstname,lastname:this.state.lastname,phrase:this.state.phrase,status:this.state.status},a=this.props.user.user._id;this.props.settingsUser(a,n).then((function(){t.props.history.push("/home"),window.location.reload(!0)}))}},{key:"render",value:function(){return console.log(this.state),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"container ",children:Object(g.jsxs)(T.a,{onSubmit:this.handleSubmit,encType:"multipart/form-data",children:[Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"firstname",md:2,children:"Nombre"}),Object(g.jsxs)(ie.a,{md:10,children:[Object(g.jsx)(R.a,{type:"text",id:"firstname",name:"firstname",placeholder:"Nombre",onChange:this.controlState,value:this.state.firstname}),Object(g.jsx)(re.a,{})]})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"lastname",md:2,children:"Apellido"}),Object(g.jsxs)(ie.a,{md:10,children:[Object(g.jsx)(R.a,{type:"text",id:"lastname",name:"lastname",placeholder:"Apellido",onChange:this.controlState,value:this.state.lastname}),Object(g.jsx)(re.a,{})]})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"phrase",md:2,children:"Frase de Cabecera"}),Object(g.jsx)(ie.a,{md:10,children:Object(g.jsx)(R.a,{type:"textarea",id:"phrase",name:"phrase",placeholder:"Frase de Cabecera",onChange:this.controlState,value:this.state.phrase})})]}),Object(g.jsxs)(E.a,{row:!0,children:[Object(g.jsx)(_.a,{htmlFor:"status",md:2,children:"Estado de la cuenta"}),Object(g.jsx)(ie.a,{md:10,children:!0===this.state.status?Object(g.jsx)(Me.a,{type:"switch",id:"status",name:"status",label:"privada",onChange:this.controlState,value:this.state.status,checked:!0}):Object(g.jsx)(Me.a,{type:"switch",id:"status",name:"status",label:"publica",onChange:this.controlState,value:this.state.status})}),Object(g.jsx)(ie.a,{children:Object(g.jsx)(C.a,{type:"submit",children:"Enviar"})})]})]})})})}}]),n}(s.a.Component),Ee=Object(z.g)(Te);var _e,Re,De,Fe,Ae,Ue,Be,Pe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleFollow=function(e){var t=a.props.user.user._id,n=e;a.props.followFetch(t,n).then((function(){var e={host:a.props.match.params.idhost,user:a.props.match.params.idusers};a.props.fetchDataUser(e)}))},a.fetchData=function(){var e=a.state.results[0].imagesWall.map((function(e){return"".concat(P).concat(e.filename)}));a.setState({arraySource:e})},a.backForthModal=function(e){e.preventDefault();var t=e.target.id,n=a.state.results[0]._id;if("back"===t){var s=a.state.i,i=a.state.arraySource.indexOf(s)-1,r=a.state.arraySource[i];a.setState({i:r}),a.fetchPhotoId(e,n,r)}else{var o=a.state.i,c=a.state.arraySource.indexOf(o)+1,l=a.state.arraySource[c];a.setState({i:l}),a.fetchPhotoId(e,n,l)}},a.toggleModal=function(e,t){e.preventDefault();var n=e.target.id;"wall"===t?(a.setState({isModalOpen:!a.state.isModalOpen,i:e.target.src,imgID:n}),a.fetchComments(n),a.fetchUsersLikes(e)):"likemodal"===t?(a.setState({isLikesModalOpen:!a.state.isLikesModalOpen}),a.fetchUsersLikes(e)):a.setState({isModalOpen:!1,isTrashModalOpen:!1,isLikesModalOpen:!1})},a.fetchPhotoId=function(e,t,n){var s={foto:n.split(P)[1]};return fetch(P+"users/returnid/".concat(t),{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.result;return a.setState({imgID:t}),t})).then((function(t){a.fetchComments(t),a.fetchUsersLikes(e)})).catch((function(e){a.setState({loading:!1,e:e})}))},a.fetchComments=function(e){return fetch(P+"comments/get-comments-image/".concat(e)).then((function(e){return e.json()})).then((function(e){a.setState({comentarios:e})})).catch((function(e){a.setState({e:e})}))},a.deleteComments=function(e){var t="Bearer "+localStorage.getItem("token");return fetch(P+"comments/get-comments-image/".concat(e),{method:"DELETE",headers:{Authorization:t,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({comentarios:a.state.comentarios.filter((function(t){return t._id!==e._id}))})})).catch((function(e){a.setState({e:e})}))},a.handleLike=function(){var e=Object(he.a)(ue.a.mark((function e(t){var n,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.state.imgID;case 3:return n=e.sent,e.t0=JSON.parse(localStorage.getItem("id")),e.next=7,a.state.results[0]._id;case 7:e.t1=e.sent,s={id:e.t0,liked:e.t1},a.props.postLike(n,s).then(Object(he.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchUsersLikes(t);case 2:case"end":return e.stop()}}),e)}))));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchUsersLikes=function(){var e=Object(he.a)(ue.a.mark((function e(t){var n,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.state.results[0]._id;case 3:return n=e.sent,e.next=6,a.state.imgID;case 6:return s=e.sent,e.next=9,a.props.fetchLikes(n,s).then((function(e){a.setState({likes:a.props.likes})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!1,results:[],e:!1,isNavOpen:!1,isModalOpen:!1,i:null,arraySource:[],comentarios:[],imgID:null,likes:[],isLikesModalOpen:!1,size:null},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.socketConection.on("chatNotification",(function(t){console.log("llego el socket main",t),e.props.inboxFetch()}));var t={host:this.props.match.params.idhost,user:this.props.match.params.idusers};return!1===this.props.auth.isAuthenticated?this.props.history.push("/userpage"):t===this.props.auth.user.username?this.props.history.push("/home"):this.props.fetchDataUser(t).then((function(){e.setState({results:[e.props.users.users]}),e.fetchData()}))}},{key:"handleSubmit",value:function(e){var t=this,n={comment:e.comment,author:localStorage.getItem("id"),image:this.state.imgID},a={comment:e.comment,author:this.props.user.user,image:this.state.imgID};this.props.commentsPost(n).then((function(){t.setState({comentarios:t.state.comentarios.concat(a)})}))}},{key:"render",value:function(){var e=this;console.log("state",this.state),console.log("state",this.props.users.isLoading);var t=JSON.parse(localStorage.getItem("id")),n=this.state.likes?this.state.likes.filter((function(e){return e._id===t}))[0]:[];return Object(g.jsxs)("div",{className:"container-fluid ",children:[Object(g.jsxs)(I.a,{isOpen:this.state.isModalOpen,toggle:function(t){return e.toggleModal(t)},size:"lg",children:[Object(g.jsx)("div",{style:this.state.isModalOpen&&0!==this.state.arraySource.indexOf(this.state.i)?{color:"black",fontSize:"40px",position:"absolute",left:"-50px",top:"40%",zIndex:"1"}:{display:"none"},children:Object(g.jsx)("span",{className:"fas fa-angle-left",id:"back",onClick:function(t){return e.backForthModal(t)}})}),Object(g.jsx)("div",{style:this.state.isModalOpen&&this.state.arraySource.indexOf(this.state.i)!==this.state.arraySource.length-1?{color:"",fontSize:"40px",position:"absolute",right:"-50px",top:"40%",zIndex:"1"}:{display:"none"},children:Object(g.jsx)("span",{className:"fas fa-angle-right",id:"forth",onClick:function(t){return e.backForthModal(t)}})}),Object(g.jsx)(pe,{isLikesModalOpen:this.state.isLikesModalOpen,toggle:this.toggleModal,likes:this.state.likes}),Object(g.jsx)(ge.LocalForm,{onSubmit:function(t){return e.handleSubmit(t)},children:Object(g.jsx)(M.a,{toggle:function(t){return e.toggleModal(t)},className:"modalWithoutPadding",children:Object(g.jsx)(Je,{children:Object(g.jsxs)("div",{className:"modalgroup",children:[Object(g.jsx)("div",{className:"c",children:Object(g.jsx)("img",{className:"resp",src:this.state.i,alt:"wall grid"})}),Object(g.jsxs)("div",{className:"modalComments",children:[Object(g.jsx)("div",{className:"comm",children:Object(g.jsx)(me,{comentarios:this.state.comentarios,state:this.state,deleteComments:this.deleteComments})}),Object(g.jsx)("div",{children:this.state.likes.length>0?Object(g.jsxs)("h6",{children:["Le gusta esta foto a ",Object(g.jsxs)("strong",{onClick:function(t){return e.toggleModal(t,"likemodal")},children:[this.state.likes.length," usuarios"]})]}):Object(g.jsx)("h6",{children:"Se el primero en marcar me gusta"})}),Object(g.jsxs)("div",{className:"foot",children:[Object(g.jsx)("div",{className:"texto",children:Object(g.jsx)(ge.Control.textarea,{model:".comment",id:"comment"})}),Object(g.jsxs)("div",{className:"footButtons",children:[Object(g.jsx)("div",{className:"ml-2",children:Object(g.jsx)(C.a,{onClick:function(t){return e.handleLike(t)},children:n?Object(g.jsx)("span",{className:"fa fa-heart",style:{color:"red"}}):Object(g.jsx)("span",{className:"fa fa-heart"})})}),Object(g.jsx)("div",{className:"buton btn-sm",children:Object(g.jsx)(C.a,{type:"submit",className:"btn-sm",children:"Enviar"})})]})]})]})]})})})})]}),Object(g.jsx)("div",{children:Object(g.jsx)(ze,{loading:this.state.loading,data:this.state.results,handleFollow:this.handleFollow,followers:this.props.followers,toogle:this.toggleModal})})]})}}]),n}(s.a.Component),ze=function(e){var t=function(){var e=Object(a.useState)([0]),t=Object(m.a)(e,2),n=t[0],s=t[1];return Object(a.useLayoutEffect)((function(){function e(){s([window.innerWidth])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=Object(m.a)(t,1)[0]>=600,s=e.data;console.log("screen",document.width),console.log("screen",n);var i=s.map((function(t){var a=!0===e.loading,s=t.followers.some((function(e){return e.id._id===JSON.parse(localStorage.getItem("id"))})),i=t.notifications.some((function(e){return e.followingId===JSON.parse(localStorage.getItem("id"))}));return Object(g.jsxs)("div",{children:[Object(g.jsx)(We,{className:"",children:Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)("img",{src:P+t.image.filename,alt:"Profile One",className:"img-thumbnail"})})}),!0===a?Object(g.jsx)("div",{className:"",children:Object(g.jsx)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3 ",children:Object(g.jsx)("span",{className:"fas fa-spinner fa-spin"})})}):!0===i?Object(g.jsx)("div",{className:"",children:Object(g.jsxs)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3 ",children:[Object(g.jsx)("span",{className:"fas fa-hourglass-half fa-spin mr-2"}),"Wait Response"]})}):!1===s?Object(g.jsx)("div",{children:Object(g.jsx)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3 fas fa-user-plus",onClick:function(){return e.handleFollow(t._id)}})}):Object(g.jsx)("div",{children:Object(g.jsx)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3",children:"Siguiendo"})}),Object(g.jsx)("div",{className:"user-info",children:Object(g.jsxs)("div",{className:"user-info-description",children:[Object(g.jsxs)("h5",{className:"",children:[t.firstname," ",t.lastname]}),Object(g.jsx)("h5",{className:"",children:'"'.concat(t.phrase,'"')}),Object(g.jsxs)("h5",{className:"",children:[t.followers.length," Seguidores - ",t.following.length," Seguidos"]})]})}),t.imagesWall&&n?Object(g.jsx)(Ge,{className:"image-grid",children:t.imagesWall.map((function(t){return Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)("img",{className:"img-thumbnail img-grid",src:P+t.filename,alt:t._id,id:t._id,onClick:function(t){return e.toogle(t,"wall")}})},t._id)}))}):Object(g.jsx)(Ge,{className:"image-grid",children:t.imagesWall.map((function(e){return Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)(z.b,{to:"/view/imagenwall/".concat(e._id),children:Object(g.jsx)("img",{className:"img-thumbnail img-grid",src:P+e.filename,alt:e._id,id:e._id})})},e._id)}))})]},t._id)}));return Object(g.jsx)("div",{children:i})},We=B.a.div(xe||(xe=Object(A.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\n.image-content {\n  width: 21vw;\n  height: 21vw;\n}\n\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 50%;\n}\n"]))),Ge=B.a.div(Oe||(Oe=Object(A.a)(["\n\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    box-sizing: border-box;\n    margin: auto 5%;\n\n.image-content {\n    width: 33%;\n    height: 26vw;\n  }\n  \n  \n  .img-grid{\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n"]))),Je=B.a.div(ve||(ve=Object(A.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\n\ndiv.modalgroup {\n    display: flex;\nflex-direction: row;\njustify-content: space-between;\n}\ndiv.modalComments {\n    display: flex;\nflex-direction: column;\njustify-content: space-between;\n\n}\ndiv.foot {\n    display: flex;\nflex-direction: row;\n    margin-left: 5%;\n}\ndiv.footButtons {\n    display: flex;\nflex-direction: column;\n}\ndiv.comm {\n    height: 460px;\n    display: block;\n    overflow-y: scroll;\n  scroll-behavior: smooth;\n}\ndiv.c {\n    width: 450px;\n    height: 550px;\n}\nimg.resp {\n    \n    width: 100%;\n    height: 100%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: contain;\n  }\n  img.comment{\n    margin-left: 5%;\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: cover;\n  }\n  @media (max-width: 991px) {\n    div.modalComments {\n      display: none;\n    }\n  }\n"]))),He=Object(z.g)(Pe),qe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={data:null,comentarios:null},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.idimg,n="Bearer "+localStorage.getItem("token");return fetch("".concat(P,"imagen/view/imagenwall/").concat(t),{method:"GET",headers:{Authorization:n}}).then((function(e){return e.json()})).then((function(t){e.setState({data:t})})).then((function(){return fetch(P+"comments/get-comments-image/".concat(t)).then((function(e){return e.json()})).then((function(t){e.setState({comentarios:t})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.data?this.state.data:[],t=this.state.comentarios?this.state.comentarios:[];return Object(g.jsx)("div",{children:Object(g.jsx)(Ke,{children:Object(g.jsxs)("div",{className:"modalgroup",children:[Object(g.jsxs)("div",{className:"c",children:[Object(g.jsx)("div",{className:"trashIcon",children:Object(g.jsx)(C.a,{id:"trashId",children:Object(g.jsx)("span",{className:" fa fa-trash-alt "})})}),Object(g.jsx)("img",{src:"".concat(P).concat(e.filename),alt:e._id,className:"resp"})]}),Object(g.jsxs)("div",{className:"modalComments",children:[Object(g.jsx)("div",{className:"comm",children:Object(g.jsx)(me,{comentarios:t})}),Object(g.jsx)("div",{className:"comm-likes",children:Object(g.jsxs)("h6",{children:["Le gusta esta foto a ",Object(g.jsx)("strong",{id:"likemodal",children:"usuarios"})]})}),Object(g.jsxs)("div",{className:"foot",children:[Object(g.jsx)("div",{className:"texto",children:Object(g.jsx)(ge.Control.textarea,{model:".comment",id:"comment",className:"textarea"})}),Object(g.jsxs)("div",{className:"footButtons",children:[Object(g.jsx)("div",{children:Object(g.jsx)(C.a,{children:Object(g.jsx)("span",{className:"fa fa-heart"})})}),Object(g.jsx)("div",{className:"",children:Object(g.jsx)(C.a,{type:"submit",children:Object(g.jsx)("span",{className:"fas fa-paper-plane"})})})]})]})]})]})})})}}]),n}(s.a.Component),Ke=B.a.div(_e||(_e=Object(A.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\n\ndiv.modalgroup {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height:85vh;\n  width:70%;\n}\ndiv.modalComments {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 32%;\n  margin-left: 10px;\n}\ndiv.c {\n  width: 63%;\n}\ndiv.foot {\n  display: flex;\n  flex-direction: row; \n}\ntextarea {\n  width:100%;\n  height: 100%;\n}\ndiv.footButtons {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.foot Button {\n  // border-style: hidden;\n  color: black;\n  background-color: transparent;\n}\ndiv.comm {\n  height: 80%;\n  display: block;\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n}\n\nimg.resp {\n\n  width: 100%;\n  height: 100%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: contain;\n}\nimg.comment{\n  margin-left: 5%;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n}\n@media (max-width: 747px) {\n  div.modalgroup {\n    display: inline-block;\n    width: 100%;\n    margin-top: -21px;\n  }\n  div.modalComments {\n    display: flex;\n    justify-content: stretch;\n    width: 100%;\n    margin: 0px;\n  }\n  div.comm, div.comm-likes  {\n    display: none;\n  }\n  div.foot{\n    display: flex;\n    justify-content:stretch;\n  }\n  .texto {\n    width:100%;\n  }\n  div.c {\n    display:inline-block\n    width: 100%;\n  }\n  img.resp {\n    width: 100%;\n    object-fit: fit;\n  }\n}\n}\n"]))),Ve=Object(z.g)(qe),Qe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("id")),n=this.props.talks?this.props.talks:[];console.log("inboxwww",n);var a=n.map((function(n){var a=n.members.userOne._id===JSON.parse(localStorage.getItem("id"))?n.members.userTwo.image.filename:JSON.parse(localStorage.getItem("img")),s=n.members.userOne._id===JSON.parse(localStorage.getItem("id"))?"".concat(n.members.userTwo.firstname," ").concat(n.members.userTwo.lastname):"".concat(n.members.userOne.firstname," ").concat(n.members.userOne.lastname),i=n.talk.some((function(e){return e.author!==t&&!e.seen})),r={id:n._id,room:n.room};return console.log("x",r),Object(g.jsx)("div",{children:i?Object(g.jsx)("div",{className:"chats cursor",onClick:function(t){return e.props.inboxTalksHandler(t,r)},children:Object(g.jsxs)(Xe,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:P+a,alt:"chatimgstatus"})}),Object(g.jsx)("div",{children:Object(g.jsx)("h6",{id:n._id,children:s})})]})}):Object(g.jsx)("div",{className:"cursor",onClick:function(t){return e.props.inboxTalksHandler(t,r)},children:Object(g.jsxs)(Xe,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:P+a,alt:"chatimgstatus"})}),Object(g.jsx)("div",{children:Object(g.jsx)("h6",{id:n._id,children:s})})]})})},n._id)}));return Object(g.jsxs)("div",{className:"container-fluid inbox",children:[Object(g.jsx)("div",{className:"row m-3",children:Object(g.jsx)("h5",{children:"Chats"})}),Object(g.jsx)("div",{className:"row inboxes",children:a})]})}}]),n}(s.a.Component),Xe=B.a.div(Re||(Re=Object(A.a)(["\ndisplay: grid;\ngrid-gap: 10px;\ngrid-template-columns: 1fr 1fr 1fr;\ngrid-template-rows: 1fr;\ngrid-auto-rows: minmax(30%, 30%);\ngrid-auto-columns: minmax(30%, 30%);\nalign-items: center;\nh6 {\n    width: 100%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    align-items: center;\n    margin-left: 15%;\n}\nimg{\n  margin: 15%;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n}\n\n@media (max-width: 1000px) {\n  img{\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 767px) {\n  img{\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 520px) {\n  img{\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 343px) {\n  img{\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n"]))),Ye=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).chatContainer=s.a.createRef(),e.scrollToMyRef=function(){var t=e.chatContainer.current.scrollHeight-e.chatContainer.current.clientHeight;e.chatContainer.current.scrollTo(0,t)},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(){this.scrollToMyRef()}},{key:"render",value:function(){var e=this,t=this.props.chatTitle?this.props.chatTitle:[],n=(this.props.chatUsers!==[]?this.props.chatUsers:[])[0];console.log("inboxStatus",t);var a=t.map((function(e,t){var n=e.id.image.filename;return Object(g.jsx)("div",{children:Object(g.jsxs)(Ze,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:P+n,alt:"chatimgstatus"})}),Object(g.jsx)("div",{className:"hide-name",children:Object(g.jsxs)("h6",{children:[e.id.firstname," ",e.id.lastname]})})]})},t)})),s=n?n.talk.map((function(t){var n=t.author===JSON.parse(localStorage.getItem("id"))?e.props.chatStyle.own:e.props.chatStyle.they;return Object(g.jsx)("div",{style:n.margin,children:Object(g.jsx)("div",{style:n,children:Object(g.jsx)("h6",{children:t.content})})},t._id)})):[];return Object(g.jsxs)("div",{className:"container-fluid inbox",children:[Object(g.jsxs)("div",{className:"row m-3 align-items-center",children:[Object(g.jsx)("h5",{children:"Mensajes"}),Object(g.jsx)("div",{className:"justify-content-end",children:a})]}),Object(g.jsx)("div",{ref:this.chatContainer,className:"inboxes",children:this.props.chatTitle[0]?Object(g.jsxs)("div",{className:"message-display",children:[Object(g.jsx)("div",{className:"",children:s}),Object(g.jsx)("div",{children:Object(g.jsx)(T.a,{onSubmit:function(t){return e.props.handleSubmitInbox(t)},children:Object(g.jsx)(E.a,{className:"in-inbox",children:Object(g.jsxs)("div",{className:"chat-field",children:[Object(g.jsx)("div",{className:"chat-input",children:Object(g.jsx)(R.a,{type:"text",id:"message",name:"message",className:"h-100"})}),Object(g.jsx)("button",{type:"submit",className:"fas fa-paper-plane button-chat"})]})})})})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Estado de la Conversacion"}),Object(g.jsx)("h4",{children:"Elije una conversacion o un Amigo"})]})})]})}}]),n}(s.a.Component),Ze=B.a.div(De||(De=Object(A.a)(["\ndisplay:flex;\nalign-items: center;\njustify-content: center;\nmargin-left: 15px;\nimg{\n    margin-right: 10px;\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: cover;\n  }\n"]))),$e=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=(this.props.followers?this.props.followers:[]).map((function(t){var n=t.id._id;return Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"cursor",onClick:function(t){return e.props.inboxHandler(t,n)},children:Object(g.jsxs)(et,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:P+t.id.image.filename,alt:"chatimgstatus"})}),Object(g.jsx)("div",{children:Object(g.jsx)("h6",{children:"".concat(t.id.firstname," ").concat(t.id.lastname)})})]})})},t._id)}));return Object(g.jsxs)("div",{className:"container-fluid inbox",children:[Object(g.jsx)("div",{className:"row m-3",children:Object(g.jsx)("h5",{children:"Amigos"})}),Object(g.jsx)("div",{className:"row inboxes",children:Object(g.jsx)("h6",{className:"",children:t})})]})}}]),n}(s.a.Component),et=B.a.div(Fe||(Fe=Object(A.a)(["\ndisplay: grid;\ngrid-gap: 10px;\ngrid-template-columns: 1fr 1fr 1fr;\ngrid-template-rows: 1fr;\ngrid-auto-rows: minmax(30%, 30%);\ngrid-auto-columns: minmax(30%, 30%);\nalign-items: center;\nh6 {\n    width: 100%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    align-items: center;\n    margin-left: 15%;\n}\nimg{\n  margin: 15%;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n}\n\n@media (max-width: 1000px) {\n  img{\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 767px) {\n  img{\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 520px) {\n  img{\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 343px) {\n  img{\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n"]))),tt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).inboxTalksHandler=function(){var e=Object(he.a)(ue.a.mark((function e(t,n){var s,i,r,o,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.id,i=n.room,t.preventDefault(),r=s,o=JSON.parse(localStorage.getItem("id")),c={query:r,usuario:o,room:i},console.log("a",c),a.setState({idTalk:r}),a.props.socketConection.emit("fetchChat",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.inboxHandler=function(){var e=Object(he.a)(ue.a.mark((function e(t,n){var s,i,r,o,c,l,d,u,h;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=n,i=JSON.parse(localStorage.getItem("id")),e.next=5,a.existChat(s);case 5:r=e.sent,o=!!r[0],console.log("Wwwww",s),o&&(c=r[0].room,console.log("charlacharlacharla",o),l=r[0]._id,d={query:l,usuario:i,room:c},a.props.socketConection.emit("fetchChat",d)),a.setState({idTalk:"",room:""}),u=a.state.followers.filter((function(e){return e.id._id===s})),h=null===a.state.talks?[]:a.state.talks.filter((function(e){return e.members.userOne._id===i&&e.members.userTwo._id===s?e.members.userOne._id===i&&e.members.userTwo._id===s:e.members.userTwo._id===i&&e.members.userOne._id===s})),a.setState({chatTitle:u,chatUsers:h,room:h[0]?h[0].room:""}),console.log("chattitle",u);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.existChat=function(e){var t=JSON.parse(localStorage.getItem("id")),n=e;return null===a.state.talks?[]:a.state.talks.filter((function(e){return e.members.userOne._id===t&&e.members.userTwo._id===n?e.members.userOne._id===t&&e.members.userTwo._id===n:e.members.userTwo._id===t&&e.members.userOne._id===n}))},a.onAddItem=function(e){var t=e._id;a.setState((function(n){if(!n.talks.some((function(e){return e._id===t})))return{talks:n.talks.concat(e)}}))},a.setUserState=function(e){var t=JSON.parse(localStorage.getItem("id")),n=e.members.userOne,s=e.members.userTwo;console.log("chattitle",e),a.setState({room:e.room,chatUsers:[e],chatTitle:[{id:{_id:n._id===t?s._id:n._id,image:n._id===t?s.image:n.image,firstname:n._id===t?s.firstname:n.firstname,lastname:n._id===t?s.lastname:n.lastname,username:n._id===t?s.username:n.username}}]}),a.onAddItem(e)},a.handleSubmitInbox=function(e){e.preventDefault();var t=a.state.chatUsers[0]?a.state.chatUsers[0]._id:"",n=a.state.chatTitle[0].id._id,s=JSON.parse(localStorage.getItem("id")),i=a.state.room,r={contenido:{members:{userOne:s,userTwo:n},talk:{author:s,content:e.target.message.value}},talkId:t,roomSocket:i};e.target.message.value="",a.props.socketConection.emit("sendMessage",r)},a.state={room:"",followers:[],talks:[],chatTitle:[],chatUsers:[],id:"",loading:!1,idTalk:"",style:{own:{display:"flex",justifyContent:"flex-end",backgroundColor:"green",borderRadius:"18.2px",width:"auto",padding:"5px 10px",maxWidth:"64%",color:"white",margin:{display:"flex",justifyContent:"flex-end",margin:"7px 5px"}},they:{display:"flex",justifyContent:"flex-start",backgroundColor:"white",borderRadius:"18.2px",width:"auto",padding:"5px 10px",maxWidth:"64%",color:"green",margin:{display:"flex",justifyContent:"flex-start",margin:"7px 5px"}}}},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(he.a)(ue.a.mark((function e(){var t,n=this;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.inbox;case 2:if(!e.sent){e.next=6;break}e.t0=this.props.inbox.inbox,e.next=7;break;case 6:e.t0=[];case 7:t=e.t0,this.setState({followers:this.props.followers?this.props.followers.followers:[],talks:t}),this.props.socketConection.on("sendChat",(function(e){n.setUserState(e)}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=JSON.parse(localStorage.getItem("id"));this.props.socketConection.emit("removeuser",e)}},{key:"render",value:function(){return console.log("this.staet",this.state),console.log("this.state.talks",this.state.chatTitle),Object(g.jsxs)("div",{className:" grid-inbox",children:[Object(g.jsx)("div",{className:"grid-inbox-one",children:Object(g.jsx)(Qe,{talks:this.state.talks,inboxTalksHandler:this.inboxTalksHandler})}),Object(g.jsx)("div",{className:" grid-inbox-two",children:Object(g.jsx)(Ye,{chatTitle:this.state.chatTitle,chatUsers:this.state.chatUsers,handleSubmitInbox:this.handleSubmitInbox,chatStyle:this.state.style})}),Object(g.jsx)("div",{className:" grid-inbox-three",children:Object(g.jsx)($e,{followers:this.state.followers,talks:this.state.talks,inboxHandler:this.inboxHandler})})]})}}]),n}(s.a.Component);var nt,at=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleFollow=function(e){var t=a.props.user.user._id,n=e;a.props.followFetch(t,n).then((function(){var e=a.props.match.params.idusers;a.props.fetchDataUser(e)}))},a.fetchData=function(){var e=a.state.results[0].imagesWall.map((function(e){return"".concat(P).concat(e.filename)}));a.setState({arraySource:e})},a.backForthModal=function(e){e.preventDefault();var t=e.target.id,n=a.state.results[0]._id;if("back"===t){var s=a.state.i,i=a.state.arraySource.indexOf(s)-1,r=a.state.arraySource[i];a.setState({i:r}),a.fetchPhotoId(e,n,r)}else{var o=a.state.i,c=a.state.arraySource.indexOf(o)+1,l=a.state.arraySource[c];a.setState({i:l}),a.fetchPhotoId(e,n,l)}},a.toggleModal=function(e,t){e.preventDefault();var n=e.target.id;"wall"===t?(a.setState({isModalOpen:!a.state.isModalOpen,i:e.target.src,imgID:n}),a.fetchComments(n),a.fetchUsersLikes(e)):"likemodal"===t?(a.setState({isLikesModalOpen:!a.state.isLikesModalOpen}),a.fetchUsersLikes(e)):a.setState({isModalOpen:!1,isTrashModalOpen:!1,isLikesModalOpen:!1})},a.fetchPhotoId=function(e,t,n){var s={foto:n.split(P)[1]};return fetch(P+"users/returnid/".concat(t),{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.result;return a.setState({imgID:t}),t})).then((function(t){a.fetchComments(t),a.fetchUsersLikes(e)})).catch((function(e){a.setState({loading:!1,e:e})}))},a.fetchComments=function(e){return fetch(P+"comments/get-comments-image/".concat(e)).then((function(e){return e.json()})).then((function(e){a.setState({comentarios:e})})).catch((function(e){a.setState({e:e})}))},a.fetchUsersLikes=function(){var e=Object(he.a)(ue.a.mark((function e(t){var n,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.state.results[0]._id;case 3:return n=e.sent,e.next=6,a.state.imgID;case 6:return s=e.sent,e.next=9,a.props.fetchLikes(n,s).then((function(e){a.setState({likes:a.props.likes})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!1,results:[],e:!1,isNavOpen:!1,isModalOpen:!1,i:null,arraySource:[],comentarios:[],imgID:null,likes:[],isLikesModalOpen:!1,size:null},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:this.props.users.isLoading});var t=this.props.match.params.idusers;this.props.fetchDataUser(t).then((function(){e.setState({results:[e.props.users.users]}),e.fetchData()}))}},{key:"render",value:function(){var e=this;console.log("state",this.state),console.log("state",this.props.users.isLoading);var t=JSON.parse(localStorage.getItem("id")),n=this.state.likes?this.state.likes.filter((function(e){return e._id===t}))[0]:[];return Object(g.jsxs)("div",{className:"container-fluid ",children:[Object(g.jsxs)(I.a,{isOpen:this.state.isModalOpen,toggle:function(t){return e.toggleModal(t)},size:"lg",children:[Object(g.jsx)("div",{style:this.state.isModalOpen&&0!==this.state.arraySource.indexOf(this.state.i)?{color:"black",fontSize:"40px",position:"absolute",left:"-50px",top:"40%",zIndex:"1"}:{display:"none"},children:Object(g.jsx)("span",{className:"fas fa-angle-left",id:"back",onClick:function(t){return e.backForthModal(t)}})}),Object(g.jsx)("div",{style:this.state.isModalOpen&&this.state.arraySource.indexOf(this.state.i)!==this.state.arraySource.length-1?{color:"",fontSize:"40px",position:"absolute",right:"-50px",top:"40%",zIndex:"1"}:{display:"none"},children:Object(g.jsx)("span",{className:"fas fa-angle-right",id:"forth",onClick:function(t){return e.backForthModal(t)}})}),Object(g.jsx)(pe,{isLikesModalOpen:this.state.isLikesModalOpen,toggle:this.toggleModal,likes:this.state.likes}),Object(g.jsx)(ge.LocalForm,{onSubmit:function(t){return e.handleSubmit(t)},children:Object(g.jsx)(M.a,{toggle:function(t){return e.toggleModal(t)},className:"modalWithoutPadding",children:Object(g.jsx)(ot,{children:Object(g.jsxs)("div",{className:"modalgroup",children:[Object(g.jsx)("div",{className:"c",children:Object(g.jsx)("img",{className:"resp",src:this.state.i,alt:"wall grid"})}),Object(g.jsxs)("div",{className:"modalComments",children:[Object(g.jsx)("div",{className:"comm",children:Object(g.jsx)(me,{comentarios:this.state.comentarios,state:this.state,deleteComments:this.deleteComments})}),Object(g.jsx)("div",{children:this.state.likes.length>0?Object(g.jsxs)("h6",{children:["Le gusta esta foto a ",Object(g.jsxs)("strong",{onClick:function(t){return e.toggleModal(t,"likemodal")},children:[this.state.likes.length," usuarios"]})]}):Object(g.jsx)("h6",{children:"Se el primero en marcar me gusta"})}),Object(g.jsxs)("div",{className:"foot",children:[Object(g.jsx)("div",{className:"texto",children:Object(g.jsx)(ge.Control.textarea,{model:".comment",id:"comment"})}),Object(g.jsxs)("div",{className:"footButtons",children:[Object(g.jsx)("div",{className:"ml-2",children:Object(g.jsx)(C.a,{onClick:function(t){return e.handleLike(t)},children:n?Object(g.jsx)("span",{className:"fa fa-heart",style:{color:"red"}}):Object(g.jsx)("span",{className:"fa fa-heart"})})}),Object(g.jsx)("div",{className:"buton btn-sm",children:Object(g.jsx)(C.a,{type:"submit",className:"btn-sm",children:"Enviar"})})]})]})]})]})})})})]}),Object(g.jsx)("div",{children:Object(g.jsx)(st,{loading:this.state.loading,data:this.state.results,handleFollow:this.handleFollow,followers:this.props.followers,toogle:this.toggleModal})})]})}}]),n}(s.a.Component),st=function(e){var t=function(){var e=Object(a.useState)([0]),t=Object(m.a)(e,2),n=t[0],s=t[1];return Object(a.useLayoutEffect)((function(){function e(){s([window.innerWidth])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=Object(m.a)(t,1)[0]>=600,s=e.data;console.log("screen",document.width),console.log("screen",n);var i=s.map((function(t){var a=!0===e.loading,s=t.followers.some((function(e){return e.id._id===JSON.parse(localStorage.getItem("id"))})),i=t.notifications.some((function(e){return e.followingId===JSON.parse(localStorage.getItem("id"))}));return Object(g.jsxs)("div",{children:[Object(g.jsx)(it,{className:"",children:Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)("img",{src:P+t.image.filename,alt:"Profile One",className:"img-thumbnail"})})}),!0===a?Object(g.jsx)("div",{className:"",children:Object(g.jsx)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3 ",children:Object(g.jsx)("span",{className:"fas fa-spinner fa-spin"})})}):!0===i?Object(g.jsx)("div",{className:"",children:Object(g.jsxs)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3 ",children:[Object(g.jsx)("span",{className:"fas fa-hourglass-half fa-spin mr-2"}),"Wait Response"]})}):!1===s?Object(g.jsx)("div",{children:Object(g.jsx)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3 fas fa-user-plus",onClick:function(){return e.handleFollow(t._id)}})}):Object(g.jsx)("div",{children:Object(g.jsx)(C.a,{type:"button",className:"btn-success col-2 offset-5 mt-3",children:"Siguiendo"})}),Object(g.jsx)("div",{className:"user-info",children:Object(g.jsxs)("div",{className:"user-info-description",children:[Object(g.jsxs)("h5",{className:"",children:[t.firstname," ",t.lastname]}),Object(g.jsx)("h5",{className:"",children:'"'.concat(t.phrase,'"')}),Object(g.jsxs)("h5",{className:"",children:[t.followers.length," Seguidores - ",t.following.length," Seguidos"]})]})}),t.imagesWall&&n?Object(g.jsx)(rt,{className:"image-grid",children:t.imagesWall.map((function(t){return Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)("img",{className:"img-thumbnail img-grid",src:P+t.filename,alt:t._id,id:t._id,onClick:function(t){return e.toogle(t,"wall")}})},t._id)}))}):Object(g.jsx)(rt,{className:"image-grid",children:t.imagesWall.map((function(e){return Object(g.jsx)("div",{className:"image-content",children:Object(g.jsx)(z.b,{to:"/view/imagenwall/".concat(e._id),children:Object(g.jsx)("img",{className:"img-thumbnail img-grid",src:P+e.filename,alt:e._id,id:e._id})})},e._id)}))})]},t._id)}));return Object(g.jsx)("div",{children:i})},it=B.a.div(Ae||(Ae=Object(A.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\n.image-content {\n  width: 21vw;\n  height: 21vw;\n}\n\n\nimg {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 50%;\n}\n"]))),rt=B.a.div(Ue||(Ue=Object(A.a)(["\n\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    box-sizing: border-box;\n    margin: auto 5%;\n\n.image-content {\n    width: 33%;\n    height: 26vw;\n  }\n  \n  \n  .img-grid{\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n"]))),ot=B.a.div(Be||(Be=Object(A.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\n\ndiv.modalgroup {\n    display: flex;\nflex-direction: row;\njustify-content: space-between;\n}\ndiv.modalComments {\n    display: flex;\nflex-direction: column;\njustify-content: space-between;\n\n}\ndiv.foot {\n    display: flex;\nflex-direction: row;\n    margin-left: 5%;\n}\ndiv.footButtons {\n    display: flex;\nflex-direction: column;\n}\ndiv.comm {\n    height: 460px;\n    display: block;\n    overflow-y: scroll;\n  scroll-behavior: smooth;\n}\ndiv.c {\n    width: 450px;\n    height: 550px;\n}\nimg.resp {\n    \n    width: 100%;\n    height: 100%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: contain;\n  }\n  img.comment{\n    margin-left: 5%;\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    max-width: auto;\n    min-whidth: auto;\n    object-fit: cover;\n  }\n  @media (max-width: 991px) {\n    div.modalComments {\n      display: none;\n    }\n  }\n"]))),ct=Object(z.g)(at),lt=n(5),dt=n.n(lt),ut=n(289),ht=n(290),mt=n(291),jt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleLike=function(){var e=Object(he.a)(ue.a.mark((function e(t,n){var s,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n;case 3:s=e.sent,i={id:JSON.parse(localStorage.getItem("id")),liked:s},a.props.postLike(s,i).then(Object(he.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.fetchStart();case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={content:[],contentLoading:!0,following:[],followers:[],followingLoading:!0,usuario:JSON.parse(localStorage.getItem("creds")).username},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({content:null!==this.props.start.start?[this.props.start.start]:[],contentLoading:!this.props.start||this.props.start.isLoading,following:this.props.following?this.props.following.following:[],followers:this.props.followers?this.props.followers.followers:[],followingLoading:!this.props.following||this.props.following.isLoading}),this.props.socketConection.on("chatNotification",(function(t){console.log("llego el socket main",t),e.props.inboxFetch()}))}},{key:"handleSubmit",value:function(e,t){var n=this;t.preventDefault();var a={comment:e.comment,author:localStorage.getItem("id"),image:t.target.id};this.props.commentsPost(a).then((function(e){n.props.fetchStart()}))}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-12 col-md-8 col-lg-6 offset-md-2 ",children:Object(g.jsx)(pt,{start:this.state.content,handleLike:this.handleLike,handleSubmit:this.handleSubmit,Loading:this.state.contentLoading,usuario:this.state.usuario})}),Object(g.jsx)(ft,{following:this.state.following,followers:this.state.followers,LoadState:this.state.followingLoading,usuario:this.state.usuario})]})})}}]),n}(s.a.Component),pt=function(e){if(!0===e.Loading)return Object(g.jsx)("div",{children:Object(g.jsx)(be,{})});var t=(e.start===[]?[]:e.start[0]).map((function(t){var n=JSON.parse(localStorage.getItem("id")),a=t.imageId.likes.some((function(e){return e===n}));return Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:" backi",children:[Object(g.jsxs)("div",{className:" imagenesWallHeadFrame",children:[Object(g.jsx)(z.b,{to:"/users/profile/".concat(e.usuario,"/").concat(t.userId.username),children:Object(g.jsxs)("div",{className:"frameOne",children:[Object(g.jsx)("img",{className:"imagenesWallHead",src:P+t.userId.image.filename,alt:t.userId.image._id}),Object(g.jsxs)("h6",{className:"ml-3",children:[t.userId.firstname," ",t.userId.lastname]})]})}),Object(g.jsx)("div",{className:"frameTwo",children:Object(g.jsx)(C.a,{className:"corazon",onClick:function(n){return e.handleLike(n,t.imageId._id)},children:a?Object(g.jsx)("span",{className:"fa fa-heart",style:{color:"red"}}):Object(g.jsx)("span",{className:"fa fa-heart",style:{color:"grey"}})})})]}),Object(g.jsx)("div",{className:" img-thumbnail imagenesWallFrame",children:Object(g.jsx)("img",{className:"imagenesWall",src:P+t.imageId.filename,alt:t.imageId._id})}),Object(g.jsxs)("div",{className:"commentsAndForm",children:[Object(g.jsxs)("div",{className:"commentsWallHeadFrame",children:[void 0!==t.commento[0]?Object(g.jsx)("div",{className:"mt-2",children:Object(g.jsxs)("h6",{className:"",children:["Hay ",t.commento[0].length," comentarios"]})}):null,void 0!==t.commento[0]&&void 0===t.commento[0][0]?Object(g.jsxs)("div",{className:"commentsContent",children:[Object(g.jsx)(z.b,{to:"/users/profile/".concat(e.usuario,"/").concat(t.commento[0].author.username),children:Object(g.jsx)("h6",{className:"author",children:t.commento[0].author.username})}),Object(g.jsx)("h6",{className:"comments",children:t.commento[0].comment})]}):void 0!==t.commento[0]?Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"commentsContent",children:[Object(g.jsx)(z.b,{to:"/users/profile/".concat(e.usuario,"/").concat(t.commento[0][0].author.username),children:Object(g.jsx)("h6",{className:"author",children:t.commento[0][0].author.username})}),Object(g.jsx)("h6",{className:"comments",children:t.commento[0][0].comment})]}),Object(g.jsxs)("div",{className:"commentsContent",children:[Object(g.jsx)(z.b,{to:"/users/profile/".concat(e.usuario,"/").concat(t.commento[0][1].author.username),children:Object(g.jsx)("h6",{className:"author",children:t.commento[0][1].author.username})}),Object(g.jsx)("h6",{className:"comments",children:t.commento[0][1].comment})]})]}):Object(g.jsx)("div",{className:"mt-2 ml-0",children:Object(g.jsx)("h6",{className:"",children:"No hay comentarios todavia"})})]}),Object(g.jsx)("div",{className:"",children:Object(g.jsx)(ge.LocalForm,{onSubmit:function(t,n){return e.handleSubmit(t,n)},id:t.imageId._id,children:Object(g.jsxs)("div",{className:"inputsWallFrame",children:[Object(g.jsx)(ge.Control.textarea,{model:".comment",id:"comment",placeholder:"Comenta aqui...",className:"inputsWall"}),Object(g.jsx)(C.a,{type:"submit",className:"buttonComment",children:"Enviar"})]})})})]})]})},t._id)}));return Object(g.jsx)("div",{children:t})},ft=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).toggle=function(e){a.state.activeTab!==e&&a.setState({activeTab:e})},a.state={activeTab:"1"},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;if(!0===this.props.LoadState)return Object(g.jsx)("div",{children:Object(g.jsx)(be,{})});var t=this.props.following?this.props.following:[],n=this.props.followers?this.props.followers:[],a=t.map((function(t){return Object(g.jsx)("div",{children:Object(g.jsx)(z.b,{to:"/users/profile/".concat(e.props.usuario,"/").concat(t.id.username),children:Object(g.jsx)("div",{className:"",children:Object(g.jsxs)(gt,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:P+t.id.image.filename,alt:"chatimgstatus"})}),Object(g.jsx)("div",{children:Object(g.jsx)("h6",{id:t.id._id,children:"".concat(t.id.firstname," ").concat(t.id.lastname)})})]})})})},t._id)})),s=n.map((function(t){return Object(g.jsx)("div",{children:Object(g.jsx)(z.b,{to:"/users/profile/".concat(e.props.usuario,"/").concat(t.id.username),children:Object(g.jsx)("div",{className:"",children:Object(g.jsxs)(gt,{children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:P+t.id.image.filename,alt:"chatimgstatus"})}),Object(g.jsx)("div",{children:Object(g.jsx)("h6",{id:t.id._id,children:"".concat(t.id.firstname," ").concat(t.id.lastname)})})]})})})},t._id)}));return Object(g.jsxs)("div",{className:"d-none d-lg-block  col-3 sidenav",children:[Object(g.jsxs)(Q.a,{tabs:!0,className:"row h-5",children:[Object(g.jsx)(X.a,{className:"col-6",children:Object(g.jsx)(ut.a,{className:dt()({active:"1"===this.state.activeTab}),onClick:function(){e.toggle("1")},children:"Siguiendo"})}),Object(g.jsx)(X.a,{className:"col-6",children:Object(g.jsx)(ut.a,{className:dt()({active:"2"===this.state.activeTab}),onClick:function(){e.toggle("2")},children:"Seguidores"})})]}),Object(g.jsxs)(ht.a,{activeTab:this.state.activeTab,children:[Object(g.jsx)(mt.a,{tabId:"1",children:Object(g.jsx)("div",{className:"row scroll-aside",style:{backgroundColor:"aliceblue",borderRadius:"5%"},children:Object(g.jsx)("h6",{className:"col-md-12",children:a})})}),Object(g.jsx)(mt.a,{tabId:"2",children:Object(g.jsx)("div",{className:"row scroll-aside",style:{backgroundColor:"aliceblue",borderRadius:"5%"},children:Object(g.jsx)("h6",{className:"col-md-12",children:s})})})]})]})}}]),n}(s.a.Component),bt=jt,gt=B.a.div(nt||(nt=Object(A.a)(["\ndisplay: grid;\ngrid-gap: 10px;\ngrid-template-columns: 1fr 1fr 1fr;\ngrid-template-rows: 1fr;\ngrid-auto-rows: minmax(30%, 30%);\ngrid-auto-columns: minmax(30%, 30%);\nalign-items: center;\nborder-radius: 20%;\n\nh6 {\n    width: 100%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    align-items: center;\n    margin-left: 30px;\n}\nimg{\n  margin-top: 10px;\n  margin-left: 10px;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n}\n\n@media (max-width: 1000px) {\n  img{\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 767px) {\n  img{\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 520px) {\n  img{\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n@media (max-width: 343px) {\n  img{\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  max-width: auto;\n  min-whidth: auto;\n  object-fit: cover;\n  }\n}\n"]))),xt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)(H.a,{className:"navbar-dark nav-signup",expand:"md",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(K.a,{className:"mr-auto",href:"/",children:Object(g.jsx)("img",{src:P+"images/0.png",height:"30",width:"41",alt:"Red Social"})}),Object(g.jsx)(V.a,{navbar:!0,children:Object(g.jsx)(Q.a,{navbar:!0,children:Object(g.jsx)(X.a,{children:Object(g.jsxs)(z.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("span",{className:"fa fa-home fa-lg"})," Home"]})})})})]})})})}}]),n}(a.Component),Ot=n(157),vt=n.n(Ot),wt=n(35),St="SIGNUP_SUCCESS",yt="SIGNUP_FAILURE",Nt="USER_SUCCESS",kt="USER_ERROR",Ct="USER_LOADING",It="USERS_SUCCESS",Lt="USERS_ERROR",Mt="USERS_LOADING",Tt="LOGIN_REQUEST",Et="LOGIN_SUCCESS",_t="LOGIN_FAILURE",Rt="LOGOUT_REQUEST",Dt="LOGOUT_SUCCESS",Ft="SETTINGS_SUCCESS",At="SETTINGS_FAILURE",Ut="NOTIFICATION_LOADING",Bt="NOTIFICATION_SUCCESS",Pt="NOTIFICATION_ERROR",zt="FOLLOWERS_LOADING",Wt="FOLLOWERS_SUCCESS",Gt="FOLLOWERS_ERROR",Jt="FOLLOWING_LOADING",Ht="FOLLOWING_SUCCESS",qt="FOLLOWING_ERROR",Kt="LIKES_ADD",Vt="LIKES_LOADING",Qt="LIKES_FAILED",Xt="START_ADD",Yt="START_LOADING",Zt="START_FAILED",$t="INBOX_SUCCESS",en="INBOX_LOADING",tn="INBOX_FAILED",nn=function(){return function(e){e(an());var t="Bearer "+localStorage.getItem("token"),n=JSON.parse(localStorage.getItem("id"));return fetch(P+"start/publications/".concat(n),{method:"GET",headers:{Authorization:t}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(rn(t))})).then((function(t){return e(dn())})).catch((function(t){return e(sn(t.message))}))}},an=function(){return{type:Yt}},sn=function(e){return{type:Zt,payload:e}},rn=function(e){return{type:Xt,payload:e}},on=function(e){return{type:St,payload:e}},cn=function(e){return{type:yt,payload:e}},ln=function(e){return function(t){return t(function(e){return{type:Tt,creds:e}}(e)),fetch(P+"users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(n){if(!n.success){var a=new Error("Error "+n.status);throw a.response=n,a}localStorage.setItem("token",n.token),localStorage.setItem("creds",JSON.stringify(e)),localStorage.setItem("id",JSON.stringify(n.userdata._id)),localStorage.setItem("img",JSON.stringify(n.userdata.image.filename));var s=n.userdata.username;t(function(e){return{type:Et,token:e.token,userdata:e}}(n)),t(pn(s)),t(yn(s)),t(In()),t(En()),t(nn())})).catch((function(e){return t((n=e.message,{type:_t,message:n}));var n}))}},dn=function(){return function(e){e(un()),console.log("sssssssssssssssssssssss");var t=JSON.parse(localStorage.getItem("id")),n="Bearer "+localStorage.getItem("token");return fetch(P+"inbox-message/getch/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){if(e.ok)return console.log("sssssssssssssssssssssss1"),e;var t=new Error("Setting Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(n){var a=n.some((function(e){return e.talk.some((function(e){return e.author!==t&&!1===e.seen}))}));console.log("1111111",a),e(mn(n,a))})).catch((function(t){return e(hn(t.message))}))}},un=function(){return{type:en}},hn=function(e){return{type:tn,payload:e}},mn=function(e,t){return{type:$t,payload:e,read:t}},jn=function(){return function(e){e({type:Rt}),localStorage.removeItem("token"),localStorage.removeItem("creds"),localStorage.removeItem("id"),localStorage.removeItem("img"),e({type:Dt})}},pn=function(e){return function(t){t(fn());var n="Bearer "+localStorage.getItem("token");return fetch(P+"users/"+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("img",JSON.stringify(e.image.filename)),t(bn(e))})).catch((function(e){return t(gn(e))}))}},fn=function(){return{type:Ct}},bn=function(e){return{type:Nt,user:e}},gn=function(e){return{type:kt,errMess:e}},xn=function(){return{type:Mt}},On=function(e){return{type:It,user:e}},vn=function(e){return{type:Lt,errMess:e}},wn=function(e){return{type:Ft,payload:e}},Sn=function(e){return{type:At,payload:e}},yn=function(e){return function(t){t(Nn());var n="Bearer "+localStorage.getItem("token");return fetch(P+"notification/user-notifications/get/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(e){t(kn(e))})).catch((function(e){return t(Cn(e.message))}))}},Nn=function(){return{type:Ut}},kn=function(e){return{type:Bt,payload:e}},Cn=function(e){return{type:Pt,ERR:e}},In=function(){return function(e){e(Ln());var t="Bearer "+localStorage.getItem("token"),n=JSON.parse(localStorage.getItem("id"));return fetch(P+"users/followers-notifications-return/".concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){e(Mn(t))})).catch((function(t){return e(Tn(t.message))}))}},Ln=function(){return{type:zt}},Mn=function(e){return{type:Wt,payload:e}},Tn=function(e){return{type:Gt,ERR:e}},En=function(){return function(e){e(_n());var t="Bearer "+localStorage.getItem("token"),n=JSON.parse(localStorage.getItem("id"));return fetch(P+"users/following/".concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:t}}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t})).then((function(e){return e.json()})).then((function(t){e(Rn(t))})).catch((function(t){return e(Dn(t.message))}))}},_n=function(){return{type:Jt}},Rn=function(e){return{type:Ht,payload:e}},Dn=function(e){return{type:qt,ERR:e}},Fn=function(){return{type:Vt}},An=function(e){return{type:Qt,payload:e}},Un=function(e){return{type:Kt,payload:e}},Bn=vt()(P),Pn=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){if(this.props.auth.isAuthenticated){var e=this.props.auth.user.username;this.props.fetchUser(e)}if(this.props.auth.isAuthenticated){var t=this.props.auth.user.username,n=JSON.parse(localStorage.getItem("id"));this.props.fetchStart(),this.props.fetchNotifications(t),this.props.fetchFollowers(),this.props.fetchFollowing(),Bn.emit("username",{id:n,name:t})}}},{key:"render",value:function(){var e=this;console.log("socket",Bn);var t=function(){return e.props.auth.isAuthenticated?Object(g.jsx)(se,{auth:e.props.auth,inbox:e.props.inbox,logoutUser:e.props.logoutUser,searchUsers:e.props.searchUsers,search:e.props.search,user:e.props.user,notifications:e.props.notifications,friendRequestResponse:e.props.friendRequestResponse,handleNotificationStatus:e.props.handleNotificationStatus}):"/"===e.props.location.pathname?null:Object(g.jsx)(xt,{})};return Object(g.jsxs)("div",{children:[Object(g.jsx)(t,{}),Object(g.jsx)("div",{children:Object(g.jsxs)(z.f,{children:[Object(g.jsx)(z.e,{exact:!0,path:"/",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(z.d,{to:"/start"}):Object(g.jsx)(D,{loginUser:e.props.loginUser})}}),Object(g.jsx)(z.e,{exact:!0,path:"/start",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(bt,{start:e.props.start,following:e.props.following,followers:e.props.followers,commentsPost:e.props.commentsPost,fetchStart:e.props.fetchStart,postLike:e.props.postLike,fetchLikes:e.props.fetchLikes,socketConection:Bn,inboxFetch:e.props.inboxFetch}):Object(g.jsx)(z.d,{to:"/"})}}),Object(g.jsx)(z.e,{exact:!0,path:"/users/signup",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(z.d,{to:"/"}):Object(g.jsx)(le,{signupUser:e.props.signupUser})}}),Object(g.jsx)(z.e,{exact:!0,path:"/view/imagenwall/:idimg",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(Ve,{}):Object(g.jsx)(z.d,{to:"/"})}}),Object(g.jsx)(z.e,{exact:!0,path:"/users/post",component:function(){return Object(g.jsx)(Le,{signup:e.props.signup})}}),Object(g.jsx)(z.e,{exact:!0,path:"/userpage",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(Ie,{imagenUser:e.props.imagenUser,imagenWall:e.props.imagenWall,user:e.props.user,auth:e.props.auth,commentsPost:e.props.commentsPost,fetchLikes:e.props.fetchLikes,likes:e.props.likes.likes,socketConection:Bn,inboxFetch:e.props.inboxFetch}):Object(g.jsx)(z.d,{to:"/"})}}),Object(g.jsx)(z.e,{exact:!0,path:"/inbox",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(tt,{followers:e.props.followers,inbox:e.props.inbox,socketConection:Bn}):Object(g.jsx)(z.d,{to:"/"})}}),Object(g.jsx)(z.e,{exact:!0,path:"/users/settings",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(Ee,{settingsUser:e.props.settingsUser,user:e.props.user,auth:e.props.auth}):Object(g.jsx)(z.d,{to:"/"})}}),Object(g.jsx)(z.e,{exact:!0,path:"/users/profile/:idhost/:idusers",render:function(t){return Object(g.jsx)(He,Object(u.a)(Object(u.a)({},t),{},{auth:e.props.auth,followFetch:e.props.followFetch,user:e.props.user,followers:e.props.followers,fetchDataUser:e.props.fetchDataUser,users:e.props.users,commentsPost:e.props.commentsPost,postLike:e.props.postLike,fetchLikes:e.props.fetchLikes,likes:e.props.likes.likes,socketConection:Bn,inboxFetch:e.props.inboxFetch}))}}),Object(g.jsx)(z.e,{exact:!0,path:"/:idUsuario",component:function(){return e.props.auth.isAuthenticated?Object(g.jsx)(z.d,{to:"/start"}):Object(g.jsx)(ct,{})}}),Object(g.jsx)(z.d,{to:"/"})]})})]})}}]),n}(a.Component),zn=Object(z.g)(Object(wt.connect)((function(e){return{auth:e.auth,user:e.user,users:e.users,signup:e.signup,start:e.start,inbox:e.inbox,settings:e.settings,notifications:e.notifications,followers:e.followers,following:e.following,likes:e.likes}}),(function(e){return{loginUser:function(t){return e(ln(t))},logoutUser:function(){return e(jn())},fetchUser:function(t){return e(pn(t))},signupUser:function(t){return e(function(e){return function(t){var n={username:e.username,password:e.password,date:e.date,sex:e.sex,country:e.country};return fetch(P+"users/signup",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){var n=e.status;t(on(n))})).catch((function(e){var n=e.status;t(cn(n))}))}}(t))},fetchStart:function(){return e(nn())},inboxFetch:function(){return e(dn())},settingsUser:function(t,n){return e(function(e,t){return function(n){var a={firstname:t.firstname,lastname:t.lastname,phrase:t.phrase,status:t.status},s="Bearer "+localStorage.getItem("token");return fetch(P+"users/settings/"+e,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Setting Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){var t=e.status;n(wn(t))})).catch((function(e){var t=e.status;n(Sn(t))}))}}(t,n))},imagenUser:function(t,n){return e(function(e,t){return function(n){var a="Bearer "+localStorage.getItem("token");return console.log("imagenredux",e),console.log("000000000000000000000000000000000000000",t),fetch(P+"imagen/"+e,{method:"POST",body:t,headers:{Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Image Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){console.log("response",e)})).catch((function(e){console.log("SETTINGS ERROR")}))}}(t,n))},imagenWall:function(t,n){return e(function(e,t){return function(n){var a="Bearer "+localStorage.getItem("token");return console.log("imagenredux",e),console.log("000000000000000000000000000000000000000",t),fetch(P+"imagen/imageswall/"+e,{method:"POST",body:t,headers:{Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Image Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){console.log("response",e)})).catch((function(e){console.log("SETTINGS ERROR")}))}}(t,n))},fetchNotifications:function(t){return e(yn(t))},followFetch:function(t,n){return e(function(e,t){return function(n){var a={followingId:e,message:"Friend Request"},s="Bearer "+localStorage.getItem("token");return fetch(P+"notification/following-user/send/".concat(t),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:s}}).then((function(e){if(e.ok)return e;var t=new Error("Setting Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)}))}}(t,n))},friendRequestResponse:function(t){return e(function(e){return function(t){var n={action:e.action,followingId:JSON.parse(localStorage.getItem("id"))},a="Bearer "+localStorage.getItem("token");return fetch(P+"notification/following-request/".concat(e.followerId,"/").concat(e.notiId),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:a}}).then((function(e){if(e.ok)return e;var t=new Error("Setting Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)}))}}(t))},fetchFollowers:function(){return e(In())},fetchFollowing:function(){return e(En())},handleNotificationStatus:function(){return e((function(e){e({type:"NOTIFICATION_STATUS"})}))},commentsPost:function(t){return e((n=t,function(e){var t={comment:n.comment,author:n.author,image:n.image},a="Bearer "+localStorage.getItem("token");return fetch(P+"comments/post-comment",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"})}));var n},postLike:function(t,n){return e(function(e,t){return function(){var n=Object(he.a)(ue.a.mark((function n(a){var s,i;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.id;case 2:return n.t0=n.sent,n.next=5,t.liked;case 5:return n.t1=n.sent,s={id:n.t0,liked:n.t1},i="Bearer "+localStorage.getItem("token"),n.t2=fetch,n.t3=P+"likes/post-i-like-it/",n.next=12,e;case 12:return n.t4=n.sent,n.t5=n.t3+n.t4,n.t6={method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Authorization:i},credentials:"same-origin"},n.abrupt("return",(0,n.t2)(n.t5,n.t6).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){console.log("Favorite Added",e)})).catch((function(e){return console.log(e.message)})));case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},fetchLikes:function(t,n){return e(function(e,t){return function(n){n(Fn());var a="Bearer "+localStorage.getItem("token");return fetch(P+"likes/get-i-like-it/".concat(e,"/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return n(Un(e))})).catch((function(e){return n(An(e.message))}))}}(t,n))},fetchDataUser:function(t){return e(function(e){return function(t){t(xn());var n="Bearer "+localStorage.getItem("token");return fetch(P+"users/profile/".concat(e.host,"/").concat(e.user),{method:"GET",headers:{"Content-Type":"application/json",Authorization:n}}).then((function(e){return e.json()})).then((function(e){t(On(e))})).catch((function(e){return t(vn(e))}))}}(t))}}}))(Pn)),Wn=n(37),Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("creds")?JSON.parse(localStorage.getItem("creds")):null,errMess:null,id:localStorage.getItem("id")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isAuthenticated:!1,user:t.creds});case Et:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isAuthenticated:!0,errMess:"",token:t.token});case _t:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isAuthenticated:!1,errMess:t.message});case Rt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,isAuthenticated:!0});case Dt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,isAuthenticated:!1,id:"",token:"",user:null});default:return e}},Jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:null,user:t.user});case Ct:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,errMess:null,user:null});case kt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:t.errMess,user:null});default:return e}},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,users:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:null,users:t.user});case Mt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,errMess:null,users:null});case Lt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:t.errMess,users:null});default:return e}},qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMess:null,successMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case St:return Object(u.a)(Object(u.a)({},e),{},{errMess:null,successMess:t.payload});case yt:return Object(u.a)(Object(u.a)({},e),{},{errMess:t.payload,successMess:null});default:return e}},Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,start:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:null,start:t.payload});case Yt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,errMess:null,start:null});case Zt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:t.payload,start:null});default:return e}},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,errMess:null,inbox:null,read:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $t:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:null,inbox:t.payload,read:t.read});case en:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,errMess:null,inbox:null,read:!1});case tn:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:t.payload,inbox:null,read:!1});default:return e}},Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMess:null,successMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return Object(u.a)(Object(u.a)({},e),{},{errMess:null,successMess:t.payload});case At:return Object(u.a)(Object(u.a)({},e),{},{errMess:t.payload,successMess:null});default:return e}},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:null,results:[],errMess:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,results:[],errMess:!1});case Bt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:null,results:t.payload,errMess:!1});case Pt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:null,results:[],errMess:t.ERR});default:return e}},Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:null,followers:[],notif:[],errmessage:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,followers:[],notif:[],errmessage:null});case Wt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:null,followers:t.payload.follow,notif:t.payload.notif,errmessage:null});case Gt:return Object(u.a)(Object(u.a)({},e),{},{iisLoading:null,followers:[],notif:[],errmessage:t.ERR});default:return e}},Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,following:[],errmessage:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,following:[],errmessage:null});case Ht:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,following:t.payload.follow,errmessage:null});case qt:return Object(u.a)(Object(u.a)({},e),{},{iisLoading:!1,following:[],errmessage:t.ERR});default:return e}},$n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,likes:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:null,likes:t.payload});case Vt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0,errMess:null,likes:null});case Qt:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,errMess:t.payload,likes:null});default:return e}},ea=n(158),ta=n.n(ea),na=n(159),aa=n.n(na),sa=Object(Wn.createStore)(Object(Wn.combineReducers)({auth:Gn,user:Jn,users:Hn,signup:qn,inbox:Vn,start:Kn,setings:Qn,notifications:Xn,followers:Yn,following:Zn,likes:$n}),Object(Wn.applyMiddleware)(ta.a,aa.a)),ia=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsx)(wt.Provider,{store:sa,children:Object(g.jsx)(z.a,{children:Object(g.jsx)("div",{children:Object(g.jsx)(zn,{})})})})}}]),n}(a.Component),ra=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function oa(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(g.jsx)(ia,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ra?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):oa(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):oa(e)}))}}()}},[[270,1,2]]]);
//# sourceMappingURL=main.631818f4.chunk.js.map